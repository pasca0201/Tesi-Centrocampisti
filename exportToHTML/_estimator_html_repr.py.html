<html>
<head>
<title>_estimator_html_repr.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cf8e6d;}
.s1 { color: #bcbec4;}
.s2 { color: #bcbec4;}
.s3 { color: #5f826b; font-style: italic;}
.s4 { color: #2aacb8;}
.s5 { color: #6aab73;}
.s6 { color: #7a7e85;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
_estimator_html_repr.py</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">html</span>
<span class="s0">import </span><span class="s1">itertools</span>
<span class="s0">from </span><span class="s1">contextlib </span><span class="s0">import </span><span class="s1">closing</span>
<span class="s0">from </span><span class="s1">inspect </span><span class="s0">import </span><span class="s1">isclass</span>
<span class="s0">from </span><span class="s1">io </span><span class="s0">import </span><span class="s1">StringIO</span>
<span class="s0">from </span><span class="s1">pathlib </span><span class="s0">import </span><span class="s1">Path</span>
<span class="s0">from </span><span class="s1">string </span><span class="s0">import </span><span class="s1">Template</span>

<span class="s0">from </span><span class="s2">.. </span><span class="s0">import </span><span class="s1">__version__</span><span class="s2">, </span><span class="s1">config_context</span>
<span class="s0">from </span><span class="s2">.</span><span class="s1">fixes </span><span class="s0">import </span><span class="s1">parse_version</span>


<span class="s0">class </span><span class="s1">_IDCounter</span><span class="s2">:</span>
    <span class="s3">&quot;&quot;&quot;Generate sequential ids with a prefix.&quot;&quot;&quot;</span>

    <span class="s0">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">prefix</span><span class="s2">):</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">prefix </span><span class="s2">= </span><span class="s1">prefix</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">count </span><span class="s2">= </span><span class="s4">0</span>

    <span class="s0">def </span><span class="s1">get_id</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">count </span><span class="s2">+= </span><span class="s4">1</span>
        <span class="s0">return </span><span class="s5">f&quot;</span><span class="s0">{</span><span class="s1">self</span><span class="s2">.</span><span class="s1">prefix</span><span class="s0">}</span><span class="s5">-</span><span class="s0">{</span><span class="s1">self</span><span class="s2">.</span><span class="s1">count</span><span class="s0">}</span><span class="s5">&quot;</span>


<span class="s0">def </span><span class="s1">_get_css_style</span><span class="s2">():</span>
    <span class="s0">return </span><span class="s1">Path</span><span class="s2">(</span><span class="s1">__file__</span><span class="s2">).</span><span class="s1">with_suffix</span><span class="s2">(</span><span class="s5">&quot;.css&quot;</span><span class="s2">).</span><span class="s1">read_text</span><span class="s2">(</span><span class="s1">encoding</span><span class="s2">=</span><span class="s5">&quot;utf-8&quot;</span><span class="s2">)</span>


<span class="s1">_CONTAINER_ID_COUNTER </span><span class="s2">= </span><span class="s1">_IDCounter</span><span class="s2">(</span><span class="s5">&quot;sk-container-id&quot;</span><span class="s2">)</span>
<span class="s1">_ESTIMATOR_ID_COUNTER </span><span class="s2">= </span><span class="s1">_IDCounter</span><span class="s2">(</span><span class="s5">&quot;sk-estimator-id&quot;</span><span class="s2">)</span>
<span class="s1">_CSS_STYLE </span><span class="s2">= </span><span class="s1">_get_css_style</span><span class="s2">()</span>


<span class="s0">class </span><span class="s1">_VisualBlock</span><span class="s2">:</span>
    <span class="s3">&quot;&quot;&quot;HTML Representation of Estimator 
 
    Parameters 
    ---------- 
    kind : {'serial', 'parallel', 'single'} 
        kind of HTML block 
 
    estimators : list of estimators or `_VisualBlock`s or a single estimator 
        If kind != 'single', then `estimators` is a list of 
        estimators. 
        If kind == 'single', then `estimators` is a single estimator. 
 
    names : list of str, default=None 
        If kind != 'single', then `names` corresponds to estimators. 
        If kind == 'single', then `names` is a single string corresponding to 
        the single estimator. 
 
    name_details : list of str, str, or None, default=None 
        If kind != 'single', then `name_details` corresponds to `names`. 
        If kind == 'single', then `name_details` is a single string 
        corresponding to the single estimator. 
 
    dash_wrapped : bool, default=True 
        If true, wrapped HTML element will be wrapped with a dashed border. 
        Only active when kind != 'single'. 
    &quot;&quot;&quot;</span>

    <span class="s0">def </span><span class="s1">__init__</span><span class="s2">(</span>
        <span class="s1">self</span><span class="s2">, </span><span class="s1">kind</span><span class="s2">, </span><span class="s1">estimators</span><span class="s2">, *, </span><span class="s1">names</span><span class="s2">=</span><span class="s0">None</span><span class="s2">, </span><span class="s1">name_details</span><span class="s2">=</span><span class="s0">None</span><span class="s2">, </span><span class="s1">dash_wrapped</span><span class="s2">=</span><span class="s0">True</span>
    <span class="s2">):</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">kind </span><span class="s2">= </span><span class="s1">kind</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">estimators </span><span class="s2">= </span><span class="s1">estimators</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">dash_wrapped </span><span class="s2">= </span><span class="s1">dash_wrapped</span>

        <span class="s0">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">kind </span><span class="s0">in </span><span class="s2">(</span><span class="s5">&quot;parallel&quot;</span><span class="s2">, </span><span class="s5">&quot;serial&quot;</span><span class="s2">):</span>
            <span class="s0">if </span><span class="s1">names </span><span class="s0">is None</span><span class="s2">:</span>
                <span class="s1">names </span><span class="s2">= (</span><span class="s0">None</span><span class="s2">,) * </span><span class="s1">len</span><span class="s2">(</span><span class="s1">estimators</span><span class="s2">)</span>
            <span class="s0">if </span><span class="s1">name_details </span><span class="s0">is None</span><span class="s2">:</span>
                <span class="s1">name_details </span><span class="s2">= (</span><span class="s0">None</span><span class="s2">,) * </span><span class="s1">len</span><span class="s2">(</span><span class="s1">estimators</span><span class="s2">)</span>

        <span class="s1">self</span><span class="s2">.</span><span class="s1">names </span><span class="s2">= </span><span class="s1">names</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">name_details </span><span class="s2">= </span><span class="s1">name_details</span>

    <span class="s0">def </span><span class="s1">_sk_visual_block_</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s0">return </span><span class="s1">self</span>


<span class="s0">def </span><span class="s1">_write_label_html</span><span class="s2">(</span>
    <span class="s1">out</span><span class="s2">,</span>
    <span class="s1">name</span><span class="s2">,</span>
    <span class="s1">name_details</span><span class="s2">,</span>
    <span class="s1">outer_class</span><span class="s2">=</span><span class="s5">&quot;sk-label-container&quot;</span><span class="s2">,</span>
    <span class="s1">inner_class</span><span class="s2">=</span><span class="s5">&quot;sk-label&quot;</span><span class="s2">,</span>
    <span class="s1">checked</span><span class="s2">=</span><span class="s0">False</span><span class="s2">,</span>
    <span class="s1">doc_link</span><span class="s2">=</span><span class="s5">&quot;&quot;</span><span class="s2">,</span>
    <span class="s1">is_fitted_css_class</span><span class="s2">=</span><span class="s5">&quot;&quot;</span><span class="s2">,</span>
    <span class="s1">is_fitted_icon</span><span class="s2">=</span><span class="s5">&quot;&quot;</span><span class="s2">,</span>
<span class="s2">):</span>
    <span class="s3">&quot;&quot;&quot;Write labeled html with or without a dropdown with named details. 
 
    Parameters 
    ---------- 
    out : file-like object 
        The file to write the HTML representation to. 
    name : str 
        The label for the estimator. It corresponds either to the estimator class name 
        for a simple estimator or in the case of a `Pipeline` and `ColumnTransformer`, 
        it corresponds to the name of the step. 
    name_details : str 
        The details to show as content in the dropdown part of the toggleable label. It 
        can contain information such as non-default parameters or column information for 
        `ColumnTransformer`. 
    outer_class : {&quot;sk-label-container&quot;, &quot;sk-item&quot;}, default=&quot;sk-label-container&quot; 
        The CSS class for the outer container. 
    inner_class : {&quot;sk-label&quot;, &quot;sk-estimator&quot;}, default=&quot;sk-label&quot; 
        The CSS class for the inner container. 
    checked : bool, default=False 
        Whether the dropdown is folded or not. With a single estimator, we intend to 
        unfold the content. 
    doc_link : str, default=&quot;&quot; 
        The link to the documentation for the estimator. If an empty string, no link is 
        added to the diagram. This can be generated for an estimator if it uses the 
        `_HTMLDocumentationLinkMixin`. 
    is_fitted_css_class : {&quot;&quot;, &quot;fitted&quot;} 
        The CSS class to indicate whether or not the estimator is fitted. The 
        empty string means that the estimator is not fitted and &quot;fitted&quot; means that the 
        estimator is fitted. 
    is_fitted_icon : str, default=&quot;&quot; 
        The HTML representation to show the fitted information in the diagram. An empty 
        string means that no information is shown. 
    &quot;&quot;&quot;</span>
    <span class="s6"># we need to add some padding to the left of the label to be sure it is centered</span>
    <span class="s1">padding_label </span><span class="s2">= </span><span class="s5">&quot;&amp;nbsp;&quot; </span><span class="s0">if </span><span class="s1">is_fitted_icon </span><span class="s0">else </span><span class="s5">&quot;&quot;  </span><span class="s6"># add padding for the &quot;i&quot; char</span>

    <span class="s1">out</span><span class="s2">.</span><span class="s1">write</span><span class="s2">(</span>
        <span class="s5">f'&lt;div class=&quot;</span><span class="s0">{</span><span class="s1">outer_class</span><span class="s0">}</span><span class="s5">&quot;&gt;&lt;div'</span>
        <span class="s5">f' class=&quot;</span><span class="s0">{</span><span class="s1">inner_class</span><span class="s0">} {</span><span class="s1">is_fitted_css_class</span><span class="s0">} </span><span class="s5">sk-toggleable&quot;&gt;'</span>
    <span class="s2">)</span>
    <span class="s1">name </span><span class="s2">= </span><span class="s1">html</span><span class="s2">.</span><span class="s1">escape</span><span class="s2">(</span><span class="s1">name</span><span class="s2">)</span>

    <span class="s0">if </span><span class="s1">name_details </span><span class="s0">is not None</span><span class="s2">:</span>
        <span class="s1">name_details </span><span class="s2">= </span><span class="s1">html</span><span class="s2">.</span><span class="s1">escape</span><span class="s2">(</span><span class="s1">str</span><span class="s2">(</span><span class="s1">name_details</span><span class="s2">))</span>
        <span class="s1">label_class </span><span class="s2">= (</span>
            <span class="s5">f&quot;sk-toggleable__label </span><span class="s0">{</span><span class="s1">is_fitted_css_class</span><span class="s0">} </span><span class="s5">sk-toggleable__label-arrow&quot;</span>
        <span class="s2">)</span>

        <span class="s1">checked_str </span><span class="s2">= </span><span class="s5">&quot;checked&quot; </span><span class="s0">if </span><span class="s1">checked </span><span class="s0">else </span><span class="s5">&quot;&quot;</span>
        <span class="s1">est_id </span><span class="s2">= </span><span class="s1">_ESTIMATOR_ID_COUNTER</span><span class="s2">.</span><span class="s1">get_id</span><span class="s2">()</span>

        <span class="s0">if </span><span class="s1">doc_link</span><span class="s2">:</span>
            <span class="s1">doc_label </span><span class="s2">= </span><span class="s5">&quot;&lt;span&gt;Online documentation&lt;/span&gt;&quot;</span>
            <span class="s0">if </span><span class="s1">name </span><span class="s0">is not None</span><span class="s2">:</span>
                <span class="s1">doc_label </span><span class="s2">= </span><span class="s5">f&quot;&lt;span&gt;Documentation for </span><span class="s0">{</span><span class="s1">name</span><span class="s0">}</span><span class="s5">&lt;/span&gt;&quot;</span>
            <span class="s1">doc_link </span><span class="s2">= (</span>
                <span class="s5">f'&lt;a class=&quot;sk-estimator-doc-link </span><span class="s0">{</span><span class="s1">is_fitted_css_class</span><span class="s0">}</span><span class="s5">&quot;'</span>
                <span class="s5">f' rel=&quot;noreferrer&quot; target=&quot;_blank&quot; href=&quot;</span><span class="s0">{</span><span class="s1">doc_link</span><span class="s0">}</span><span class="s5">&quot;&gt;?</span><span class="s0">{</span><span class="s1">doc_label</span><span class="s0">}</span><span class="s5">&lt;/a&gt;'</span>
            <span class="s2">)</span>
            <span class="s1">padding_label </span><span class="s2">+= </span><span class="s5">&quot;&amp;nbsp;&quot;  </span><span class="s6"># add additional padding for the &quot;?&quot; char</span>

        <span class="s1">fmt_str </span><span class="s2">= (</span>
            <span class="s5">'&lt;input class=&quot;sk-toggleable__control sk-hidden--visually&quot;'</span>
            <span class="s5">f' id=&quot;</span><span class="s0">{</span><span class="s1">est_id</span><span class="s0">}</span><span class="s5">&quot; '</span>
            <span class="s5">f'type=&quot;checkbox&quot; </span><span class="s0">{</span><span class="s1">checked_str</span><span class="s0">}</span><span class="s5">&gt;&lt;label for=&quot;</span><span class="s0">{</span><span class="s1">est_id</span><span class="s0">}</span><span class="s5">&quot; '</span>
            <span class="s5">f'class=&quot;</span><span class="s0">{</span><span class="s1">label_class</span><span class="s0">} {</span><span class="s1">is_fitted_css_class</span><span class="s0">}</span><span class="s5">&quot;&gt;</span><span class="s0">{</span><span class="s1">padding_label</span><span class="s0">}{</span><span class="s1">name</span><span class="s0">}</span><span class="s5">'</span>
            <span class="s5">f&quot;</span><span class="s0">{</span><span class="s1">doc_link</span><span class="s0">}{</span><span class="s1">is_fitted_icon</span><span class="s0">}</span><span class="s5">&lt;/label&gt;&lt;div &quot;</span>
            <span class="s5">f'class=&quot;sk-toggleable__content </span><span class="s0">{</span><span class="s1">is_fitted_css_class</span><span class="s0">}</span><span class="s5">&quot;&gt;'</span>
            <span class="s5">f&quot;&lt;pre&gt;</span><span class="s0">{</span><span class="s1">name_details</span><span class="s0">}</span><span class="s5">&lt;/pre&gt;&lt;/div&gt; &quot;</span>
        <span class="s2">)</span>
        <span class="s1">out</span><span class="s2">.</span><span class="s1">write</span><span class="s2">(</span><span class="s1">fmt_str</span><span class="s2">)</span>
    <span class="s0">else</span><span class="s2">:</span>
        <span class="s1">out</span><span class="s2">.</span><span class="s1">write</span><span class="s2">(</span><span class="s5">f&quot;&lt;label&gt;</span><span class="s0">{</span><span class="s1">name</span><span class="s0">}</span><span class="s5">&lt;/label&gt;&quot;</span><span class="s2">)</span>
    <span class="s1">out</span><span class="s2">.</span><span class="s1">write</span><span class="s2">(</span><span class="s5">&quot;&lt;/div&gt;&lt;/div&gt;&quot;</span><span class="s2">)  </span><span class="s6"># outer_class inner_class</span>


<span class="s0">def </span><span class="s1">_get_visual_block</span><span class="s2">(</span><span class="s1">estimator</span><span class="s2">):</span>
    <span class="s3">&quot;&quot;&quot;Generate information about how to display an estimator.&quot;&quot;&quot;</span>
    <span class="s0">if </span><span class="s1">hasattr</span><span class="s2">(</span><span class="s1">estimator</span><span class="s2">, </span><span class="s5">&quot;_sk_visual_block_&quot;</span><span class="s2">):</span>
        <span class="s0">try</span><span class="s2">:</span>
            <span class="s0">return </span><span class="s1">estimator</span><span class="s2">.</span><span class="s1">_sk_visual_block_</span><span class="s2">()</span>
        <span class="s0">except </span><span class="s1">Exception</span><span class="s2">:</span>
            <span class="s0">return </span><span class="s1">_VisualBlock</span><span class="s2">(</span>
                <span class="s5">&quot;single&quot;</span><span class="s2">,</span>
                <span class="s1">estimator</span><span class="s2">,</span>
                <span class="s1">names</span><span class="s2">=</span><span class="s1">estimator</span><span class="s2">.</span><span class="s1">__class__</span><span class="s2">.</span><span class="s1">__name__</span><span class="s2">,</span>
                <span class="s1">name_details</span><span class="s2">=</span><span class="s1">str</span><span class="s2">(</span><span class="s1">estimator</span><span class="s2">),</span>
            <span class="s2">)</span>

    <span class="s0">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">estimator</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
        <span class="s0">return </span><span class="s1">_VisualBlock</span><span class="s2">(</span>
            <span class="s5">&quot;single&quot;</span><span class="s2">, </span><span class="s1">estimator</span><span class="s2">, </span><span class="s1">names</span><span class="s2">=</span><span class="s1">estimator</span><span class="s2">, </span><span class="s1">name_details</span><span class="s2">=</span><span class="s1">estimator</span>
        <span class="s2">)</span>
    <span class="s0">elif </span><span class="s1">estimator </span><span class="s0">is None</span><span class="s2">:</span>
        <span class="s0">return </span><span class="s1">_VisualBlock</span><span class="s2">(</span><span class="s5">&quot;single&quot;</span><span class="s2">, </span><span class="s1">estimator</span><span class="s2">, </span><span class="s1">names</span><span class="s2">=</span><span class="s5">&quot;None&quot;</span><span class="s2">, </span><span class="s1">name_details</span><span class="s2">=</span><span class="s5">&quot;None&quot;</span><span class="s2">)</span>

    <span class="s6"># check if estimator looks like a meta estimator (wraps estimators)</span>
    <span class="s0">if </span><span class="s1">hasattr</span><span class="s2">(</span><span class="s1">estimator</span><span class="s2">, </span><span class="s5">&quot;get_params&quot;</span><span class="s2">) </span><span class="s0">and not </span><span class="s1">isclass</span><span class="s2">(</span><span class="s1">estimator</span><span class="s2">):</span>
        <span class="s1">estimators </span><span class="s2">= [</span>
            <span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s1">est</span><span class="s2">)</span>
            <span class="s0">for </span><span class="s1">key</span><span class="s2">, </span><span class="s1">est </span><span class="s0">in </span><span class="s1">estimator</span><span class="s2">.</span><span class="s1">get_params</span><span class="s2">(</span><span class="s1">deep</span><span class="s2">=</span><span class="s0">False</span><span class="s2">).</span><span class="s1">items</span><span class="s2">()</span>
            <span class="s0">if </span><span class="s1">hasattr</span><span class="s2">(</span><span class="s1">est</span><span class="s2">, </span><span class="s5">&quot;get_params&quot;</span><span class="s2">) </span><span class="s0">and </span><span class="s1">hasattr</span><span class="s2">(</span><span class="s1">est</span><span class="s2">, </span><span class="s5">&quot;fit&quot;</span><span class="s2">) </span><span class="s0">and not </span><span class="s1">isclass</span><span class="s2">(</span><span class="s1">est</span><span class="s2">)</span>
        <span class="s2">]</span>
        <span class="s0">if </span><span class="s1">estimators</span><span class="s2">:</span>
            <span class="s0">return </span><span class="s1">_VisualBlock</span><span class="s2">(</span>
                <span class="s5">&quot;parallel&quot;</span><span class="s2">,</span>
                <span class="s2">[</span><span class="s1">est </span><span class="s0">for </span><span class="s1">_</span><span class="s2">, </span><span class="s1">est </span><span class="s0">in </span><span class="s1">estimators</span><span class="s2">],</span>
                <span class="s1">names</span><span class="s2">=[</span><span class="s5">f&quot;</span><span class="s0">{</span><span class="s1">key</span><span class="s0">}</span><span class="s5">: </span><span class="s0">{</span><span class="s1">est</span><span class="s2">.</span><span class="s1">__class__</span><span class="s2">.</span><span class="s1">__name__</span><span class="s0">}</span><span class="s5">&quot; </span><span class="s0">for </span><span class="s1">key</span><span class="s2">, </span><span class="s1">est </span><span class="s0">in </span><span class="s1">estimators</span><span class="s2">],</span>
                <span class="s1">name_details</span><span class="s2">=[</span><span class="s1">str</span><span class="s2">(</span><span class="s1">est</span><span class="s2">) </span><span class="s0">for </span><span class="s1">_</span><span class="s2">, </span><span class="s1">est </span><span class="s0">in </span><span class="s1">estimators</span><span class="s2">],</span>
            <span class="s2">)</span>

    <span class="s0">return </span><span class="s1">_VisualBlock</span><span class="s2">(</span>
        <span class="s5">&quot;single&quot;</span><span class="s2">,</span>
        <span class="s1">estimator</span><span class="s2">,</span>
        <span class="s1">names</span><span class="s2">=</span><span class="s1">estimator</span><span class="s2">.</span><span class="s1">__class__</span><span class="s2">.</span><span class="s1">__name__</span><span class="s2">,</span>
        <span class="s1">name_details</span><span class="s2">=</span><span class="s1">str</span><span class="s2">(</span><span class="s1">estimator</span><span class="s2">),</span>
    <span class="s2">)</span>


<span class="s0">def </span><span class="s1">_write_estimator_html</span><span class="s2">(</span>
    <span class="s1">out</span><span class="s2">,</span>
    <span class="s1">estimator</span><span class="s2">,</span>
    <span class="s1">estimator_label</span><span class="s2">,</span>
    <span class="s1">estimator_label_details</span><span class="s2">,</span>
    <span class="s1">is_fitted_css_class</span><span class="s2">,</span>
    <span class="s1">is_fitted_icon</span><span class="s2">=</span><span class="s5">&quot;&quot;</span><span class="s2">,</span>
    <span class="s1">first_call</span><span class="s2">=</span><span class="s0">False</span><span class="s2">,</span>
<span class="s2">):</span>
    <span class="s3">&quot;&quot;&quot;Write estimator to html in serial, parallel, or by itself (single). 
 
    For multiple estimators, this function is called recursively. 
 
    Parameters 
    ---------- 
    out : file-like object 
        The file to write the HTML representation to. 
    estimator : estimator object 
        The estimator to visualize. 
    estimator_label : str 
        The label for the estimator. It corresponds either to the estimator class name 
        for simple estimator or in the case of `Pipeline` and `ColumnTransformer`, it 
        corresponds to the name of the step. 
    estimator_label_details : str 
        The details to show as content in the dropdown part of the toggleable label. 
        It can contain information as non-default parameters or column information for 
        `ColumnTransformer`. 
    is_fitted_css_class : {&quot;&quot;, &quot;fitted&quot;} 
        The CSS class to indicate whether or not the estimator is fitted or not. The 
        empty string means that the estimator is not fitted and &quot;fitted&quot; means that the 
        estimator is fitted. 
    is_fitted_icon : str, default=&quot;&quot; 
        The HTML representation to show the fitted information in the diagram. An empty 
        string means that no information is shown. If the estimator to be shown is not 
        the first estimator (i.e. `first_call=False`), `is_fitted_icon` is always an 
        empty string. 
    first_call : bool, default=False 
        Whether this is the first time this function is called. 
    &quot;&quot;&quot;</span>
    <span class="s0">if </span><span class="s1">first_call</span><span class="s2">:</span>
        <span class="s1">est_block </span><span class="s2">= </span><span class="s1">_get_visual_block</span><span class="s2">(</span><span class="s1">estimator</span><span class="s2">)</span>
    <span class="s0">else</span><span class="s2">:</span>
        <span class="s1">is_fitted_icon </span><span class="s2">= </span><span class="s5">&quot;&quot;</span>
        <span class="s0">with </span><span class="s1">config_context</span><span class="s2">(</span><span class="s1">print_changed_only</span><span class="s2">=</span><span class="s0">True</span><span class="s2">):</span>
            <span class="s1">est_block </span><span class="s2">= </span><span class="s1">_get_visual_block</span><span class="s2">(</span><span class="s1">estimator</span><span class="s2">)</span>
    <span class="s6"># `estimator` can also be an instance of `_VisualBlock`</span>
    <span class="s0">if </span><span class="s1">hasattr</span><span class="s2">(</span><span class="s1">estimator</span><span class="s2">, </span><span class="s5">&quot;_get_doc_link&quot;</span><span class="s2">):</span>
        <span class="s1">doc_link </span><span class="s2">= </span><span class="s1">estimator</span><span class="s2">.</span><span class="s1">_get_doc_link</span><span class="s2">()</span>
    <span class="s0">else</span><span class="s2">:</span>
        <span class="s1">doc_link </span><span class="s2">= </span><span class="s5">&quot;&quot;</span>
    <span class="s0">if </span><span class="s1">est_block</span><span class="s2">.</span><span class="s1">kind </span><span class="s0">in </span><span class="s2">(</span><span class="s5">&quot;serial&quot;</span><span class="s2">, </span><span class="s5">&quot;parallel&quot;</span><span class="s2">):</span>
        <span class="s1">dashed_wrapped </span><span class="s2">= </span><span class="s1">first_call </span><span class="s0">or </span><span class="s1">est_block</span><span class="s2">.</span><span class="s1">dash_wrapped</span>
        <span class="s1">dash_cls </span><span class="s2">= </span><span class="s5">&quot; sk-dashed-wrapped&quot; </span><span class="s0">if </span><span class="s1">dashed_wrapped </span><span class="s0">else </span><span class="s5">&quot;&quot;</span>
        <span class="s1">out</span><span class="s2">.</span><span class="s1">write</span><span class="s2">(</span><span class="s5">f'&lt;div class=&quot;sk-item</span><span class="s0">{</span><span class="s1">dash_cls</span><span class="s0">}</span><span class="s5">&quot;&gt;'</span><span class="s2">)</span>

        <span class="s0">if </span><span class="s1">estimator_label</span><span class="s2">:</span>
            <span class="s1">_write_label_html</span><span class="s2">(</span>
                <span class="s1">out</span><span class="s2">,</span>
                <span class="s1">estimator_label</span><span class="s2">,</span>
                <span class="s1">estimator_label_details</span><span class="s2">,</span>
                <span class="s1">doc_link</span><span class="s2">=</span><span class="s1">doc_link</span><span class="s2">,</span>
                <span class="s1">is_fitted_css_class</span><span class="s2">=</span><span class="s1">is_fitted_css_class</span><span class="s2">,</span>
                <span class="s1">is_fitted_icon</span><span class="s2">=</span><span class="s1">is_fitted_icon</span><span class="s2">,</span>
            <span class="s2">)</span>

        <span class="s1">kind </span><span class="s2">= </span><span class="s1">est_block</span><span class="s2">.</span><span class="s1">kind</span>
        <span class="s1">out</span><span class="s2">.</span><span class="s1">write</span><span class="s2">(</span><span class="s5">f'&lt;div class=&quot;sk-</span><span class="s0">{</span><span class="s1">kind</span><span class="s0">}</span><span class="s5">&quot;&gt;'</span><span class="s2">)</span>
        <span class="s1">est_infos </span><span class="s2">= </span><span class="s1">zip</span><span class="s2">(</span><span class="s1">est_block</span><span class="s2">.</span><span class="s1">estimators</span><span class="s2">, </span><span class="s1">est_block</span><span class="s2">.</span><span class="s1">names</span><span class="s2">, </span><span class="s1">est_block</span><span class="s2">.</span><span class="s1">name_details</span><span class="s2">)</span>

        <span class="s0">for </span><span class="s1">est</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">name_details </span><span class="s0">in </span><span class="s1">est_infos</span><span class="s2">:</span>
            <span class="s0">if </span><span class="s1">kind </span><span class="s2">== </span><span class="s5">&quot;serial&quot;</span><span class="s2">:</span>
                <span class="s1">_write_estimator_html</span><span class="s2">(</span>
                    <span class="s1">out</span><span class="s2">,</span>
                    <span class="s1">est</span><span class="s2">,</span>
                    <span class="s1">name</span><span class="s2">,</span>
                    <span class="s1">name_details</span><span class="s2">,</span>
                    <span class="s1">is_fitted_css_class</span><span class="s2">=</span><span class="s1">is_fitted_css_class</span><span class="s2">,</span>
                <span class="s2">)</span>
            <span class="s0">else</span><span class="s2">:  </span><span class="s6"># parallel</span>
                <span class="s1">out</span><span class="s2">.</span><span class="s1">write</span><span class="s2">(</span><span class="s5">'&lt;div class=&quot;sk-parallel-item&quot;&gt;'</span><span class="s2">)</span>
                <span class="s6"># wrap element in a serial visualblock</span>
                <span class="s1">serial_block </span><span class="s2">= </span><span class="s1">_VisualBlock</span><span class="s2">(</span><span class="s5">&quot;serial&quot;</span><span class="s2">, [</span><span class="s1">est</span><span class="s2">], </span><span class="s1">dash_wrapped</span><span class="s2">=</span><span class="s0">False</span><span class="s2">)</span>
                <span class="s1">_write_estimator_html</span><span class="s2">(</span>
                    <span class="s1">out</span><span class="s2">,</span>
                    <span class="s1">serial_block</span><span class="s2">,</span>
                    <span class="s1">name</span><span class="s2">,</span>
                    <span class="s1">name_details</span><span class="s2">,</span>
                    <span class="s1">is_fitted_css_class</span><span class="s2">=</span><span class="s1">is_fitted_css_class</span><span class="s2">,</span>
                <span class="s2">)</span>
                <span class="s1">out</span><span class="s2">.</span><span class="s1">write</span><span class="s2">(</span><span class="s5">&quot;&lt;/div&gt;&quot;</span><span class="s2">)  </span><span class="s6"># sk-parallel-item</span>

        <span class="s1">out</span><span class="s2">.</span><span class="s1">write</span><span class="s2">(</span><span class="s5">&quot;&lt;/div&gt;&lt;/div&gt;&quot;</span><span class="s2">)</span>
    <span class="s0">elif </span><span class="s1">est_block</span><span class="s2">.</span><span class="s1">kind </span><span class="s2">== </span><span class="s5">&quot;single&quot;</span><span class="s2">:</span>
        <span class="s1">_write_label_html</span><span class="s2">(</span>
            <span class="s1">out</span><span class="s2">,</span>
            <span class="s1">est_block</span><span class="s2">.</span><span class="s1">names</span><span class="s2">,</span>
            <span class="s1">est_block</span><span class="s2">.</span><span class="s1">name_details</span><span class="s2">,</span>
            <span class="s1">outer_class</span><span class="s2">=</span><span class="s5">&quot;sk-item&quot;</span><span class="s2">,</span>
            <span class="s1">inner_class</span><span class="s2">=</span><span class="s5">&quot;sk-estimator&quot;</span><span class="s2">,</span>
            <span class="s1">checked</span><span class="s2">=</span><span class="s1">first_call</span><span class="s2">,</span>
            <span class="s1">doc_link</span><span class="s2">=</span><span class="s1">doc_link</span><span class="s2">,</span>
            <span class="s1">is_fitted_css_class</span><span class="s2">=</span><span class="s1">is_fitted_css_class</span><span class="s2">,</span>
            <span class="s1">is_fitted_icon</span><span class="s2">=</span><span class="s1">is_fitted_icon</span><span class="s2">,</span>
        <span class="s2">)</span>


<span class="s0">def </span><span class="s1">estimator_html_repr</span><span class="s2">(</span><span class="s1">estimator</span><span class="s2">):</span>
    <span class="s3">&quot;&quot;&quot;Build a HTML representation of an estimator. 
 
    Read more in the :ref:`User Guide &lt;visualizing_composite_estimators&gt;`. 
 
    Parameters 
    ---------- 
    estimator : estimator object 
        The estimator to visualize. 
 
    Returns 
    ------- 
    html: str 
        HTML representation of estimator. 
 
    Examples 
    -------- 
    &gt;&gt;&gt; from sklearn.utils._estimator_html_repr import estimator_html_repr 
    &gt;&gt;&gt; from sklearn.linear_model import LogisticRegression 
    &gt;&gt;&gt; estimator_html_repr(LogisticRegression()) 
    '&lt;style&gt;...&lt;/div&gt;' 
    &quot;&quot;&quot;</span>
    <span class="s0">from </span><span class="s1">sklearn</span><span class="s2">.</span><span class="s1">exceptions </span><span class="s0">import </span><span class="s1">NotFittedError</span>
    <span class="s0">from </span><span class="s1">sklearn</span><span class="s2">.</span><span class="s1">utils</span><span class="s2">.</span><span class="s1">validation </span><span class="s0">import </span><span class="s1">check_is_fitted</span>

    <span class="s0">if not </span><span class="s1">hasattr</span><span class="s2">(</span><span class="s1">estimator</span><span class="s2">, </span><span class="s5">&quot;fit&quot;</span><span class="s2">):</span>
        <span class="s1">status_label </span><span class="s2">= </span><span class="s5">&quot;&lt;span&gt;Not fitted&lt;/span&gt;&quot;</span>
        <span class="s1">is_fitted_css_class </span><span class="s2">= </span><span class="s5">&quot;&quot;</span>
    <span class="s0">else</span><span class="s2">:</span>
        <span class="s0">try</span><span class="s2">:</span>
            <span class="s1">check_is_fitted</span><span class="s2">(</span><span class="s1">estimator</span><span class="s2">)</span>
            <span class="s1">status_label </span><span class="s2">= </span><span class="s5">&quot;&lt;span&gt;Fitted&lt;/span&gt;&quot;</span>
            <span class="s1">is_fitted_css_class </span><span class="s2">= </span><span class="s5">&quot;fitted&quot;</span>
        <span class="s0">except </span><span class="s1">NotFittedError</span><span class="s2">:</span>
            <span class="s1">status_label </span><span class="s2">= </span><span class="s5">&quot;&lt;span&gt;Not fitted&lt;/span&gt;&quot;</span>
            <span class="s1">is_fitted_css_class </span><span class="s2">= </span><span class="s5">&quot;&quot;</span>

    <span class="s1">is_fitted_icon </span><span class="s2">= (</span>
        <span class="s5">f'&lt;span class=&quot;sk-estimator-doc-link </span><span class="s0">{</span><span class="s1">is_fitted_css_class</span><span class="s0">}</span><span class="s5">&quot;&gt;'</span>
        <span class="s5">f&quot;i</span><span class="s0">{</span><span class="s1">status_label</span><span class="s0">}</span><span class="s5">&lt;/span&gt;&quot;</span>
    <span class="s2">)</span>
    <span class="s0">with </span><span class="s1">closing</span><span class="s2">(</span><span class="s1">StringIO</span><span class="s2">()) </span><span class="s0">as </span><span class="s1">out</span><span class="s2">:</span>
        <span class="s1">container_id </span><span class="s2">= </span><span class="s1">_CONTAINER_ID_COUNTER</span><span class="s2">.</span><span class="s1">get_id</span><span class="s2">()</span>
        <span class="s1">style_template </span><span class="s2">= </span><span class="s1">Template</span><span class="s2">(</span><span class="s1">_CSS_STYLE</span><span class="s2">)</span>
        <span class="s1">style_with_id </span><span class="s2">= </span><span class="s1">style_template</span><span class="s2">.</span><span class="s1">substitute</span><span class="s2">(</span><span class="s1">id</span><span class="s2">=</span><span class="s1">container_id</span><span class="s2">)</span>
        <span class="s1">estimator_str </span><span class="s2">= </span><span class="s1">str</span><span class="s2">(</span><span class="s1">estimator</span><span class="s2">)</span>

        <span class="s6"># The fallback message is shown by default and loading the CSS sets</span>
        <span class="s6"># div.sk-text-repr-fallback to display: none to hide the fallback message.</span>
        <span class="s6">#</span>
        <span class="s6"># If the notebook is trusted, the CSS is loaded which hides the fallback</span>
        <span class="s6"># message. If the notebook is not trusted, then the CSS is not loaded and the</span>
        <span class="s6"># fallback message is shown by default.</span>
        <span class="s6">#</span>
        <span class="s6"># The reverse logic applies to HTML repr div.sk-container.</span>
        <span class="s6"># div.sk-container is hidden by default and the loading the CSS displays it.</span>
        <span class="s1">fallback_msg </span><span class="s2">= (</span>
            <span class="s5">&quot;In a Jupyter environment, please rerun this cell to show the HTML&quot;</span>
            <span class="s5">&quot; representation or trust the notebook. &lt;br /&gt;On GitHub, the&quot;</span>
            <span class="s5">&quot; HTML representation is unable to render, please try loading this page&quot;</span>
            <span class="s5">&quot; with nbviewer.org.&quot;</span>
        <span class="s2">)</span>
        <span class="s1">html_template </span><span class="s2">= (</span>
            <span class="s5">f&quot;&lt;style&gt;</span><span class="s0">{</span><span class="s1">style_with_id</span><span class="s0">}</span><span class="s5">&lt;/style&gt;&quot;</span>
            <span class="s5">f'&lt;div id=&quot;</span><span class="s0">{</span><span class="s1">container_id</span><span class="s0">}</span><span class="s5">&quot; class=&quot;sk-top-container&quot;&gt;'</span>
            <span class="s5">'&lt;div class=&quot;sk-text-repr-fallback&quot;&gt;'</span>
            <span class="s5">f&quot;&lt;pre&gt;</span><span class="s0">{</span><span class="s1">html</span><span class="s2">.</span><span class="s1">escape</span><span class="s2">(</span><span class="s1">estimator_str</span><span class="s2">)</span><span class="s0">}</span><span class="s5">&lt;/pre&gt;&lt;b&gt;</span><span class="s0">{</span><span class="s1">fallback_msg</span><span class="s0">}</span><span class="s5">&lt;/b&gt;&quot;</span>
            <span class="s5">&quot;&lt;/div&gt;&quot;</span>
            <span class="s5">'&lt;div class=&quot;sk-container&quot; hidden&gt;'</span>
        <span class="s2">)</span>

        <span class="s1">out</span><span class="s2">.</span><span class="s1">write</span><span class="s2">(</span><span class="s1">html_template</span><span class="s2">)</span>

        <span class="s1">_write_estimator_html</span><span class="s2">(</span>
            <span class="s1">out</span><span class="s2">,</span>
            <span class="s1">estimator</span><span class="s2">,</span>
            <span class="s1">estimator</span><span class="s2">.</span><span class="s1">__class__</span><span class="s2">.</span><span class="s1">__name__</span><span class="s2">,</span>
            <span class="s1">estimator_str</span><span class="s2">,</span>
            <span class="s1">first_call</span><span class="s2">=</span><span class="s0">True</span><span class="s2">,</span>
            <span class="s1">is_fitted_css_class</span><span class="s2">=</span><span class="s1">is_fitted_css_class</span><span class="s2">,</span>
            <span class="s1">is_fitted_icon</span><span class="s2">=</span><span class="s1">is_fitted_icon</span><span class="s2">,</span>
        <span class="s2">)</span>
        <span class="s1">out</span><span class="s2">.</span><span class="s1">write</span><span class="s2">(</span><span class="s5">&quot;&lt;/div&gt;&lt;/div&gt;&quot;</span><span class="s2">)</span>

        <span class="s1">html_output </span><span class="s2">= </span><span class="s1">out</span><span class="s2">.</span><span class="s1">getvalue</span><span class="s2">()</span>
        <span class="s0">return </span><span class="s1">html_output</span>


<span class="s0">class </span><span class="s1">_HTMLDocumentationLinkMixin</span><span class="s2">:</span>
    <span class="s3">&quot;&quot;&quot;Mixin class allowing to generate a link to the API documentation. 
 
    This mixin relies on three attributes: 
    - `_doc_link_module`: it corresponds to the root module (e.g. `sklearn`). Using this 
      mixin, the default value is `sklearn`. 
    - `_doc_link_template`: it corresponds to the template used to generate the 
      link to the API documentation. Using this mixin, the default value is 
      `&quot;https://scikit-learn.org/{version_url}/modules/generated/ 
      {estimator_module}.{estimator_name}.html&quot;`. 
    - `_doc_link_url_param_generator`: it corresponds to a function that generates the 
      parameters to be used in the template when the estimator module and name are not 
      sufficient. 
 
    The method :meth:`_get_doc_link` generates the link to the API documentation for a 
    given estimator. 
 
    This useful provides all the necessary states for 
    :func:`sklearn.utils.estimator_html_repr` to generate a link to the API 
    documentation for the estimator HTML diagram. 
 
    Examples 
    -------- 
    If the default values for `_doc_link_module`, `_doc_link_template` are not suitable, 
    then you can override them and provide a method to generate the URL parameters: 
    &gt;&gt;&gt; from sklearn.base import BaseEstimator 
    &gt;&gt;&gt; doc_link_template = &quot;https://address.local/{single_param}.html&quot; 
    &gt;&gt;&gt; def url_param_generator(estimator): 
    ...     return {&quot;single_param&quot;: estimator.__class__.__name__} 
    &gt;&gt;&gt; class MyEstimator(BaseEstimator): 
    ...     # use &quot;builtins&quot; since it is the associated module when declaring 
    ...     # the class in a docstring 
    ...     _doc_link_module = &quot;builtins&quot; 
    ...     _doc_link_template = doc_link_template 
    ...     _doc_link_url_param_generator = url_param_generator 
    &gt;&gt;&gt; estimator = MyEstimator() 
    &gt;&gt;&gt; estimator._get_doc_link() 
    'https://address.local/MyEstimator.html' 
 
    If instead of overriding the attributes inside the class definition, you want to 
    override a class instance, you can use `types.MethodType` to bind the method to the 
    instance: 
    &gt;&gt;&gt; import types 
    &gt;&gt;&gt; estimator = BaseEstimator() 
    &gt;&gt;&gt; estimator._doc_link_template = doc_link_template 
    &gt;&gt;&gt; estimator._doc_link_url_param_generator = types.MethodType( 
    ...     url_param_generator, estimator) 
    &gt;&gt;&gt; estimator._get_doc_link() 
    'https://address.local/BaseEstimator.html' 
    &quot;&quot;&quot;</span>

    <span class="s1">_doc_link_module </span><span class="s2">= </span><span class="s5">&quot;sklearn&quot;</span>
    <span class="s1">_doc_link_url_param_generator </span><span class="s2">= </span><span class="s0">None</span>

    <span class="s2">@</span><span class="s1">property</span>
    <span class="s0">def </span><span class="s1">_doc_link_template</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">sklearn_version </span><span class="s2">= </span><span class="s1">parse_version</span><span class="s2">(</span><span class="s1">__version__</span><span class="s2">)</span>
        <span class="s0">if </span><span class="s1">sklearn_version</span><span class="s2">.</span><span class="s1">dev </span><span class="s0">is None</span><span class="s2">:</span>
            <span class="s1">version_url </span><span class="s2">= </span><span class="s5">f&quot;</span><span class="s0">{</span><span class="s1">sklearn_version</span><span class="s2">.</span><span class="s1">major</span><span class="s0">}</span><span class="s5">.</span><span class="s0">{</span><span class="s1">sklearn_version</span><span class="s2">.</span><span class="s1">minor</span><span class="s0">}</span><span class="s5">&quot;</span>
        <span class="s0">else</span><span class="s2">:</span>
            <span class="s1">version_url </span><span class="s2">= </span><span class="s5">&quot;dev&quot;</span>
        <span class="s0">return </span><span class="s1">getattr</span><span class="s2">(</span>
            <span class="s1">self</span><span class="s2">,</span>
            <span class="s5">&quot;__doc_link_template&quot;</span><span class="s2">,</span>
            <span class="s2">(</span>
                <span class="s5">f&quot;https://scikit-learn.org/</span><span class="s0">{</span><span class="s1">version_url</span><span class="s0">}</span><span class="s5">/modules/generated/&quot;</span>
                <span class="s5">&quot;{estimator_module}.{estimator_name}.html&quot;</span>
            <span class="s2">),</span>
        <span class="s2">)</span>

    <span class="s2">@</span><span class="s1">_doc_link_template</span><span class="s2">.</span><span class="s1">setter</span>
    <span class="s0">def </span><span class="s1">_doc_link_template</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">value</span><span class="s2">):</span>
        <span class="s1">setattr</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s5">&quot;__doc_link_template&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">)</span>

    <span class="s0">def </span><span class="s1">_get_doc_link</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s3">&quot;&quot;&quot;Generates a link to the API documentation for a given estimator. 
 
        This method generates the link to the estimator's documentation page 
        by using the template defined by the attribute `_doc_link_template`. 
 
        Returns 
        ------- 
        url : str 
            The URL to the API documentation for this estimator. If the estimator does 
            not belong to module `_doc_link_module`, the empty string (i.e. `&quot;&quot;`) is 
            returned. 
        &quot;&quot;&quot;</span>
        <span class="s0">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">__class__</span><span class="s2">.</span><span class="s1">__module__</span><span class="s2">.</span><span class="s1">split</span><span class="s2">(</span><span class="s5">&quot;.&quot;</span><span class="s2">)[</span><span class="s4">0</span><span class="s2">] != </span><span class="s1">self</span><span class="s2">.</span><span class="s1">_doc_link_module</span><span class="s2">:</span>
            <span class="s0">return </span><span class="s5">&quot;&quot;</span>

        <span class="s0">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">_doc_link_url_param_generator </span><span class="s0">is None</span><span class="s2">:</span>
            <span class="s1">estimator_name </span><span class="s2">= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">__class__</span><span class="s2">.</span><span class="s1">__name__</span>
            <span class="s6"># Construct the estimator's module name, up to the first private submodule.</span>
            <span class="s6"># This works because in scikit-learn all public estimators are exposed at</span>
            <span class="s6"># that level, even if they actually live in a private sub-module.</span>
            <span class="s1">estimator_module </span><span class="s2">= </span><span class="s5">&quot;.&quot;</span><span class="s2">.</span><span class="s1">join</span><span class="s2">(</span>
                <span class="s1">itertools</span><span class="s2">.</span><span class="s1">takewhile</span><span class="s2">(</span>
                    <span class="s0">lambda </span><span class="s1">part</span><span class="s2">: </span><span class="s0">not </span><span class="s1">part</span><span class="s2">.</span><span class="s1">startswith</span><span class="s2">(</span><span class="s5">&quot;_&quot;</span><span class="s2">),</span>
                    <span class="s1">self</span><span class="s2">.</span><span class="s1">__class__</span><span class="s2">.</span><span class="s1">__module__</span><span class="s2">.</span><span class="s1">split</span><span class="s2">(</span><span class="s5">&quot;.&quot;</span><span class="s2">),</span>
                <span class="s2">)</span>
            <span class="s2">)</span>
            <span class="s0">return </span><span class="s1">self</span><span class="s2">.</span><span class="s1">_doc_link_template</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(</span>
                <span class="s1">estimator_module</span><span class="s2">=</span><span class="s1">estimator_module</span><span class="s2">, </span><span class="s1">estimator_name</span><span class="s2">=</span><span class="s1">estimator_name</span>
            <span class="s2">)</span>
        <span class="s0">return </span><span class="s1">self</span><span class="s2">.</span><span class="s1">_doc_link_template</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">self</span><span class="s2">.</span><span class="s1">_doc_link_url_param_generator</span><span class="s2">())</span>
</pre>
</body>
</html>