<html>
<head>
<title>__ufunc_api.h</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #cf8e6d;}
.s2 { color: #7a7e85;}
.s3 { color: #2aacb8;}
.s4 { color: #c77dbb;}
.s5 { color: #6aab73;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
__ufunc_api.h</font>
</center></td></tr></table>
<pre>
<span class="s1">#ifdef </span><span class="s0">_UMATHMODULE</span>

<span class="s1">extern </span><span class="s0">NPY_NO_EXPORT PyTypeObject PyUFunc_Type;</span>

<span class="s1">extern </span><span class="s0">NPY_NO_EXPORT PyTypeObject PyUFunc_Type;</span>

<span class="s0">NPY_NO_EXPORT  PyObject * PyUFunc_FromFuncAndData \</span>
       <span class="s0">(PyUFuncGenericFunction *, </span><span class="s1">void </span><span class="s0">*</span><span class="s1">const </span><span class="s0">*, </span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">int</span><span class="s0">);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">int </span><span class="s0">PyUFunc_RegisterLoopForType \</span>
       <span class="s0">(PyUFuncObject *, </span><span class="s1">int</span><span class="s0">, PyUFuncGenericFunction, </span><span class="s1">const int </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_f_f_As_d_d \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_d_d \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_f_f \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_g_g \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_F_F_As_D_D \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_F_F \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_D_D \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_G_G \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_O_O \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_ff_f_As_dd_d \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_ff_f \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_dd_d \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_gg_g \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_FF_F_As_DD_D \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_DD_D \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_FF_F \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_GG_G \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_OO_O \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_O_O_method \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_OO_O_method \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_On_Om \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_clearfperr \</span>
       <span class="s0">(</span><span class="s1">void</span><span class="s0">);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">int </span><span class="s0">PyUFunc_getfperr \</span>
       <span class="s0">(</span><span class="s1">void</span><span class="s0">);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">int </span><span class="s0">PyUFunc_ReplaceLoopBySignature \</span>
       <span class="s0">(PyUFuncObject *, PyUFuncGenericFunction, </span><span class="s1">const int </span><span class="s0">*, PyUFuncGenericFunction *);</span>
<span class="s0">NPY_NO_EXPORT  PyObject * PyUFunc_FromFuncAndDataAndSignature \</span>
       <span class="s0">(PyUFuncGenericFunction *, </span><span class="s1">void </span><span class="s0">*</span><span class="s1">const </span><span class="s0">*, </span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">const char </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_e_e \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_e_e_As_f_f \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_e_e_As_d_d \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_ee_e \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_ee_e_As_ff_f \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">void </span><span class="s0">PyUFunc_ee_e_As_dd_d \</span>
       <span class="s0">(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">int </span><span class="s0">PyUFunc_DefaultTypeResolver \</span>
       <span class="s0">(PyUFuncObject *, NPY_CASTING, PyArrayObject **, PyObject *, PyArray_Descr **);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">int </span><span class="s0">PyUFunc_ValidateCasting \</span>
       <span class="s0">(PyUFuncObject *, NPY_CASTING, PyArrayObject **, PyArray_Descr *</span><span class="s1">const </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">int </span><span class="s0">PyUFunc_RegisterLoopForDescr \</span>
       <span class="s0">(PyUFuncObject *, PyArray_Descr *, PyUFuncGenericFunction, PyArray_Descr **, </span><span class="s1">void </span><span class="s0">*);</span>
<span class="s0">NPY_NO_EXPORT  PyObject * PyUFunc_FromFuncAndDataAndSignatureAndIdentity \</span>
       <span class="s0">(PyUFuncGenericFunction *, </span><span class="s1">void </span><span class="s0">*</span><span class="s1">const </span><span class="s0">*, </span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">const int</span><span class="s0">, </span><span class="s1">const char </span><span class="s0">*, PyObject *);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">int </span><span class="s0">PyUFunc_AddLoopFromSpec \</span>
       <span class="s0">(PyObject *, PyArrayMethod_Spec *);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">int </span><span class="s0">PyUFunc_AddPromoter \</span>
       <span class="s0">(PyObject *, PyObject *, PyObject *);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">int </span><span class="s0">PyUFunc_AddWrappingLoop \</span>
       <span class="s0">(PyObject *, PyArray_DTypeMeta *new_dtypes[], PyArray_DTypeMeta *wrapped_dtypes[], PyArrayMethod_TranslateGivenDescriptors *, PyArrayMethod_TranslateLoopDescriptors *);</span>
<span class="s0">NPY_NO_EXPORT  </span><span class="s1">int </span><span class="s0">PyUFunc_GiveFloatingpointErrors \</span>
       <span class="s0">(</span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">int</span><span class="s0">);</span>

<span class="s1">#else</span>

<span class="s1">#if </span><span class="s0">defined(PY_UFUNC_UNIQUE_SYMBOL)</span>
<span class="s1">#define </span><span class="s0">PyUFunc_API PY_UFUNC_UNIQUE_SYMBOL</span>
<span class="s1">#endif</span>

<span class="s2">/* By default do not export API in an .so (was never the case on windows) */</span>
<span class="s1">#ifndef </span><span class="s0">NPY_API_SYMBOL_ATTRIBUTE</span>
    <span class="s1">#define </span><span class="s0">NPY_API_SYMBOL_ATTRIBUTE NPY_VISIBILITY_HIDDEN</span>
<span class="s1">#endif</span>

<span class="s1">#if </span><span class="s0">defined(NO_IMPORT) || defined(NO_IMPORT_UFUNC)</span>
<span class="s1">extern </span><span class="s0">NPY_API_SYMBOL_ATTRIBUTE </span><span class="s1">void </span><span class="s0">**PyUFunc_API;</span>
<span class="s1">#else</span>
<span class="s1">#if </span><span class="s0">defined(PY_UFUNC_UNIQUE_SYMBOL)</span>
<span class="s0">NPY_API_SYMBOL_ATTRIBUTE </span><span class="s1">void </span><span class="s0">**PyUFunc_API;</span>
<span class="s1">#else</span>
<span class="s1">static void </span><span class="s0">**PyUFunc_API=NULL;</span>
<span class="s1">#endif</span>
<span class="s1">#endif</span>

<span class="s1">#define </span><span class="s0">PyUFunc_Type (*(PyTypeObject *)PyUFunc_API[</span><span class="s3">0</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_FromFuncAndData \</span>
        <span class="s0">(*(PyObject * (*)(PyUFuncGenericFunction *, </span><span class="s1">void </span><span class="s0">*</span><span class="s1">const </span><span class="s0">*, </span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">int</span><span class="s0">)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">1</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_RegisterLoopForType \</span>
        <span class="s0">(*(</span><span class="s1">int </span><span class="s0">(*)(PyUFuncObject *, </span><span class="s1">int</span><span class="s0">, PyUFuncGenericFunction, </span><span class="s1">const int </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">2</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_f_f_As_d_d \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">4</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_d_d \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">5</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_f_f \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">6</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_g_g \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">7</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_F_F_As_D_D \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">8</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_F_F \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">9</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_D_D \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">10</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_G_G \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">11</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_O_O \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">12</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_ff_f_As_dd_d \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">13</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_ff_f \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">14</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_dd_d \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">15</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_gg_g \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">16</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_FF_F_As_DD_D \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">17</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_DD_D \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">18</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_FF_F \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">19</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_GG_G \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">20</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_OO_O \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">21</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_O_O_method \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">22</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_OO_O_method \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">23</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_On_Om \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">24</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_clearfperr \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">void</span><span class="s0">)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">27</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_getfperr \</span>
        <span class="s0">(*(</span><span class="s1">int </span><span class="s0">(*)(</span><span class="s1">void</span><span class="s0">)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">28</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_ReplaceLoopBySignature \</span>
        <span class="s0">(*(</span><span class="s1">int </span><span class="s0">(*)(PyUFuncObject *, PyUFuncGenericFunction, </span><span class="s1">const int </span><span class="s0">*, PyUFuncGenericFunction *)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">30</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_FromFuncAndDataAndSignature \</span>
        <span class="s0">(*(PyObject * (*)(PyUFuncGenericFunction *, </span><span class="s1">void </span><span class="s0">*</span><span class="s1">const </span><span class="s0">*, </span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">const char </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">31</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_e_e \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">33</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_e_e_As_f_f \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">34</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_e_e_As_d_d \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">35</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_ee_e \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">36</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_ee_e_As_ff_f \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">37</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_ee_e_As_dd_d \</span>
        <span class="s0">(*(</span><span class="s1">void </span><span class="s0">(*)(</span><span class="s1">char </span><span class="s0">**, npy_intp </span><span class="s1">const </span><span class="s0">*, npy_intp </span><span class="s1">const </span><span class="s0">*, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">38</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_DefaultTypeResolver \</span>
        <span class="s0">(*(</span><span class="s1">int </span><span class="s0">(*)(PyUFuncObject *, NPY_CASTING, PyArrayObject **, PyObject *, PyArray_Descr **)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">39</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_ValidateCasting \</span>
        <span class="s0">(*(</span><span class="s1">int </span><span class="s0">(*)(PyUFuncObject *, NPY_CASTING, PyArrayObject **, PyArray_Descr *</span><span class="s1">const </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">40</span><span class="s0">])</span>
<span class="s1">#define </span><span class="s0">PyUFunc_RegisterLoopForDescr \</span>
        <span class="s0">(*(</span><span class="s1">int </span><span class="s0">(*)(PyUFuncObject *, PyArray_Descr *, PyUFuncGenericFunction, PyArray_Descr **, </span><span class="s1">void </span><span class="s0">*)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">41</span><span class="s0">])</span>

<span class="s1">#if </span><span class="s0">NPY_FEATURE_VERSION &gt;= NPY_1_16_API_VERSION</span>
<span class="s1">#define </span><span class="s0">PyUFunc_FromFuncAndDataAndSignatureAndIdentity \</span>
        <span class="s0">(*(PyObject * (*)(PyUFuncGenericFunction *, </span><span class="s1">void </span><span class="s0">*</span><span class="s1">const </span><span class="s0">*, </span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">int</span><span class="s0">, </span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">const int</span><span class="s0">, </span><span class="s1">const char </span><span class="s0">*, PyObject *)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">42</span><span class="s0">])</span>
<span class="s1">#endif</span>

<span class="s1">#if </span><span class="s0">NPY_FEATURE_VERSION &gt;= NPY_2_0_API_VERSION</span>
<span class="s1">#define </span><span class="s0">PyUFunc_AddLoopFromSpec \</span>
        <span class="s0">(*(</span><span class="s1">int </span><span class="s0">(*)(PyObject *, PyArrayMethod_Spec *)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">43</span><span class="s0">])</span>
<span class="s1">#endif</span>

<span class="s1">#if </span><span class="s0">NPY_FEATURE_VERSION &gt;= NPY_2_0_API_VERSION</span>
<span class="s1">#define </span><span class="s0">PyUFunc_AddPromoter \</span>
        <span class="s0">(*(</span><span class="s1">int </span><span class="s0">(*)(PyObject *, PyObject *, PyObject *)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">44</span><span class="s0">])</span>
<span class="s1">#endif</span>

<span class="s1">#if </span><span class="s0">NPY_FEATURE_VERSION &gt;= NPY_2_0_API_VERSION</span>
<span class="s1">#define </span><span class="s0">PyUFunc_AddWrappingLoop \</span>
        <span class="s0">(*(</span><span class="s1">int </span><span class="s0">(*)(PyObject *, PyArray_DTypeMeta *new_dtypes[], PyArray_DTypeMeta *wrapped_dtypes[], PyArrayMethod_TranslateGivenDescriptors *, PyArrayMethod_TranslateLoopDescriptors *)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">45</span><span class="s0">])</span>
<span class="s1">#endif</span>

<span class="s1">#if </span><span class="s0">NPY_FEATURE_VERSION &gt;= NPY_2_0_API_VERSION</span>
<span class="s1">#define </span><span class="s0">PyUFunc_GiveFloatingpointErrors \</span>
        <span class="s0">(*(</span><span class="s1">int </span><span class="s0">(*)(</span><span class="s1">const char </span><span class="s0">*, </span><span class="s1">int</span><span class="s0">)) \</span>
    <span class="s0">PyUFunc_API[</span><span class="s3">46</span><span class="s0">])</span>
<span class="s1">#endif</span>

<span class="s1">static </span><span class="s4">inline </span><span class="s1">int</span>
<span class="s0">_import_umath(</span><span class="s1">void</span><span class="s0">)</span>
<span class="s0">{</span>
  <span class="s0">PyObject *numpy = PyImport_ImportModule(</span><span class="s5">&quot;numpy._core._multiarray_umath&quot;</span><span class="s0">);</span>
  <span class="s1">if </span><span class="s0">(numpy == NULL &amp;&amp; PyErr_ExceptionMatches(PyExc_ModuleNotFoundError)) {</span>
    <span class="s0">PyErr_Clear();</span>
    <span class="s0">numpy = PyImport_ImportModule(</span><span class="s5">&quot;numpy.core._multiarray_umath&quot;</span><span class="s0">);</span>
  <span class="s0">}</span>

  <span class="s1">if </span><span class="s0">(numpy == NULL) {</span>
      <span class="s0">PyErr_SetString(PyExc_ImportError,</span>
                      <span class="s5">&quot;_multiarray_umath failed to import&quot;</span><span class="s0">);</span>
      <span class="s1">return </span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span>
  <span class="s0">}</span>

  <span class="s0">PyObject *c_api = PyObject_GetAttrString(numpy, </span><span class="s5">&quot;_UFUNC_API&quot;</span><span class="s0">);</span>
  <span class="s0">Py_DECREF(numpy);</span>
  <span class="s1">if </span><span class="s0">(c_api == NULL) {</span>
      <span class="s0">PyErr_SetString(PyExc_AttributeError, </span><span class="s5">&quot;_UFUNC_API not found&quot;</span><span class="s0">);</span>
      <span class="s1">return </span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span>
  <span class="s0">}</span>

  <span class="s1">if </span><span class="s0">(!PyCapsule_CheckExact(c_api)) {</span>
      <span class="s0">PyErr_SetString(PyExc_RuntimeError, </span><span class="s5">&quot;_UFUNC_API is not PyCapsule object&quot;</span><span class="s0">);</span>
      <span class="s0">Py_DECREF(c_api);</span>
      <span class="s1">return </span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span>
  <span class="s0">}</span>
  <span class="s0">PyUFunc_API = (</span><span class="s1">void </span><span class="s0">**)PyCapsule_GetPointer(c_api, NULL);</span>
  <span class="s0">Py_DECREF(c_api);</span>
  <span class="s1">if </span><span class="s0">(PyUFunc_API == NULL) {</span>
      <span class="s0">PyErr_SetString(PyExc_RuntimeError, </span><span class="s5">&quot;_UFUNC_API is NULL pointer&quot;</span><span class="s0">);</span>
      <span class="s1">return </span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span>
  <span class="s0">}</span>
  <span class="s1">return </span><span class="s3">0</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">#define </span><span class="s0">import_umath() \</span>
    <span class="s1">do </span><span class="s0">{\</span>
        <span class="s0">UFUNC_NOFPE\</span>
        <span class="s1">if </span><span class="s0">(_import_umath() &lt; </span><span class="s3">0</span><span class="s0">) {\</span>
            <span class="s0">PyErr_Print();\</span>
            <span class="s0">PyErr_SetString(PyExc_ImportError,\</span>
                    <span class="s5">&quot;numpy._core.umath failed to import&quot;</span><span class="s0">);\</span>
            <span class="s1">return </span><span class="s0">NULL;\</span>
        <span class="s0">}\</span>
    <span class="s0">} </span><span class="s1">while</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)</span>

<span class="s1">#define </span><span class="s0">import_umath1(ret) \</span>
    <span class="s1">do </span><span class="s0">{\</span>
        <span class="s0">UFUNC_NOFPE\</span>
        <span class="s1">if </span><span class="s0">(_import_umath() &lt; </span><span class="s3">0</span><span class="s0">) {\</span>
            <span class="s0">PyErr_Print();\</span>
            <span class="s0">PyErr_SetString(PyExc_ImportError,\</span>
                    <span class="s5">&quot;numpy._core.umath failed to import&quot;</span><span class="s0">);\</span>
            <span class="s1">return </span><span class="s0">ret;\</span>
        <span class="s0">}\</span>
    <span class="s0">} </span><span class="s1">while</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)</span>

<span class="s1">#define </span><span class="s0">import_umath2(ret, msg) \</span>
    <span class="s1">do </span><span class="s0">{\</span>
        <span class="s0">UFUNC_NOFPE\</span>
        <span class="s1">if </span><span class="s0">(_import_umath() &lt; </span><span class="s3">0</span><span class="s0">) {\</span>
            <span class="s0">PyErr_Print();\</span>
            <span class="s0">PyErr_SetString(PyExc_ImportError, msg);\</span>
            <span class="s1">return </span><span class="s0">ret;\</span>
        <span class="s0">}\</span>
    <span class="s0">} </span><span class="s1">while</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)</span>

<span class="s1">#define </span><span class="s0">import_ufunc() \</span>
    <span class="s1">do </span><span class="s0">{\</span>
        <span class="s0">UFUNC_NOFPE\</span>
        <span class="s1">if </span><span class="s0">(_import_umath() &lt; </span><span class="s3">0</span><span class="s0">) {\</span>
            <span class="s0">PyErr_Print();\</span>
            <span class="s0">PyErr_SetString(PyExc_ImportError,\</span>
                    <span class="s5">&quot;numpy._core.umath failed to import&quot;</span><span class="s0">);\</span>
        <span class="s0">}\</span>
    <span class="s0">} </span><span class="s1">while</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)</span>


<span class="s1">static </span><span class="s4">inline </span><span class="s1">int</span>
<span class="s0">PyUFunc_ImportUFuncAPI()</span>
<span class="s0">{</span>
    <span class="s1">if </span><span class="s0">(NPY_UNLIKELY(PyUFunc_API == NULL)) {</span>
        <span class="s0">import_umath1(-</span><span class="s3">1</span><span class="s0">);</span>
    <span class="s0">}</span>
    <span class="s1">return </span><span class="s3">0</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">#endif</span>
</pre>
</body>
</html>