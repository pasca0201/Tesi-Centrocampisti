<html>
<head>
<title>lib.pyi</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #7a7e85;}
.s1 { color: #bcbec4;}
.s2 { color: #cf8e6d;}
.s3 { color: #bcbec4;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
lib.pyi</font>
</center></td></tr></table>
<pre><span class="s0"># TODO(npdtypes): Many types specified here can be made more specific/accurate;</span>
<span class="s0">#  the more specific versions are specified in comments</span>
<span class="s2">from </span><span class="s1">decimal </span><span class="s2">import </span><span class="s1">Decimal</span>
<span class="s2">from </span><span class="s1">typing </span><span class="s2">import </span><span class="s3">(</span>
    <span class="s1">Any</span><span class="s3">,</span>
    <span class="s1">Callable</span><span class="s3">,</span>
    <span class="s1">Final</span><span class="s3">,</span>
    <span class="s1">Generator</span><span class="s3">,</span>
    <span class="s1">Hashable</span><span class="s3">,</span>
    <span class="s1">Literal</span><span class="s3">,</span>
    <span class="s1">TypeAlias</span><span class="s3">,</span>
    <span class="s1">overload</span><span class="s3">,</span>
<span class="s3">)</span>

<span class="s2">import </span><span class="s1">numpy </span><span class="s2">as </span><span class="s1">np</span>

<span class="s2">from </span><span class="s1">pandas</span><span class="s3">.</span><span class="s1">_libs</span><span class="s3">.</span><span class="s1">interval </span><span class="s2">import </span><span class="s1">Interval</span>
<span class="s2">from </span><span class="s1">pandas</span><span class="s3">.</span><span class="s1">_libs</span><span class="s3">.</span><span class="s1">tslibs </span><span class="s2">import </span><span class="s1">Period</span>
<span class="s2">from </span><span class="s1">pandas</span><span class="s3">.</span><span class="s1">_typing </span><span class="s2">import </span><span class="s3">(</span>
    <span class="s1">ArrayLike</span><span class="s3">,</span>
    <span class="s1">DtypeObj</span><span class="s3">,</span>
    <span class="s1">TypeGuard</span><span class="s3">,</span>
    <span class="s1">npt</span><span class="s3">,</span>
<span class="s3">)</span>

<span class="s0"># placeholder until we can specify np.ndarray[object, ndim=2]</span>
<span class="s1">ndarray_obj_2d </span><span class="s3">= </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span>

<span class="s2">from </span><span class="s1">enum </span><span class="s2">import </span><span class="s1">Enum</span>

<span class="s2">class </span><span class="s1">_NoDefault</span><span class="s3">(</span><span class="s1">Enum</span><span class="s3">):</span>
    <span class="s1">no_default </span><span class="s3">= ...</span>

<span class="s1">no_default</span><span class="s3">: </span><span class="s1">Final </span><span class="s3">= </span><span class="s1">_NoDefault</span><span class="s3">.</span><span class="s1">no_default</span>
<span class="s1">NoDefault</span><span class="s3">: </span><span class="s1">TypeAlias </span><span class="s3">= </span><span class="s1">Literal</span><span class="s3">[</span><span class="s1">_NoDefault</span><span class="s3">.</span><span class="s1">no_default</span><span class="s3">]</span>

<span class="s1">i8max</span><span class="s3">: </span><span class="s1">int</span>
<span class="s1">u8max</span><span class="s3">: </span><span class="s1">int</span>

<span class="s2">def </span><span class="s1">is_np_dtype</span><span class="s3">(</span><span class="s1">dtype</span><span class="s3">: </span><span class="s1">object</span><span class="s3">, </span><span class="s1">kinds</span><span class="s3">: </span><span class="s1">str </span><span class="s3">| </span><span class="s2">None </span><span class="s3">= ...) </span><span class="s1">-&gt; TypeGuard</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">dtype</span><span class="s3">]: ...</span>
<span class="s2">def </span><span class="s1">item_from_zerodim</span><span class="s3">(</span><span class="s1">val</span><span class="s3">: </span><span class="s1">object</span><span class="s3">) </span><span class="s1">-&gt; object</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">infer_dtype</span><span class="s3">(</span><span class="s1">value</span><span class="s3">: </span><span class="s1">object</span><span class="s3">, </span><span class="s1">skipna</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...) </span><span class="s1">-&gt; str</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">is_iterator</span><span class="s3">(</span><span class="s1">obj</span><span class="s3">: </span><span class="s1">object</span><span class="s3">) </span><span class="s1">-&gt; bool</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">is_scalar</span><span class="s3">(</span><span class="s1">val</span><span class="s3">: </span><span class="s1">object</span><span class="s3">) </span><span class="s1">-&gt; bool</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">is_list_like</span><span class="s3">(</span><span class="s1">obj</span><span class="s3">: </span><span class="s1">object</span><span class="s3">, </span><span class="s1">allow_sets</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...) </span><span class="s1">-&gt; bool</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">is_pyarrow_array</span><span class="s3">(</span><span class="s1">obj</span><span class="s3">: </span><span class="s1">object</span><span class="s3">) </span><span class="s1">-&gt; bool</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">is_period</span><span class="s3">(</span><span class="s1">val</span><span class="s3">: </span><span class="s1">object</span><span class="s3">) </span><span class="s1">-&gt; TypeGuard</span><span class="s3">[</span><span class="s1">Period</span><span class="s3">]: ...</span>
<span class="s2">def </span><span class="s1">is_interval</span><span class="s3">(</span><span class="s1">obj</span><span class="s3">: </span><span class="s1">object</span><span class="s3">) </span><span class="s1">-&gt; TypeGuard</span><span class="s3">[</span><span class="s1">Interval</span><span class="s3">]: ...</span>
<span class="s2">def </span><span class="s1">is_decimal</span><span class="s3">(</span><span class="s1">obj</span><span class="s3">: </span><span class="s1">object</span><span class="s3">) </span><span class="s1">-&gt; TypeGuard</span><span class="s3">[</span><span class="s1">Decimal</span><span class="s3">]: ...</span>
<span class="s2">def </span><span class="s1">is_complex</span><span class="s3">(</span><span class="s1">obj</span><span class="s3">: </span><span class="s1">object</span><span class="s3">) </span><span class="s1">-&gt; TypeGuard</span><span class="s3">[</span><span class="s1">complex</span><span class="s3">]: ...</span>
<span class="s2">def </span><span class="s1">is_bool</span><span class="s3">(</span><span class="s1">obj</span><span class="s3">: </span><span class="s1">object</span><span class="s3">) </span><span class="s1">-&gt; TypeGuard</span><span class="s3">[</span><span class="s1">bool </span><span class="s3">| </span><span class="s1">np</span><span class="s3">.</span><span class="s1">bool_</span><span class="s3">]: ...</span>
<span class="s2">def </span><span class="s1">is_integer</span><span class="s3">(</span><span class="s1">obj</span><span class="s3">: </span><span class="s1">object</span><span class="s3">) </span><span class="s1">-&gt; TypeGuard</span><span class="s3">[</span><span class="s1">int </span><span class="s3">| </span><span class="s1">np</span><span class="s3">.</span><span class="s1">integer</span><span class="s3">]: ...</span>
<span class="s2">def </span><span class="s1">is_int_or_none</span><span class="s3">(</span><span class="s1">obj</span><span class="s3">) </span><span class="s1">-&gt; bool</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">is_float</span><span class="s3">(</span><span class="s1">obj</span><span class="s3">: </span><span class="s1">object</span><span class="s3">) </span><span class="s1">-&gt; TypeGuard</span><span class="s3">[</span><span class="s1">float</span><span class="s3">]: ...</span>
<span class="s2">def </span><span class="s1">is_interval_array</span><span class="s3">(</span><span class="s1">values</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">) </span><span class="s1">-&gt; bool</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">is_datetime64_array</span><span class="s3">(</span><span class="s1">values</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">, </span><span class="s1">skipna</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= </span><span class="s2">True</span><span class="s3">) </span><span class="s1">-&gt; bool</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">is_timedelta_or_timedelta64_array</span><span class="s3">(</span>
    <span class="s1">values</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">, </span><span class="s1">skipna</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= </span><span class="s2">True</span>
<span class="s3">) </span><span class="s1">-&gt; bool</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">is_datetime_with_singletz_array</span><span class="s3">(</span><span class="s1">values</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">) </span><span class="s1">-&gt; bool</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">is_time_array</span><span class="s3">(</span><span class="s1">values</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">, </span><span class="s1">skipna</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...): ...</span>
<span class="s2">def </span><span class="s1">is_date_array</span><span class="s3">(</span><span class="s1">values</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">, </span><span class="s1">skipna</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...): ...</span>
<span class="s2">def </span><span class="s1">is_datetime_array</span><span class="s3">(</span><span class="s1">values</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">, </span><span class="s1">skipna</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...): ...</span>
<span class="s2">def </span><span class="s1">is_string_array</span><span class="s3">(</span><span class="s1">values</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">, </span><span class="s1">skipna</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...): ...</span>
<span class="s2">def </span><span class="s1">is_float_array</span><span class="s3">(</span><span class="s1">values</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">): ...</span>
<span class="s2">def </span><span class="s1">is_integer_array</span><span class="s3">(</span><span class="s1">values</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">, </span><span class="s1">skipna</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...): ...</span>
<span class="s2">def </span><span class="s1">is_bool_array</span><span class="s3">(</span><span class="s1">values</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">, </span><span class="s1">skipna</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...): ...</span>
<span class="s2">def </span><span class="s1">fast_multiget</span><span class="s3">(</span>
    <span class="s1">mapping</span><span class="s3">: </span><span class="s1">dict</span><span class="s3">,</span>
    <span class="s1">keys</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">,  </span><span class="s0"># object[:]</span>
    <span class="s1">default</span><span class="s3">=...,</span>
<span class="s3">) </span><span class="s1">-&gt; np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">fast_unique_multiple_list_gen</span><span class="s3">(</span><span class="s1">gen</span><span class="s3">: </span><span class="s1">Generator</span><span class="s3">, </span><span class="s1">sort</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...) </span><span class="s1">-&gt; list</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">fast_unique_multiple_list</span><span class="s3">(</span><span class="s1">lists</span><span class="s3">: </span><span class="s1">list</span><span class="s3">, </span><span class="s1">sort</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">| </span><span class="s2">None </span><span class="s3">= ...) </span><span class="s1">-&gt; list</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">map_infer</span><span class="s3">(</span>
    <span class="s1">arr</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">,</span>
    <span class="s1">f</span><span class="s3">: </span><span class="s1">Callable</span><span class="s3">[[</span><span class="s1">Any</span><span class="s3">], </span><span class="s1">Any</span><span class="s3">],</span>
    <span class="s1">convert</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s1">ignore_na</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
<span class="s3">) </span><span class="s1">-&gt; np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">: ...</span>
<span class="s3">@</span><span class="s1">overload</span>
<span class="s2">def </span><span class="s1">maybe_convert_objects</span><span class="s3">(</span>
    <span class="s1">objects</span><span class="s3">: </span><span class="s1">npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">object_</span><span class="s3">],</span>
    <span class="s3">*,</span>
    <span class="s1">try_float</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s1">safe</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s1">convert_numeric</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s1">convert_non_numeric</span><span class="s3">: </span><span class="s1">Literal</span><span class="s3">[</span><span class="s2">False</span><span class="s3">] = ...,</span>
    <span class="s1">convert_to_nullable_dtype</span><span class="s3">: </span><span class="s1">Literal</span><span class="s3">[</span><span class="s2">False</span><span class="s3">] = ...,</span>
    <span class="s1">dtype_if_all_nat</span><span class="s3">: </span><span class="s1">DtypeObj </span><span class="s3">| </span><span class="s2">None </span><span class="s3">= ...,</span>
<span class="s3">) </span><span class="s1">-&gt; npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">object_ </span><span class="s3">| </span><span class="s1">np</span><span class="s3">.</span><span class="s1">number</span><span class="s3">]: ...</span>
<span class="s3">@</span><span class="s1">overload</span>
<span class="s2">def </span><span class="s1">maybe_convert_objects</span><span class="s3">(</span>
    <span class="s1">objects</span><span class="s3">: </span><span class="s1">npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">object_</span><span class="s3">],</span>
    <span class="s3">*,</span>
    <span class="s1">try_float</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s1">safe</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s1">convert_numeric</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s1">convert_non_numeric</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s1">convert_to_nullable_dtype</span><span class="s3">: </span><span class="s1">Literal</span><span class="s3">[</span><span class="s2">True</span><span class="s3">] = ...,</span>
    <span class="s1">dtype_if_all_nat</span><span class="s3">: </span><span class="s1">DtypeObj </span><span class="s3">| </span><span class="s2">None </span><span class="s3">= ...,</span>
<span class="s3">) </span><span class="s1">-&gt; ArrayLike</span><span class="s3">: ...</span>
<span class="s3">@</span><span class="s1">overload</span>
<span class="s2">def </span><span class="s1">maybe_convert_objects</span><span class="s3">(</span>
    <span class="s1">objects</span><span class="s3">: </span><span class="s1">npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">object_</span><span class="s3">],</span>
    <span class="s3">*,</span>
    <span class="s1">try_float</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s1">safe</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s1">convert_numeric</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s1">convert_non_numeric</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s1">convert_to_nullable_dtype</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s1">dtype_if_all_nat</span><span class="s3">: </span><span class="s1">DtypeObj </span><span class="s3">| </span><span class="s2">None </span><span class="s3">= ...,</span>
<span class="s3">) </span><span class="s1">-&gt; ArrayLike</span><span class="s3">: ...</span>
<span class="s3">@</span><span class="s1">overload</span>
<span class="s2">def </span><span class="s1">maybe_convert_numeric</span><span class="s3">(</span>
    <span class="s1">values</span><span class="s3">: </span><span class="s1">npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">object_</span><span class="s3">],</span>
    <span class="s1">na_values</span><span class="s3">: </span><span class="s1">set</span><span class="s3">,</span>
    <span class="s1">convert_empty</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s1">coerce_numeric</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s1">convert_to_masked_nullable</span><span class="s3">: </span><span class="s1">Literal</span><span class="s3">[</span><span class="s2">False</span><span class="s3">] = ...,</span>
<span class="s3">) </span><span class="s1">-&gt; tuple</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">, </span><span class="s2">None</span><span class="s3">]: ...</span>
<span class="s3">@</span><span class="s1">overload</span>
<span class="s2">def </span><span class="s1">maybe_convert_numeric</span><span class="s3">(</span>
    <span class="s1">values</span><span class="s3">: </span><span class="s1">npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">object_</span><span class="s3">],</span>
    <span class="s1">na_values</span><span class="s3">: </span><span class="s1">set</span><span class="s3">,</span>
    <span class="s1">convert_empty</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s1">coerce_numeric</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s3">*,</span>
    <span class="s1">convert_to_masked_nullable</span><span class="s3">: </span><span class="s1">Literal</span><span class="s3">[</span><span class="s2">True</span><span class="s3">],</span>
<span class="s3">) </span><span class="s1">-&gt; tuple</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">, </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">]: ...</span>

<span class="s0"># TODO: restrict `arr`?</span>
<span class="s2">def </span><span class="s1">ensure_string_array</span><span class="s3">(</span>
    <span class="s1">arr</span><span class="s3">,</span>
    <span class="s1">na_value</span><span class="s3">: </span><span class="s1">object </span><span class="s3">= ...,</span>
    <span class="s1">convert_na_value</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s1">copy</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s1">skipna</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
<span class="s3">) </span><span class="s1">-&gt; npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">object_</span><span class="s3">]: ...</span>
<span class="s2">def </span><span class="s1">convert_nans_to_NA</span><span class="s3">(</span>
    <span class="s1">arr</span><span class="s3">: </span><span class="s1">npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">object_</span><span class="s3">],</span>
<span class="s3">) </span><span class="s1">-&gt; npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">object_</span><span class="s3">]: ...</span>
<span class="s2">def </span><span class="s1">fast_zip</span><span class="s3">(</span><span class="s1">ndarrays</span><span class="s3">: </span><span class="s1">list</span><span class="s3">) </span><span class="s1">-&gt; npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">object_</span><span class="s3">]: ...</span>

<span class="s0"># TODO: can we be more specific about rows?</span>
<span class="s2">def </span><span class="s1">to_object_array_tuples</span><span class="s3">(</span><span class="s1">rows</span><span class="s3">: </span><span class="s1">object</span><span class="s3">) </span><span class="s1">-&gt; ndarray_obj_2d</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">tuples_to_object_array</span><span class="s3">(</span>
    <span class="s1">tuples</span><span class="s3">: </span><span class="s1">npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">object_</span><span class="s3">],</span>
<span class="s3">) </span><span class="s1">-&gt; ndarray_obj_2d</span><span class="s3">: ...</span>

<span class="s0"># TODO: can we be more specific about rows?</span>
<span class="s2">def </span><span class="s1">to_object_array</span><span class="s3">(</span><span class="s1">rows</span><span class="s3">: </span><span class="s1">object</span><span class="s3">, </span><span class="s1">min_width</span><span class="s3">: </span><span class="s1">int </span><span class="s3">= ...) </span><span class="s1">-&gt; ndarray_obj_2d</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">dicts_to_array</span><span class="s3">(</span><span class="s1">dicts</span><span class="s3">: </span><span class="s1">list</span><span class="s3">, </span><span class="s1">columns</span><span class="s3">: </span><span class="s1">list</span><span class="s3">) </span><span class="s1">-&gt; ndarray_obj_2d</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">maybe_booleans_to_slice</span><span class="s3">(</span>
    <span class="s1">mask</span><span class="s3">: </span><span class="s1">npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">uint8</span><span class="s3">],</span>
<span class="s3">) </span><span class="s1">-&gt; slice </span><span class="s3">| </span><span class="s1">npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">uint8</span><span class="s3">]: ...</span>
<span class="s2">def </span><span class="s1">maybe_indices_to_slice</span><span class="s3">(</span>
    <span class="s1">indices</span><span class="s3">: </span><span class="s1">npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">intp</span><span class="s3">],</span>
    <span class="s1">max_len</span><span class="s3">: </span><span class="s1">int</span><span class="s3">,</span>
<span class="s3">) </span><span class="s1">-&gt; slice </span><span class="s3">| </span><span class="s1">npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">intp</span><span class="s3">]: ...</span>
<span class="s2">def </span><span class="s1">is_all_arraylike</span><span class="s3">(</span><span class="s1">obj</span><span class="s3">: </span><span class="s1">list</span><span class="s3">) </span><span class="s1">-&gt; bool</span><span class="s3">: ...</span>

<span class="s0"># -----------------------------------------------------------------</span>
<span class="s0"># Functions which in reality take memoryviews</span>

<span class="s2">def </span><span class="s1">memory_usage_of_objects</span><span class="s3">(</span><span class="s1">arr</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">) </span><span class="s1">-&gt; int</span><span class="s3">: ...  </span><span class="s0"># object[:]  # np.int64</span>
<span class="s2">def </span><span class="s1">map_infer_mask</span><span class="s3">(</span>
    <span class="s1">arr</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">,</span>
    <span class="s1">f</span><span class="s3">: </span><span class="s1">Callable</span><span class="s3">[[</span><span class="s1">Any</span><span class="s3">], </span><span class="s1">Any</span><span class="s3">],</span>
    <span class="s1">mask</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">,  </span><span class="s0"># const uint8_t[:]</span>
    <span class="s1">convert</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
    <span class="s1">na_value</span><span class="s3">: </span><span class="s1">Any </span><span class="s3">= ...,</span>
    <span class="s1">dtype</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">dtype </span><span class="s3">= ...,</span>
<span class="s3">) </span><span class="s1">-&gt; np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">indices_fast</span><span class="s3">(</span>
    <span class="s1">index</span><span class="s3">: </span><span class="s1">npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">intp</span><span class="s3">],</span>
    <span class="s1">labels</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">,  </span><span class="s0"># const int64_t[:]</span>
    <span class="s1">keys</span><span class="s3">: </span><span class="s1">list</span><span class="s3">,</span>
    <span class="s1">sorted_labels</span><span class="s3">: </span><span class="s1">list</span><span class="s3">[</span><span class="s1">npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">int64</span><span class="s3">]],</span>
<span class="s3">) </span><span class="s1">-&gt; dict</span><span class="s3">[</span><span class="s1">Hashable</span><span class="s3">, </span><span class="s1">npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">intp</span><span class="s3">]]: ...</span>
<span class="s2">def </span><span class="s1">generate_slices</span><span class="s3">(</span>
    <span class="s1">labels</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">, </span><span class="s1">ngroups</span><span class="s3">: </span><span class="s1">int  </span><span class="s0"># const intp_t[:]</span>
<span class="s3">) </span><span class="s1">-&gt; tuple</span><span class="s3">[</span><span class="s1">npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">int64</span><span class="s3">], </span><span class="s1">npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">int64</span><span class="s3">]]: ...</span>
<span class="s2">def </span><span class="s1">count_level_2d</span><span class="s3">(</span>
    <span class="s1">mask</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">,  </span><span class="s0"># ndarray[uint8_t, ndim=2, cast=True],</span>
    <span class="s1">labels</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">,  </span><span class="s0"># const intp_t[:]</span>
    <span class="s1">max_bin</span><span class="s3">: </span><span class="s1">int</span><span class="s3">,</span>
<span class="s3">) </span><span class="s1">-&gt; np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">: ...  </span><span class="s0"># np.ndarray[np.int64, ndim=2]</span>
<span class="s2">def </span><span class="s1">get_level_sorter</span><span class="s3">(</span>
    <span class="s1">codes</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">,  </span><span class="s0"># const int64_t[:]</span>
    <span class="s1">starts</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">,  </span><span class="s0"># const intp_t[:]</span>
<span class="s3">) </span><span class="s1">-&gt; np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">: ...  </span><span class="s0"># np.ndarray[np.intp, ndim=1]</span>
<span class="s2">def </span><span class="s1">generate_bins_dt64</span><span class="s3">(</span>
    <span class="s1">values</span><span class="s3">: </span><span class="s1">npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">int64</span><span class="s3">],</span>
    <span class="s1">binner</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">,  </span><span class="s0"># const int64_t[:]</span>
    <span class="s1">closed</span><span class="s3">: </span><span class="s1">object </span><span class="s3">= ...,</span>
    <span class="s1">hasnans</span><span class="s3">: </span><span class="s1">bool </span><span class="s3">= ...,</span>
<span class="s3">) </span><span class="s1">-&gt; np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">: ...  </span><span class="s0"># np.ndarray[np.int64, ndim=1]</span>
<span class="s2">def </span><span class="s1">array_equivalent_object</span><span class="s3">(</span>
    <span class="s1">left</span><span class="s3">: </span><span class="s1">npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">object_</span><span class="s3">],</span>
    <span class="s1">right</span><span class="s3">: </span><span class="s1">npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">object_</span><span class="s3">],</span>
<span class="s3">) </span><span class="s1">-&gt; bool</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">has_infs</span><span class="s3">(</span><span class="s1">arr</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">) </span><span class="s1">-&gt; bool</span><span class="s3">: ...  </span><span class="s0"># const floating[:]</span>
<span class="s2">def </span><span class="s1">has_only_ints_or_nan</span><span class="s3">(</span><span class="s1">arr</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">) </span><span class="s1">-&gt; bool</span><span class="s3">: ...  </span><span class="s0"># const floating[:]</span>
<span class="s2">def </span><span class="s1">get_reverse_indexer</span><span class="s3">(</span>
    <span class="s1">indexer</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">,  </span><span class="s0"># const intp_t[:]</span>
    <span class="s1">length</span><span class="s3">: </span><span class="s1">int</span><span class="s3">,</span>
<span class="s3">) </span><span class="s1">-&gt; npt</span><span class="s3">.</span><span class="s1">NDArray</span><span class="s3">[</span><span class="s1">np</span><span class="s3">.</span><span class="s1">intp</span><span class="s3">]: ...</span>
<span class="s2">def </span><span class="s1">is_bool_list</span><span class="s3">(</span><span class="s1">obj</span><span class="s3">: </span><span class="s1">list</span><span class="s3">) </span><span class="s1">-&gt; bool</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">dtypes_all_equal</span><span class="s3">(</span><span class="s1">types</span><span class="s3">: </span><span class="s1">list</span><span class="s3">[</span><span class="s1">DtypeObj</span><span class="s3">]) </span><span class="s1">-&gt; bool</span><span class="s3">: ...</span>
<span class="s2">def </span><span class="s1">is_range_indexer</span><span class="s3">(</span>
    <span class="s1">left</span><span class="s3">: </span><span class="s1">np</span><span class="s3">.</span><span class="s1">ndarray</span><span class="s3">, </span><span class="s1">n</span><span class="s3">: </span><span class="s1">int  </span><span class="s0"># np.ndarray[np.int64, ndim=1]</span>
<span class="s3">) </span><span class="s1">-&gt; bool</span><span class="s3">: ...</span>
</pre>
</body>
</html>