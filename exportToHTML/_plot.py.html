<html>
<head>
<title>_plot.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cf8e6d;}
.s1 { color: #bcbec4;}
.s2 { color: #bcbec4;}
.s3 { color: #6aab73;}
.s4 { color: #7a7e85;}
.s5 { color: #2aacb8;}
.s6 { color: #5f826b; font-style: italic;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
_plot.py</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">numpy </span><span class="s0">as </span><span class="s1">np</span>

<span class="s0">from </span><span class="s2">..</span><span class="s1">utils</span><span class="s2">.</span><span class="s1">_optional_dependencies </span><span class="s0">import </span><span class="s1">check_matplotlib_support</span>
<span class="s0">from </span><span class="s2">..</span><span class="s1">utils</span><span class="s2">.</span><span class="s1">_plotting </span><span class="s0">import </span><span class="s1">_interval_max_min_ratio</span><span class="s2">, </span><span class="s1">_validate_score_name</span>
<span class="s0">from </span><span class="s2">.</span><span class="s1">_validation </span><span class="s0">import </span><span class="s1">learning_curve</span><span class="s2">, </span><span class="s1">validation_curve</span>


<span class="s0">class </span><span class="s1">_BaseCurveDisplay</span><span class="s2">:</span>
    <span class="s0">def </span><span class="s1">_plot_curve</span><span class="s2">(</span>
        <span class="s1">self</span><span class="s2">,</span>
        <span class="s1">x_data</span><span class="s2">,</span>
        <span class="s2">*,</span>
        <span class="s1">ax</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">negate_score</span><span class="s2">=</span><span class="s0">False</span><span class="s2">,</span>
        <span class="s1">score_name</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">score_type</span><span class="s2">=</span><span class="s3">&quot;test&quot;</span><span class="s2">,</span>
        <span class="s1">std_display_style</span><span class="s2">=</span><span class="s3">&quot;fill_between&quot;</span><span class="s2">,</span>
        <span class="s1">line_kw</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">fill_between_kw</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">errorbar_kw</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
    <span class="s2">):</span>
        <span class="s1">check_matplotlib_support</span><span class="s2">(</span><span class="s3">f&quot;</span><span class="s0">{</span><span class="s1">self</span><span class="s2">.</span><span class="s1">__class__</span><span class="s2">.</span><span class="s1">__name__</span><span class="s0">}</span><span class="s3">.plot&quot;</span><span class="s2">)</span>

        <span class="s0">import </span><span class="s1">matplotlib</span><span class="s2">.</span><span class="s1">pyplot </span><span class="s0">as </span><span class="s1">plt</span>

        <span class="s0">if </span><span class="s1">ax </span><span class="s0">is None</span><span class="s2">:</span>
            <span class="s1">_</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>

        <span class="s0">if </span><span class="s1">negate_score</span><span class="s2">:</span>
            <span class="s1">train_scores</span><span class="s2">, </span><span class="s1">test_scores </span><span class="s2">= -</span><span class="s1">self</span><span class="s2">.</span><span class="s1">train_scores</span><span class="s2">, -</span><span class="s1">self</span><span class="s2">.</span><span class="s1">test_scores</span>
        <span class="s0">else</span><span class="s2">:</span>
            <span class="s1">train_scores</span><span class="s2">, </span><span class="s1">test_scores </span><span class="s2">= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">train_scores</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">test_scores</span>

        <span class="s0">if </span><span class="s1">std_display_style </span><span class="s0">not in </span><span class="s2">(</span><span class="s3">&quot;errorbar&quot;</span><span class="s2">, </span><span class="s3">&quot;fill_between&quot;</span><span class="s2">, </span><span class="s0">None</span><span class="s2">):</span>
            <span class="s0">raise </span><span class="s1">ValueError</span><span class="s2">(</span>
                <span class="s3">f&quot;Unknown std_display_style: </span><span class="s0">{</span><span class="s1">std_display_style</span><span class="s0">}</span><span class="s3">. Should be one of&quot;</span>
                <span class="s3">&quot; 'errorbar', 'fill_between', or None.&quot;</span>
            <span class="s2">)</span>

        <span class="s0">if </span><span class="s1">score_type </span><span class="s0">not in </span><span class="s2">(</span><span class="s3">&quot;test&quot;</span><span class="s2">, </span><span class="s3">&quot;train&quot;</span><span class="s2">, </span><span class="s3">&quot;both&quot;</span><span class="s2">):</span>
            <span class="s0">raise </span><span class="s1">ValueError</span><span class="s2">(</span>
                <span class="s3">f&quot;Unknown score_type: </span><span class="s0">{</span><span class="s1">score_type</span><span class="s0">}</span><span class="s3">. Should be one of 'test', &quot;</span>
                <span class="s3">&quot;'train', or 'both'.&quot;</span>
            <span class="s2">)</span>

        <span class="s0">if </span><span class="s1">score_type </span><span class="s2">== </span><span class="s3">&quot;train&quot;</span><span class="s2">:</span>
            <span class="s1">scores </span><span class="s2">= {</span><span class="s3">&quot;Train&quot;</span><span class="s2">: </span><span class="s1">train_scores</span><span class="s2">}</span>
        <span class="s0">elif </span><span class="s1">score_type </span><span class="s2">== </span><span class="s3">&quot;test&quot;</span><span class="s2">:</span>
            <span class="s1">scores </span><span class="s2">= {</span><span class="s3">&quot;Test&quot;</span><span class="s2">: </span><span class="s1">test_scores</span><span class="s2">}</span>
        <span class="s0">else</span><span class="s2">:  </span><span class="s4"># score_type == &quot;both&quot;</span>
            <span class="s1">scores </span><span class="s2">= {</span><span class="s3">&quot;Train&quot;</span><span class="s2">: </span><span class="s1">train_scores</span><span class="s2">, </span><span class="s3">&quot;Test&quot;</span><span class="s2">: </span><span class="s1">test_scores</span><span class="s2">}</span>

        <span class="s0">if </span><span class="s1">std_display_style </span><span class="s0">in </span><span class="s2">(</span><span class="s3">&quot;fill_between&quot;</span><span class="s2">, </span><span class="s0">None</span><span class="s2">):</span>
            <span class="s4"># plot the mean score</span>
            <span class="s0">if </span><span class="s1">line_kw </span><span class="s0">is None</span><span class="s2">:</span>
                <span class="s1">line_kw </span><span class="s2">= {}</span>

            <span class="s1">self</span><span class="s2">.</span><span class="s1">lines_ </span><span class="s2">= []</span>
            <span class="s0">for </span><span class="s1">line_label</span><span class="s2">, </span><span class="s1">score </span><span class="s0">in </span><span class="s1">scores</span><span class="s2">.</span><span class="s1">items</span><span class="s2">():</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">lines_</span><span class="s2">.</span><span class="s1">append</span><span class="s2">(</span>
                    <span class="s2">*</span><span class="s1">ax</span><span class="s2">.</span><span class="s1">plot</span><span class="s2">(</span>
                        <span class="s1">x_data</span><span class="s2">,</span>
                        <span class="s1">score</span><span class="s2">.</span><span class="s1">mean</span><span class="s2">(</span><span class="s1">axis</span><span class="s2">=</span><span class="s5">1</span><span class="s2">),</span>
                        <span class="s1">label</span><span class="s2">=</span><span class="s1">line_label</span><span class="s2">,</span>
                        <span class="s2">**</span><span class="s1">line_kw</span><span class="s2">,</span>
                    <span class="s2">)</span>
                <span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">errorbar_ </span><span class="s2">= </span><span class="s0">None</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">fill_between_ </span><span class="s2">= </span><span class="s0">None  </span><span class="s4"># overwritten below by fill_between</span>

        <span class="s0">if </span><span class="s1">std_display_style </span><span class="s2">== </span><span class="s3">&quot;errorbar&quot;</span><span class="s2">:</span>
            <span class="s0">if </span><span class="s1">errorbar_kw </span><span class="s0">is None</span><span class="s2">:</span>
                <span class="s1">errorbar_kw </span><span class="s2">= {}</span>

            <span class="s1">self</span><span class="s2">.</span><span class="s1">errorbar_ </span><span class="s2">= []</span>
            <span class="s0">for </span><span class="s1">line_label</span><span class="s2">, </span><span class="s1">score </span><span class="s0">in </span><span class="s1">scores</span><span class="s2">.</span><span class="s1">items</span><span class="s2">():</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">errorbar_</span><span class="s2">.</span><span class="s1">append</span><span class="s2">(</span>
                    <span class="s1">ax</span><span class="s2">.</span><span class="s1">errorbar</span><span class="s2">(</span>
                        <span class="s1">x_data</span><span class="s2">,</span>
                        <span class="s1">score</span><span class="s2">.</span><span class="s1">mean</span><span class="s2">(</span><span class="s1">axis</span><span class="s2">=</span><span class="s5">1</span><span class="s2">),</span>
                        <span class="s1">score</span><span class="s2">.</span><span class="s1">std</span><span class="s2">(</span><span class="s1">axis</span><span class="s2">=</span><span class="s5">1</span><span class="s2">),</span>
                        <span class="s1">label</span><span class="s2">=</span><span class="s1">line_label</span><span class="s2">,</span>
                        <span class="s2">**</span><span class="s1">errorbar_kw</span><span class="s2">,</span>
                    <span class="s2">)</span>
                <span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">lines_</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">fill_between_ </span><span class="s2">= </span><span class="s0">None</span><span class="s2">, </span><span class="s0">None</span>
        <span class="s0">elif </span><span class="s1">std_display_style </span><span class="s2">== </span><span class="s3">&quot;fill_between&quot;</span><span class="s2">:</span>
            <span class="s0">if </span><span class="s1">fill_between_kw </span><span class="s0">is None</span><span class="s2">:</span>
                <span class="s1">fill_between_kw </span><span class="s2">= {}</span>
            <span class="s1">default_fill_between_kw </span><span class="s2">= {</span><span class="s3">&quot;alpha&quot;</span><span class="s2">: </span><span class="s5">0.5</span><span class="s2">}</span>
            <span class="s1">fill_between_kw </span><span class="s2">= {**</span><span class="s1">default_fill_between_kw</span><span class="s2">, **</span><span class="s1">fill_between_kw</span><span class="s2">}</span>

            <span class="s1">self</span><span class="s2">.</span><span class="s1">fill_between_ </span><span class="s2">= []</span>
            <span class="s0">for </span><span class="s1">line_label</span><span class="s2">, </span><span class="s1">score </span><span class="s0">in </span><span class="s1">scores</span><span class="s2">.</span><span class="s1">items</span><span class="s2">():</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">fill_between_</span><span class="s2">.</span><span class="s1">append</span><span class="s2">(</span>
                    <span class="s1">ax</span><span class="s2">.</span><span class="s1">fill_between</span><span class="s2">(</span>
                        <span class="s1">x_data</span><span class="s2">,</span>
                        <span class="s1">score</span><span class="s2">.</span><span class="s1">mean</span><span class="s2">(</span><span class="s1">axis</span><span class="s2">=</span><span class="s5">1</span><span class="s2">) - </span><span class="s1">score</span><span class="s2">.</span><span class="s1">std</span><span class="s2">(</span><span class="s1">axis</span><span class="s2">=</span><span class="s5">1</span><span class="s2">),</span>
                        <span class="s1">score</span><span class="s2">.</span><span class="s1">mean</span><span class="s2">(</span><span class="s1">axis</span><span class="s2">=</span><span class="s5">1</span><span class="s2">) + </span><span class="s1">score</span><span class="s2">.</span><span class="s1">std</span><span class="s2">(</span><span class="s1">axis</span><span class="s2">=</span><span class="s5">1</span><span class="s2">),</span>
                        <span class="s2">**</span><span class="s1">fill_between_kw</span><span class="s2">,</span>
                    <span class="s2">)</span>
                <span class="s2">)</span>

        <span class="s1">score_name </span><span class="s2">= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">score_name </span><span class="s0">if </span><span class="s1">score_name </span><span class="s0">is None else </span><span class="s1">score_name</span>

        <span class="s1">ax</span><span class="s2">.</span><span class="s1">legend</span><span class="s2">()</span>

        <span class="s4"># We found that a ratio, smaller or bigger than 5, between the largest and</span>
        <span class="s4"># smallest gap of the x values is a good indicator to choose between linear</span>
        <span class="s4"># and log scale.</span>
        <span class="s0">if </span><span class="s1">_interval_max_min_ratio</span><span class="s2">(</span><span class="s1">x_data</span><span class="s2">) &gt; </span><span class="s5">5</span><span class="s2">:</span>
            <span class="s1">xscale </span><span class="s2">= </span><span class="s3">&quot;symlog&quot; </span><span class="s0">if </span><span class="s1">x_data</span><span class="s2">.</span><span class="s1">min</span><span class="s2">() &lt;= </span><span class="s5">0 </span><span class="s0">else </span><span class="s3">&quot;log&quot;</span>
        <span class="s0">else</span><span class="s2">:</span>
            <span class="s1">xscale </span><span class="s2">= </span><span class="s3">&quot;linear&quot;</span>

        <span class="s1">ax</span><span class="s2">.</span><span class="s1">set_xscale</span><span class="s2">(</span><span class="s1">xscale</span><span class="s2">)</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">set_ylabel</span><span class="s2">(</span><span class="s3">f&quot;</span><span class="s0">{</span><span class="s1">score_name</span><span class="s0">}</span><span class="s3">&quot;</span><span class="s2">)</span>

        <span class="s1">self</span><span class="s2">.</span><span class="s1">ax_ </span><span class="s2">= </span><span class="s1">ax</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">figure_ </span><span class="s2">= </span><span class="s1">ax</span><span class="s2">.</span><span class="s1">figure</span>


<span class="s0">class </span><span class="s1">LearningCurveDisplay</span><span class="s2">(</span><span class="s1">_BaseCurveDisplay</span><span class="s2">):</span>
    <span class="s6">&quot;&quot;&quot;Learning Curve visualization. 
 
    It is recommended to use 
    :meth:`~sklearn.model_selection.LearningCurveDisplay.from_estimator` to 
    create a :class:`~sklearn.model_selection.LearningCurveDisplay` instance. 
    All parameters are stored as attributes. 
 
    Read more in the :ref:`User Guide &lt;visualizations&gt;` for general information 
    about the visualization API and 
    :ref:`detailed documentation &lt;learning_curve&gt;` regarding the learning 
    curve visualization. 
 
    .. versionadded:: 1.2 
 
    Parameters 
    ---------- 
    train_sizes : ndarray of shape (n_unique_ticks,) 
        Numbers of training examples that has been used to generate the 
        learning curve. 
 
    train_scores : ndarray of shape (n_ticks, n_cv_folds) 
        Scores on training sets. 
 
    test_scores : ndarray of shape (n_ticks, n_cv_folds) 
        Scores on test set. 
 
    score_name : str, default=None 
        The name of the score used in `learning_curve`. It will override the name 
        inferred from the `scoring` parameter. If `score` is `None`, we use `&quot;Score&quot;` if 
        `negate_score` is `False` and `&quot;Negative score&quot;` otherwise. If `scoring` is a 
        string or a callable, we infer the name. We replace `_` by spaces and capitalize 
        the first letter. We remove `neg_` and replace it by `&quot;Negative&quot;` if 
        `negate_score` is `False` or just remove it otherwise. 
 
    Attributes 
    ---------- 
    ax_ : matplotlib Axes 
        Axes with the learning curve. 
 
    figure_ : matplotlib Figure 
        Figure containing the learning curve. 
 
    errorbar_ : list of matplotlib Artist or None 
        When the `std_display_style` is `&quot;errorbar&quot;`, this is a list of 
        `matplotlib.container.ErrorbarContainer` objects. If another style is 
        used, `errorbar_` is `None`. 
 
    lines_ : list of matplotlib Artist or None 
        When the `std_display_style` is `&quot;fill_between&quot;`, this is a list of 
        `matplotlib.lines.Line2D` objects corresponding to the mean train and 
        test scores. If another style is used, `line_` is `None`. 
 
    fill_between_ : list of matplotlib Artist or None 
        When the `std_display_style` is `&quot;fill_between&quot;`, this is a list of 
        `matplotlib.collections.PolyCollection` objects. If another style is 
        used, `fill_between_` is `None`. 
 
    See Also 
    -------- 
    sklearn.model_selection.learning_curve : Compute the learning curve. 
 
    Examples 
    -------- 
    &gt;&gt;&gt; import matplotlib.pyplot as plt 
    &gt;&gt;&gt; from sklearn.datasets import load_iris 
    &gt;&gt;&gt; from sklearn.model_selection import LearningCurveDisplay, learning_curve 
    &gt;&gt;&gt; from sklearn.tree import DecisionTreeClassifier 
    &gt;&gt;&gt; X, y = load_iris(return_X_y=True) 
    &gt;&gt;&gt; tree = DecisionTreeClassifier(random_state=0) 
    &gt;&gt;&gt; train_sizes, train_scores, test_scores = learning_curve( 
    ...     tree, X, y) 
    &gt;&gt;&gt; display = LearningCurveDisplay(train_sizes=train_sizes, 
    ...     train_scores=train_scores, test_scores=test_scores, score_name=&quot;Score&quot;) 
    &gt;&gt;&gt; display.plot() 
    &lt;...&gt; 
    &gt;&gt;&gt; plt.show() 
    &quot;&quot;&quot;</span>

    <span class="s0">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, *, </span><span class="s1">train_sizes</span><span class="s2">, </span><span class="s1">train_scores</span><span class="s2">, </span><span class="s1">test_scores</span><span class="s2">, </span><span class="s1">score_name</span><span class="s2">=</span><span class="s0">None</span><span class="s2">):</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">train_sizes </span><span class="s2">= </span><span class="s1">train_sizes</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">train_scores </span><span class="s2">= </span><span class="s1">train_scores</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">test_scores </span><span class="s2">= </span><span class="s1">test_scores</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">score_name </span><span class="s2">= </span><span class="s1">score_name</span>

    <span class="s0">def </span><span class="s1">plot</span><span class="s2">(</span>
        <span class="s1">self</span><span class="s2">,</span>
        <span class="s1">ax</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s2">*,</span>
        <span class="s1">negate_score</span><span class="s2">=</span><span class="s0">False</span><span class="s2">,</span>
        <span class="s1">score_name</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">score_type</span><span class="s2">=</span><span class="s3">&quot;both&quot;</span><span class="s2">,</span>
        <span class="s1">std_display_style</span><span class="s2">=</span><span class="s3">&quot;fill_between&quot;</span><span class="s2">,</span>
        <span class="s1">line_kw</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">fill_between_kw</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">errorbar_kw</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
    <span class="s2">):</span>
        <span class="s6">&quot;&quot;&quot;Plot visualization. 
 
        Parameters 
        ---------- 
        ax : matplotlib Axes, default=None 
            Axes object to plot on. If `None`, a new figure and axes is 
            created. 
 
        negate_score : bool, default=False 
            Whether or not to negate the scores obtained through 
            :func:`~sklearn.model_selection.learning_curve`. This is 
            particularly useful when using the error denoted by `neg_*` in 
            `scikit-learn`. 
 
        score_name : str, default=None 
            The name of the score used to decorate the y-axis of the plot. It will 
            override the name inferred from the `scoring` parameter. If `score` is 
            `None`, we use `&quot;Score&quot;` if `negate_score` is `False` and `&quot;Negative score&quot;` 
            otherwise. If `scoring` is a string or a callable, we infer the name. We 
            replace `_` by spaces and capitalize the first letter. We remove `neg_` and 
            replace it by `&quot;Negative&quot;` if `negate_score` is 
            `False` or just remove it otherwise. 
 
        score_type : {&quot;test&quot;, &quot;train&quot;, &quot;both&quot;}, default=&quot;both&quot; 
            The type of score to plot. Can be one of `&quot;test&quot;`, `&quot;train&quot;`, or 
            `&quot;both&quot;`. 
 
        std_display_style : {&quot;errorbar&quot;, &quot;fill_between&quot;} or None, default=&quot;fill_between&quot; 
            The style used to display the score standard deviation around the 
            mean score. If None, no standard deviation representation is 
            displayed. 
 
        line_kw : dict, default=None 
            Additional keyword arguments passed to the `plt.plot` used to draw 
            the mean score. 
 
        fill_between_kw : dict, default=None 
            Additional keyword arguments passed to the `plt.fill_between` used 
            to draw the score standard deviation. 
 
        errorbar_kw : dict, default=None 
            Additional keyword arguments passed to the `plt.errorbar` used to 
            draw mean score and standard deviation score. 
 
        Returns 
        ------- 
        display : :class:`~sklearn.model_selection.LearningCurveDisplay` 
            Object that stores computed values. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">_plot_curve</span><span class="s2">(</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">train_sizes</span><span class="s2">,</span>
            <span class="s1">ax</span><span class="s2">=</span><span class="s1">ax</span><span class="s2">,</span>
            <span class="s1">negate_score</span><span class="s2">=</span><span class="s1">negate_score</span><span class="s2">,</span>
            <span class="s1">score_name</span><span class="s2">=</span><span class="s1">score_name</span><span class="s2">,</span>
            <span class="s1">score_type</span><span class="s2">=</span><span class="s1">score_type</span><span class="s2">,</span>
            <span class="s1">std_display_style</span><span class="s2">=</span><span class="s1">std_display_style</span><span class="s2">,</span>
            <span class="s1">line_kw</span><span class="s2">=</span><span class="s1">line_kw</span><span class="s2">,</span>
            <span class="s1">fill_between_kw</span><span class="s2">=</span><span class="s1">fill_between_kw</span><span class="s2">,</span>
            <span class="s1">errorbar_kw</span><span class="s2">=</span><span class="s1">errorbar_kw</span><span class="s2">,</span>
        <span class="s2">)</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">ax_</span><span class="s2">.</span><span class="s1">set_xlabel</span><span class="s2">(</span><span class="s3">&quot;Number of samples in the training set&quot;</span><span class="s2">)</span>
        <span class="s0">return </span><span class="s1">self</span>

    <span class="s2">@</span><span class="s1">classmethod</span>
    <span class="s0">def </span><span class="s1">from_estimator</span><span class="s2">(</span>
        <span class="s1">cls</span><span class="s2">,</span>
        <span class="s1">estimator</span><span class="s2">,</span>
        <span class="s1">X</span><span class="s2">,</span>
        <span class="s1">y</span><span class="s2">,</span>
        <span class="s2">*,</span>
        <span class="s1">groups</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">train_sizes</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">linspace</span><span class="s2">(</span><span class="s5">0.1</span><span class="s2">, </span><span class="s5">1.0</span><span class="s2">, </span><span class="s5">5</span><span class="s2">),</span>
        <span class="s1">cv</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">scoring</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">exploit_incremental_learning</span><span class="s2">=</span><span class="s0">False</span><span class="s2">,</span>
        <span class="s1">n_jobs</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">pre_dispatch</span><span class="s2">=</span><span class="s3">&quot;all&quot;</span><span class="s2">,</span>
        <span class="s1">verbose</span><span class="s2">=</span><span class="s5">0</span><span class="s2">,</span>
        <span class="s1">shuffle</span><span class="s2">=</span><span class="s0">False</span><span class="s2">,</span>
        <span class="s1">random_state</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">error_score</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">nan</span><span class="s2">,</span>
        <span class="s1">fit_params</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">ax</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">negate_score</span><span class="s2">=</span><span class="s0">False</span><span class="s2">,</span>
        <span class="s1">score_name</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">score_type</span><span class="s2">=</span><span class="s3">&quot;both&quot;</span><span class="s2">,</span>
        <span class="s1">std_display_style</span><span class="s2">=</span><span class="s3">&quot;fill_between&quot;</span><span class="s2">,</span>
        <span class="s1">line_kw</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">fill_between_kw</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">errorbar_kw</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
    <span class="s2">):</span>
        <span class="s6">&quot;&quot;&quot;Create a learning curve display from an estimator. 
 
        Read more in the :ref:`User Guide &lt;visualizations&gt;` for general 
        information about the visualization API and :ref:`detailed 
        documentation &lt;learning_curve&gt;` regarding the learning curve 
        visualization. 
 
        Parameters 
        ---------- 
        estimator : object type that implements the &quot;fit&quot; and &quot;predict&quot; methods 
            An object of that type which is cloned for each validation. 
 
        X : array-like of shape (n_samples, n_features) 
            Training data, where `n_samples` is the number of samples and 
            `n_features` is the number of features. 
 
        y : array-like of shape (n_samples,) or (n_samples, n_outputs) or None 
            Target relative to X for classification or regression; 
            None for unsupervised learning. 
 
        groups : array-like of shape (n_samples,), default=None 
            Group labels for the samples used while splitting the dataset into 
            train/test set. Only used in conjunction with a &quot;Group&quot; :term:`cv` 
            instance (e.g., :class:`GroupKFold`). 
 
        train_sizes : array-like of shape (n_ticks,), \ 
                default=np.linspace(0.1, 1.0, 5) 
            Relative or absolute numbers of training examples that will be used 
            to generate the learning curve. If the dtype is float, it is 
            regarded as a fraction of the maximum size of the training set 
            (that is determined by the selected validation method), i.e. it has 
            to be within (0, 1]. Otherwise it is interpreted as absolute sizes 
            of the training sets. Note that for classification the number of 
            samples usually have to be big enough to contain at least one 
            sample from each class. 
 
        cv : int, cross-validation generator or an iterable, default=None 
            Determines the cross-validation splitting strategy. 
            Possible inputs for cv are: 
 
            - None, to use the default 5-fold cross validation, 
            - int, to specify the number of folds in a `(Stratified)KFold`, 
            - :term:`CV splitter`, 
            - An iterable yielding (train, test) splits as arrays of indices. 
 
            For int/None inputs, if the estimator is a classifier and `y` is 
            either binary or multiclass, 
            :class:`~sklearn.model_selection.StratifiedKFold` is used. In all 
            other cases, :class:`~sklearn.model_selection.KFold` is used. These 
            splitters are instantiated with `shuffle=False` so the splits will 
            be the same across calls. 
 
            Refer :ref:`User Guide &lt;cross_validation&gt;` for the various 
            cross-validation strategies that can be used here. 
 
        scoring : str or callable, default=None 
            A string (see :ref:`scoring_parameter`) or 
            a scorer callable object / function with signature 
            `scorer(estimator, X, y)` (see :ref:`scoring`). 
 
        exploit_incremental_learning : bool, default=False 
            If the estimator supports incremental learning, this will be 
            used to speed up fitting for different training set sizes. 
 
        n_jobs : int, default=None 
            Number of jobs to run in parallel. Training the estimator and 
            computing the score are parallelized over the different training 
            and test sets. `None` means 1 unless in a 
            :obj:`joblib.parallel_backend` context. `-1` means using all 
            processors. See :term:`Glossary &lt;n_jobs&gt;` for more details. 
 
        pre_dispatch : int or str, default='all' 
            Number of predispatched jobs for parallel execution (default is 
            all). The option can reduce the allocated memory. The str can 
            be an expression like '2*n_jobs'. 
 
        verbose : int, default=0 
            Controls the verbosity: the higher, the more messages. 
 
        shuffle : bool, default=False 
            Whether to shuffle training data before taking prefixes of it 
            based on`train_sizes`. 
 
        random_state : int, RandomState instance or None, default=None 
            Used when `shuffle` is True. Pass an int for reproducible 
            output across multiple function calls. 
            See :term:`Glossary &lt;random_state&gt;`. 
 
        error_score : 'raise' or numeric, default=np.nan 
            Value to assign to the score if an error occurs in estimator 
            fitting. If set to 'raise', the error is raised. If a numeric value 
            is given, FitFailedWarning is raised. 
 
        fit_params : dict, default=None 
            Parameters to pass to the fit method of the estimator. 
 
        ax : matplotlib Axes, default=None 
            Axes object to plot on. If `None`, a new figure and axes is 
            created. 
 
        negate_score : bool, default=False 
            Whether or not to negate the scores obtained through 
            :func:`~sklearn.model_selection.learning_curve`. This is 
            particularly useful when using the error denoted by `neg_*` in 
            `scikit-learn`. 
 
        score_name : str, default=None 
            The name of the score used to decorate the y-axis of the plot. It will 
            override the name inferred from the `scoring` parameter. If `score` is 
            `None`, we use `&quot;Score&quot;` if `negate_score` is `False` and `&quot;Negative score&quot;` 
            otherwise. If `scoring` is a string or a callable, we infer the name. We 
            replace `_` by spaces and capitalize the first letter. We remove `neg_` and 
            replace it by `&quot;Negative&quot;` if `negate_score` is 
            `False` or just remove it otherwise. 
 
        score_type : {&quot;test&quot;, &quot;train&quot;, &quot;both&quot;}, default=&quot;both&quot; 
            The type of score to plot. Can be one of `&quot;test&quot;`, `&quot;train&quot;`, or 
            `&quot;both&quot;`. 
 
        std_display_style : {&quot;errorbar&quot;, &quot;fill_between&quot;} or None, default=&quot;fill_between&quot; 
            The style used to display the score standard deviation around the 
            mean score. If `None`, no representation of the standard deviation 
            is displayed. 
 
        line_kw : dict, default=None 
            Additional keyword arguments passed to the `plt.plot` used to draw 
            the mean score. 
 
        fill_between_kw : dict, default=None 
            Additional keyword arguments passed to the `plt.fill_between` used 
            to draw the score standard deviation. 
 
        errorbar_kw : dict, default=None 
            Additional keyword arguments passed to the `plt.errorbar` used to 
            draw mean score and standard deviation score. 
 
        Returns 
        ------- 
        display : :class:`~sklearn.model_selection.LearningCurveDisplay` 
            Object that stores computed values. 
 
        Examples 
        -------- 
        &gt;&gt;&gt; import matplotlib.pyplot as plt 
        &gt;&gt;&gt; from sklearn.datasets import load_iris 
        &gt;&gt;&gt; from sklearn.model_selection import LearningCurveDisplay 
        &gt;&gt;&gt; from sklearn.tree import DecisionTreeClassifier 
        &gt;&gt;&gt; X, y = load_iris(return_X_y=True) 
        &gt;&gt;&gt; tree = DecisionTreeClassifier(random_state=0) 
        &gt;&gt;&gt; LearningCurveDisplay.from_estimator(tree, X, y) 
        &lt;...&gt; 
        &gt;&gt;&gt; plt.show() 
        &quot;&quot;&quot;</span>
        <span class="s1">check_matplotlib_support</span><span class="s2">(</span><span class="s3">f&quot;</span><span class="s0">{</span><span class="s1">cls</span><span class="s2">.</span><span class="s1">__name__</span><span class="s0">}</span><span class="s3">.from_estimator&quot;</span><span class="s2">)</span>

        <span class="s1">score_name </span><span class="s2">= </span><span class="s1">_validate_score_name</span><span class="s2">(</span><span class="s1">score_name</span><span class="s2">, </span><span class="s1">scoring</span><span class="s2">, </span><span class="s1">negate_score</span><span class="s2">)</span>

        <span class="s1">train_sizes</span><span class="s2">, </span><span class="s1">train_scores</span><span class="s2">, </span><span class="s1">test_scores </span><span class="s2">= </span><span class="s1">learning_curve</span><span class="s2">(</span>
            <span class="s1">estimator</span><span class="s2">,</span>
            <span class="s1">X</span><span class="s2">,</span>
            <span class="s1">y</span><span class="s2">,</span>
            <span class="s1">groups</span><span class="s2">=</span><span class="s1">groups</span><span class="s2">,</span>
            <span class="s1">train_sizes</span><span class="s2">=</span><span class="s1">train_sizes</span><span class="s2">,</span>
            <span class="s1">cv</span><span class="s2">=</span><span class="s1">cv</span><span class="s2">,</span>
            <span class="s1">scoring</span><span class="s2">=</span><span class="s1">scoring</span><span class="s2">,</span>
            <span class="s1">exploit_incremental_learning</span><span class="s2">=</span><span class="s1">exploit_incremental_learning</span><span class="s2">,</span>
            <span class="s1">n_jobs</span><span class="s2">=</span><span class="s1">n_jobs</span><span class="s2">,</span>
            <span class="s1">pre_dispatch</span><span class="s2">=</span><span class="s1">pre_dispatch</span><span class="s2">,</span>
            <span class="s1">verbose</span><span class="s2">=</span><span class="s1">verbose</span><span class="s2">,</span>
            <span class="s1">shuffle</span><span class="s2">=</span><span class="s1">shuffle</span><span class="s2">,</span>
            <span class="s1">random_state</span><span class="s2">=</span><span class="s1">random_state</span><span class="s2">,</span>
            <span class="s1">error_score</span><span class="s2">=</span><span class="s1">error_score</span><span class="s2">,</span>
            <span class="s1">return_times</span><span class="s2">=</span><span class="s0">False</span><span class="s2">,</span>
            <span class="s1">fit_params</span><span class="s2">=</span><span class="s1">fit_params</span><span class="s2">,</span>
        <span class="s2">)</span>

        <span class="s1">viz </span><span class="s2">= </span><span class="s1">cls</span><span class="s2">(</span>
            <span class="s1">train_sizes</span><span class="s2">=</span><span class="s1">train_sizes</span><span class="s2">,</span>
            <span class="s1">train_scores</span><span class="s2">=</span><span class="s1">train_scores</span><span class="s2">,</span>
            <span class="s1">test_scores</span><span class="s2">=</span><span class="s1">test_scores</span><span class="s2">,</span>
            <span class="s1">score_name</span><span class="s2">=</span><span class="s1">score_name</span><span class="s2">,</span>
        <span class="s2">)</span>
        <span class="s0">return </span><span class="s1">viz</span><span class="s2">.</span><span class="s1">plot</span><span class="s2">(</span>
            <span class="s1">ax</span><span class="s2">=</span><span class="s1">ax</span><span class="s2">,</span>
            <span class="s1">negate_score</span><span class="s2">=</span><span class="s1">negate_score</span><span class="s2">,</span>
            <span class="s1">score_type</span><span class="s2">=</span><span class="s1">score_type</span><span class="s2">,</span>
            <span class="s1">std_display_style</span><span class="s2">=</span><span class="s1">std_display_style</span><span class="s2">,</span>
            <span class="s1">line_kw</span><span class="s2">=</span><span class="s1">line_kw</span><span class="s2">,</span>
            <span class="s1">fill_between_kw</span><span class="s2">=</span><span class="s1">fill_between_kw</span><span class="s2">,</span>
            <span class="s1">errorbar_kw</span><span class="s2">=</span><span class="s1">errorbar_kw</span><span class="s2">,</span>
        <span class="s2">)</span>


<span class="s0">class </span><span class="s1">ValidationCurveDisplay</span><span class="s2">(</span><span class="s1">_BaseCurveDisplay</span><span class="s2">):</span>
    <span class="s6">&quot;&quot;&quot;Validation Curve visualization. 
 
    It is recommended to use 
    :meth:`~sklearn.model_selection.ValidationCurveDisplay.from_estimator` to 
    create a :class:`~sklearn.model_selection.ValidationCurveDisplay` instance. 
    All parameters are stored as attributes. 
 
    Read more in the :ref:`User Guide &lt;visualizations&gt;` for general information 
    about the visualization API and :ref:`detailed documentation 
    &lt;validation_curve&gt;` regarding the validation curve visualization. 
 
    .. versionadded:: 1.3 
 
    Parameters 
    ---------- 
    param_name : str 
        Name of the parameter that has been varied. 
 
    param_range : array-like of shape (n_ticks,) 
        The values of the parameter that have been evaluated. 
 
    train_scores : ndarray of shape (n_ticks, n_cv_folds) 
        Scores on training sets. 
 
    test_scores : ndarray of shape (n_ticks, n_cv_folds) 
        Scores on test set. 
 
    score_name : str, default=None 
        The name of the score used in `validation_curve`. It will override the name 
        inferred from the `scoring` parameter. If `score` is `None`, we use `&quot;Score&quot;` if 
        `negate_score` is `False` and `&quot;Negative score&quot;` otherwise. If `scoring` is a 
        string or a callable, we infer the name. We replace `_` by spaces and capitalize 
        the first letter. We remove `neg_` and replace it by `&quot;Negative&quot;` if 
        `negate_score` is `False` or just remove it otherwise. 
 
    Attributes 
    ---------- 
    ax_ : matplotlib Axes 
        Axes with the validation curve. 
 
    figure_ : matplotlib Figure 
        Figure containing the validation curve. 
 
    errorbar_ : list of matplotlib Artist or None 
        When the `std_display_style` is `&quot;errorbar&quot;`, this is a list of 
        `matplotlib.container.ErrorbarContainer` objects. If another style is 
        used, `errorbar_` is `None`. 
 
    lines_ : list of matplotlib Artist or None 
        When the `std_display_style` is `&quot;fill_between&quot;`, this is a list of 
        `matplotlib.lines.Line2D` objects corresponding to the mean train and 
        test scores. If another style is used, `line_` is `None`. 
 
    fill_between_ : list of matplotlib Artist or None 
        When the `std_display_style` is `&quot;fill_between&quot;`, this is a list of 
        `matplotlib.collections.PolyCollection` objects. If another style is 
        used, `fill_between_` is `None`. 
 
    See Also 
    -------- 
    sklearn.model_selection.validation_curve : Compute the validation curve. 
 
    Examples 
    -------- 
    &gt;&gt;&gt; import numpy as np 
    &gt;&gt;&gt; import matplotlib.pyplot as plt 
    &gt;&gt;&gt; from sklearn.datasets import make_classification 
    &gt;&gt;&gt; from sklearn.model_selection import ValidationCurveDisplay, validation_curve 
    &gt;&gt;&gt; from sklearn.linear_model import LogisticRegression 
    &gt;&gt;&gt; X, y = make_classification(n_samples=1_000, random_state=0) 
    &gt;&gt;&gt; logistic_regression = LogisticRegression() 
    &gt;&gt;&gt; param_name, param_range = &quot;C&quot;, np.logspace(-8, 3, 10) 
    &gt;&gt;&gt; train_scores, test_scores = validation_curve( 
    ...     logistic_regression, X, y, param_name=param_name, param_range=param_range 
    ... ) 
    &gt;&gt;&gt; display = ValidationCurveDisplay( 
    ...     param_name=param_name, param_range=param_range, 
    ...     train_scores=train_scores, test_scores=test_scores, score_name=&quot;Score&quot; 
    ... ) 
    &gt;&gt;&gt; display.plot() 
    &lt;...&gt; 
    &gt;&gt;&gt; plt.show() 
    &quot;&quot;&quot;</span>

    <span class="s0">def </span><span class="s1">__init__</span><span class="s2">(</span>
        <span class="s1">self</span><span class="s2">, *, </span><span class="s1">param_name</span><span class="s2">, </span><span class="s1">param_range</span><span class="s2">, </span><span class="s1">train_scores</span><span class="s2">, </span><span class="s1">test_scores</span><span class="s2">, </span><span class="s1">score_name</span><span class="s2">=</span><span class="s0">None</span>
    <span class="s2">):</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">param_name </span><span class="s2">= </span><span class="s1">param_name</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">param_range </span><span class="s2">= </span><span class="s1">param_range</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">train_scores </span><span class="s2">= </span><span class="s1">train_scores</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">test_scores </span><span class="s2">= </span><span class="s1">test_scores</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">score_name </span><span class="s2">= </span><span class="s1">score_name</span>

    <span class="s0">def </span><span class="s1">plot</span><span class="s2">(</span>
        <span class="s1">self</span><span class="s2">,</span>
        <span class="s1">ax</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s2">*,</span>
        <span class="s1">negate_score</span><span class="s2">=</span><span class="s0">False</span><span class="s2">,</span>
        <span class="s1">score_name</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">score_type</span><span class="s2">=</span><span class="s3">&quot;both&quot;</span><span class="s2">,</span>
        <span class="s1">std_display_style</span><span class="s2">=</span><span class="s3">&quot;fill_between&quot;</span><span class="s2">,</span>
        <span class="s1">line_kw</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">fill_between_kw</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">errorbar_kw</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
    <span class="s2">):</span>
        <span class="s6">&quot;&quot;&quot;Plot visualization. 
 
        Parameters 
        ---------- 
        ax : matplotlib Axes, default=None 
            Axes object to plot on. If `None`, a new figure and axes is 
            created. 
 
        negate_score : bool, default=False 
            Whether or not to negate the scores obtained through 
            :func:`~sklearn.model_selection.validation_curve`. This is 
            particularly useful when using the error denoted by `neg_*` in 
            `scikit-learn`. 
 
        score_name : str, default=None 
            The name of the score used to decorate the y-axis of the plot. It will 
            override the name inferred from the `scoring` parameter. If `score` is 
            `None`, we use `&quot;Score&quot;` if `negate_score` is `False` and `&quot;Negative score&quot;` 
            otherwise. If `scoring` is a string or a callable, we infer the name. We 
            replace `_` by spaces and capitalize the first letter. We remove `neg_` and 
            replace it by `&quot;Negative&quot;` if `negate_score` is 
            `False` or just remove it otherwise. 
 
        score_type : {&quot;test&quot;, &quot;train&quot;, &quot;both&quot;}, default=&quot;both&quot; 
            The type of score to plot. Can be one of `&quot;test&quot;`, `&quot;train&quot;`, or 
            `&quot;both&quot;`. 
 
        std_display_style : {&quot;errorbar&quot;, &quot;fill_between&quot;} or None, default=&quot;fill_between&quot; 
            The style used to display the score standard deviation around the 
            mean score. If None, no standard deviation representation is 
            displayed. 
 
        line_kw : dict, default=None 
            Additional keyword arguments passed to the `plt.plot` used to draw 
            the mean score. 
 
        fill_between_kw : dict, default=None 
            Additional keyword arguments passed to the `plt.fill_between` used 
            to draw the score standard deviation. 
 
        errorbar_kw : dict, default=None 
            Additional keyword arguments passed to the `plt.errorbar` used to 
            draw mean score and standard deviation score. 
 
        Returns 
        ------- 
        display : :class:`~sklearn.model_selection.ValidationCurveDisplay` 
            Object that stores computed values. 
        &quot;&quot;&quot;</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">_plot_curve</span><span class="s2">(</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">param_range</span><span class="s2">,</span>
            <span class="s1">ax</span><span class="s2">=</span><span class="s1">ax</span><span class="s2">,</span>
            <span class="s1">negate_score</span><span class="s2">=</span><span class="s1">negate_score</span><span class="s2">,</span>
            <span class="s1">score_name</span><span class="s2">=</span><span class="s1">score_name</span><span class="s2">,</span>
            <span class="s1">score_type</span><span class="s2">=</span><span class="s1">score_type</span><span class="s2">,</span>
            <span class="s1">std_display_style</span><span class="s2">=</span><span class="s1">std_display_style</span><span class="s2">,</span>
            <span class="s1">line_kw</span><span class="s2">=</span><span class="s1">line_kw</span><span class="s2">,</span>
            <span class="s1">fill_between_kw</span><span class="s2">=</span><span class="s1">fill_between_kw</span><span class="s2">,</span>
            <span class="s1">errorbar_kw</span><span class="s2">=</span><span class="s1">errorbar_kw</span><span class="s2">,</span>
        <span class="s2">)</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">ax_</span><span class="s2">.</span><span class="s1">set_xlabel</span><span class="s2">(</span><span class="s3">f&quot;</span><span class="s0">{</span><span class="s1">self</span><span class="s2">.</span><span class="s1">param_name</span><span class="s0">}</span><span class="s3">&quot;</span><span class="s2">)</span>
        <span class="s0">return </span><span class="s1">self</span>

    <span class="s2">@</span><span class="s1">classmethod</span>
    <span class="s0">def </span><span class="s1">from_estimator</span><span class="s2">(</span>
        <span class="s1">cls</span><span class="s2">,</span>
        <span class="s1">estimator</span><span class="s2">,</span>
        <span class="s1">X</span><span class="s2">,</span>
        <span class="s1">y</span><span class="s2">,</span>
        <span class="s2">*,</span>
        <span class="s1">param_name</span><span class="s2">,</span>
        <span class="s1">param_range</span><span class="s2">,</span>
        <span class="s1">groups</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">cv</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">scoring</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">n_jobs</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">pre_dispatch</span><span class="s2">=</span><span class="s3">&quot;all&quot;</span><span class="s2">,</span>
        <span class="s1">verbose</span><span class="s2">=</span><span class="s5">0</span><span class="s2">,</span>
        <span class="s1">error_score</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">nan</span><span class="s2">,</span>
        <span class="s1">fit_params</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">ax</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">negate_score</span><span class="s2">=</span><span class="s0">False</span><span class="s2">,</span>
        <span class="s1">score_name</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">score_type</span><span class="s2">=</span><span class="s3">&quot;both&quot;</span><span class="s2">,</span>
        <span class="s1">std_display_style</span><span class="s2">=</span><span class="s3">&quot;fill_between&quot;</span><span class="s2">,</span>
        <span class="s1">line_kw</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">fill_between_kw</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
        <span class="s1">errorbar_kw</span><span class="s2">=</span><span class="s0">None</span><span class="s2">,</span>
    <span class="s2">):</span>
        <span class="s6">&quot;&quot;&quot;Create a validation curve display from an estimator. 
 
        Read more in the :ref:`User Guide &lt;visualizations&gt;` for general 
        information about the visualization API and :ref:`detailed 
        documentation &lt;validation_curve&gt;` regarding the validation curve 
        visualization. 
 
        Parameters 
        ---------- 
        estimator : object type that implements the &quot;fit&quot; and &quot;predict&quot; methods 
            An object of that type which is cloned for each validation. 
 
        X : array-like of shape (n_samples, n_features) 
            Training data, where `n_samples` is the number of samples and 
            `n_features` is the number of features. 
 
        y : array-like of shape (n_samples,) or (n_samples, n_outputs) or None 
            Target relative to X for classification or regression; 
            None for unsupervised learning. 
 
        param_name : str 
            Name of the parameter that will be varied. 
 
        param_range : array-like of shape (n_values,) 
            The values of the parameter that will be evaluated. 
 
        groups : array-like of shape (n_samples,), default=None 
            Group labels for the samples used while splitting the dataset into 
            train/test set. Only used in conjunction with a &quot;Group&quot; :term:`cv` 
            instance (e.g., :class:`GroupKFold`). 
 
        cv : int, cross-validation generator or an iterable, default=None 
            Determines the cross-validation splitting strategy. 
            Possible inputs for cv are: 
 
            - None, to use the default 5-fold cross validation, 
            - int, to specify the number of folds in a `(Stratified)KFold`, 
            - :term:`CV splitter`, 
            - An iterable yielding (train, test) splits as arrays of indices. 
 
            For int/None inputs, if the estimator is a classifier and `y` is 
            either binary or multiclass, 
            :class:`~sklearn.model_selection.StratifiedKFold` is used. In all 
            other cases, :class:`~sklearn.model_selection.KFold` is used. These 
            splitters are instantiated with `shuffle=False` so the splits will 
            be the same across calls. 
 
            Refer :ref:`User Guide &lt;cross_validation&gt;` for the various 
            cross-validation strategies that can be used here. 
 
        scoring : str or callable, default=None 
            A string (see :ref:`scoring_parameter`) or 
            a scorer callable object / function with signature 
            `scorer(estimator, X, y)` (see :ref:`scoring`). 
 
        n_jobs : int, default=None 
            Number of jobs to run in parallel. Training the estimator and 
            computing the score are parallelized over the different training 
            and test sets. `None` means 1 unless in a 
            :obj:`joblib.parallel_backend` context. `-1` means using all 
            processors. See :term:`Glossary &lt;n_jobs&gt;` for more details. 
 
        pre_dispatch : int or str, default='all' 
            Number of predispatched jobs for parallel execution (default is 
            all). The option can reduce the allocated memory. The str can 
            be an expression like '2*n_jobs'. 
 
        verbose : int, default=0 
            Controls the verbosity: the higher, the more messages. 
 
        error_score : 'raise' or numeric, default=np.nan 
            Value to assign to the score if an error occurs in estimator 
            fitting. If set to 'raise', the error is raised. If a numeric value 
            is given, FitFailedWarning is raised. 
 
        fit_params : dict, default=None 
            Parameters to pass to the fit method of the estimator. 
 
        ax : matplotlib Axes, default=None 
            Axes object to plot on. If `None`, a new figure and axes is 
            created. 
 
        negate_score : bool, default=False 
            Whether or not to negate the scores obtained through 
            :func:`~sklearn.model_selection.validation_curve`. This is 
            particularly useful when using the error denoted by `neg_*` in 
            `scikit-learn`. 
 
        score_name : str, default=None 
            The name of the score used to decorate the y-axis of the plot. It will 
            override the name inferred from the `scoring` parameter. If `score` is 
            `None`, we use `&quot;Score&quot;` if `negate_score` is `False` and `&quot;Negative score&quot;` 
            otherwise. If `scoring` is a string or a callable, we infer the name. We 
            replace `_` by spaces and capitalize the first letter. We remove `neg_` and 
            replace it by `&quot;Negative&quot;` if `negate_score` is 
            `False` or just remove it otherwise. 
 
        score_type : {&quot;test&quot;, &quot;train&quot;, &quot;both&quot;}, default=&quot;both&quot; 
            The type of score to plot. Can be one of `&quot;test&quot;`, `&quot;train&quot;`, or 
            `&quot;both&quot;`. 
 
        std_display_style : {&quot;errorbar&quot;, &quot;fill_between&quot;} or None, default=&quot;fill_between&quot; 
            The style used to display the score standard deviation around the 
            mean score. If `None`, no representation of the standard deviation 
            is displayed. 
 
        line_kw : dict, default=None 
            Additional keyword arguments passed to the `plt.plot` used to draw 
            the mean score. 
 
        fill_between_kw : dict, default=None 
            Additional keyword arguments passed to the `plt.fill_between` used 
            to draw the score standard deviation. 
 
        errorbar_kw : dict, default=None 
            Additional keyword arguments passed to the `plt.errorbar` used to 
            draw mean score and standard deviation score. 
 
        Returns 
        ------- 
        display : :class:`~sklearn.model_selection.ValidationCurveDisplay` 
            Object that stores computed values. 
 
        Examples 
        -------- 
        &gt;&gt;&gt; import numpy as np 
        &gt;&gt;&gt; import matplotlib.pyplot as plt 
        &gt;&gt;&gt; from sklearn.datasets import make_classification 
        &gt;&gt;&gt; from sklearn.model_selection import ValidationCurveDisplay 
        &gt;&gt;&gt; from sklearn.linear_model import LogisticRegression 
        &gt;&gt;&gt; X, y = make_classification(n_samples=1_000, random_state=0) 
        &gt;&gt;&gt; logistic_regression = LogisticRegression() 
        &gt;&gt;&gt; param_name, param_range = &quot;C&quot;, np.logspace(-8, 3, 10) 
        &gt;&gt;&gt; ValidationCurveDisplay.from_estimator( 
        ...     logistic_regression, X, y, param_name=param_name, 
        ...     param_range=param_range, 
        ... ) 
        &lt;...&gt; 
        &gt;&gt;&gt; plt.show() 
        &quot;&quot;&quot;</span>
        <span class="s1">check_matplotlib_support</span><span class="s2">(</span><span class="s3">f&quot;</span><span class="s0">{</span><span class="s1">cls</span><span class="s2">.</span><span class="s1">__name__</span><span class="s0">}</span><span class="s3">.from_estimator&quot;</span><span class="s2">)</span>

        <span class="s1">score_name </span><span class="s2">= </span><span class="s1">_validate_score_name</span><span class="s2">(</span><span class="s1">score_name</span><span class="s2">, </span><span class="s1">scoring</span><span class="s2">, </span><span class="s1">negate_score</span><span class="s2">)</span>

        <span class="s1">train_scores</span><span class="s2">, </span><span class="s1">test_scores </span><span class="s2">= </span><span class="s1">validation_curve</span><span class="s2">(</span>
            <span class="s1">estimator</span><span class="s2">,</span>
            <span class="s1">X</span><span class="s2">,</span>
            <span class="s1">y</span><span class="s2">,</span>
            <span class="s1">param_name</span><span class="s2">=</span><span class="s1">param_name</span><span class="s2">,</span>
            <span class="s1">param_range</span><span class="s2">=</span><span class="s1">param_range</span><span class="s2">,</span>
            <span class="s1">groups</span><span class="s2">=</span><span class="s1">groups</span><span class="s2">,</span>
            <span class="s1">cv</span><span class="s2">=</span><span class="s1">cv</span><span class="s2">,</span>
            <span class="s1">scoring</span><span class="s2">=</span><span class="s1">scoring</span><span class="s2">,</span>
            <span class="s1">n_jobs</span><span class="s2">=</span><span class="s1">n_jobs</span><span class="s2">,</span>
            <span class="s1">pre_dispatch</span><span class="s2">=</span><span class="s1">pre_dispatch</span><span class="s2">,</span>
            <span class="s1">verbose</span><span class="s2">=</span><span class="s1">verbose</span><span class="s2">,</span>
            <span class="s1">error_score</span><span class="s2">=</span><span class="s1">error_score</span><span class="s2">,</span>
            <span class="s1">fit_params</span><span class="s2">=</span><span class="s1">fit_params</span><span class="s2">,</span>
        <span class="s2">)</span>

        <span class="s1">viz </span><span class="s2">= </span><span class="s1">cls</span><span class="s2">(</span>
            <span class="s1">param_name</span><span class="s2">=</span><span class="s1">param_name</span><span class="s2">,</span>
            <span class="s1">param_range</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">asarray</span><span class="s2">(</span><span class="s1">param_range</span><span class="s2">),</span>
            <span class="s1">train_scores</span><span class="s2">=</span><span class="s1">train_scores</span><span class="s2">,</span>
            <span class="s1">test_scores</span><span class="s2">=</span><span class="s1">test_scores</span><span class="s2">,</span>
            <span class="s1">score_name</span><span class="s2">=</span><span class="s1">score_name</span><span class="s2">,</span>
        <span class="s2">)</span>
        <span class="s0">return </span><span class="s1">viz</span><span class="s2">.</span><span class="s1">plot</span><span class="s2">(</span>
            <span class="s1">ax</span><span class="s2">=</span><span class="s1">ax</span><span class="s2">,</span>
            <span class="s1">negate_score</span><span class="s2">=</span><span class="s1">negate_score</span><span class="s2">,</span>
            <span class="s1">score_type</span><span class="s2">=</span><span class="s1">score_type</span><span class="s2">,</span>
            <span class="s1">std_display_style</span><span class="s2">=</span><span class="s1">std_display_style</span><span class="s2">,</span>
            <span class="s1">line_kw</span><span class="s2">=</span><span class="s1">line_kw</span><span class="s2">,</span>
            <span class="s1">fill_between_kw</span><span class="s2">=</span><span class="s1">fill_between_kw</span><span class="s2">,</span>
            <span class="s1">errorbar_kw</span><span class="s2">=</span><span class="s1">errorbar_kw</span><span class="s2">,</span>
        <span class="s2">)</span>
</pre>
</body>
</html>