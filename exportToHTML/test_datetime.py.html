<html>
<head>
<title>test_datetime.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cf8e6d;}
.s1 { color: #bcbec4;}
.s2 { color: #bcbec4;}
.s3 { color: #6aab73;}
.s4 { color: #2aacb8;}
.s5 { color: #7a7e85;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
test_datetime.py</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">datetime</span>
<span class="s0">import </span><span class="s1">numpy </span><span class="s0">as </span><span class="s1">np</span>

<span class="s0">import </span><span class="s1">pytest</span>

<span class="s0">import </span><span class="s1">matplotlib</span><span class="s2">.</span><span class="s1">pyplot </span><span class="s0">as </span><span class="s1">plt</span>
<span class="s0">import </span><span class="s1">matplotlib </span><span class="s0">as </span><span class="s1">mpl</span>


<span class="s0">class </span><span class="s1">TestDatetimePlotting</span><span class="s2">:</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_annotate</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">'concise'</span>
        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">, </span><span class="s1">ax4</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">4</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">&quot;constrained&quot;</span><span class="s2">)</span>

        <span class="s1">start_date </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s4">1</span><span class="s2">)</span>
        <span class="s1">dates </span><span class="s2">= [</span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s1">i</span><span class="s2">) </span><span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">31</span><span class="s2">)]</span>
        <span class="s1">data </span><span class="s2">= </span><span class="s1">list</span><span class="s2">(</span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">32</span><span class="s2">))</span>
        <span class="s1">test_text </span><span class="s2">= </span><span class="s3">&quot;Test Text&quot;</span>

        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">plot</span><span class="s2">(</span><span class="s1">dates</span><span class="s2">, </span><span class="s1">data</span><span class="s2">)</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">annotate</span><span class="s2">(</span><span class="s1">text</span><span class="s2">=</span><span class="s1">test_text</span><span class="s2">, </span><span class="s1">xy</span><span class="s2">=(</span><span class="s1">dates</span><span class="s2">[</span><span class="s4">15</span><span class="s2">], </span><span class="s1">data</span><span class="s2">[</span><span class="s4">15</span><span class="s2">]))</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">plot</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">dates</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">annotate</span><span class="s2">(</span><span class="s1">text</span><span class="s2">=</span><span class="s1">test_text</span><span class="s2">, </span><span class="s1">xy</span><span class="s2">=(</span><span class="s1">data</span><span class="s2">[</span><span class="s4">5</span><span class="s2">], </span><span class="s1">dates</span><span class="s2">[</span><span class="s4">26</span><span class="s2">]))</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">plot</span><span class="s2">(</span><span class="s1">dates</span><span class="s2">, </span><span class="s1">dates</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">annotate</span><span class="s2">(</span><span class="s1">text</span><span class="s2">=</span><span class="s1">test_text</span><span class="s2">, </span><span class="s1">xy</span><span class="s2">=(</span><span class="s1">dates</span><span class="s2">[</span><span class="s4">15</span><span class="s2">], </span><span class="s1">dates</span><span class="s2">[</span><span class="s4">3</span><span class="s2">]))</span>
        <span class="s1">ax4</span><span class="s2">.</span><span class="s1">plot</span><span class="s2">(</span><span class="s1">dates</span><span class="s2">, </span><span class="s1">dates</span><span class="s2">)</span>
        <span class="s1">ax4</span><span class="s2">.</span><span class="s1">annotate</span><span class="s2">(</span><span class="s1">text</span><span class="s2">=</span><span class="s1">test_text</span><span class="s2">, </span><span class="s1">xy</span><span class="s2">=(</span><span class="s1">dates</span><span class="s2">[</span><span class="s4">5</span><span class="s2">], </span><span class="s1">dates</span><span class="s2">[</span><span class="s4">30</span><span class="s2">]),</span>
                        <span class="s1">xytext</span><span class="s2">=(</span><span class="s1">dates</span><span class="s2">[</span><span class="s4">1</span><span class="s2">], </span><span class="s1">dates</span><span class="s2">[</span><span class="s4">7</span><span class="s2">]), </span><span class="s1">arrowprops</span><span class="s2">=</span><span class="s1">dict</span><span class="s2">(</span><span class="s1">facecolor</span><span class="s2">=</span><span class="s3">'red'</span><span class="s2">))</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for arrow not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_arrow</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">arrow</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_axhline</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">'concise'</span>
        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">3</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">'constrained'</span><span class="s2">)</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">set_ylim</span><span class="s2">(</span><span class="s1">bottom</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">4</span><span class="s2">, </span><span class="s4">1</span><span class="s2">),</span>
                     <span class="s1">top</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">8</span><span class="s2">, </span><span class="s4">1</span><span class="s2">))</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">set_ylim</span><span class="s2">(</span><span class="s1">bottom</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">datetime64</span><span class="s2">(</span><span class="s3">'2005-01-01'</span><span class="s2">),</span>
                     <span class="s1">top</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">datetime64</span><span class="s2">(</span><span class="s3">'2005-04-01'</span><span class="s2">))</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">set_ylim</span><span class="s2">(</span><span class="s1">bottom</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">9</span><span class="s2">, </span><span class="s4">1</span><span class="s2">),</span>
                     <span class="s1">top</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">11</span><span class="s2">, </span><span class="s4">1</span><span class="s2">))</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">axhline</span><span class="s2">(</span><span class="s1">y</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">6</span><span class="s2">, </span><span class="s4">3</span><span class="s2">), </span><span class="s1">xmin</span><span class="s2">=</span><span class="s4">0.5</span><span class="s2">, </span><span class="s1">xmax</span><span class="s2">=</span><span class="s4">0.7</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">axhline</span><span class="s2">(</span><span class="s1">np</span><span class="s2">.</span><span class="s1">datetime64</span><span class="s2">(</span><span class="s3">'2005-02-25T03:30'</span><span class="s2">), </span><span class="s1">xmin</span><span class="s2">=</span><span class="s4">0.1</span><span class="s2">, </span><span class="s1">xmax</span><span class="s2">=</span><span class="s4">0.9</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">axhline</span><span class="s2">(</span><span class="s1">y</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s4">24</span><span class="s2">), </span><span class="s1">xmin</span><span class="s2">=</span><span class="s4">0.4</span><span class="s2">, </span><span class="s1">xmax</span><span class="s2">=</span><span class="s4">0.7</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_axhspan</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">'concise'</span>

        <span class="s1">start_date </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">1</span><span class="s2">)</span>
        <span class="s1">dates </span><span class="s2">= [</span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s1">i</span><span class="s2">) </span><span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">31</span><span class="s2">)]</span>
        <span class="s1">numbers </span><span class="s2">= </span><span class="s1">list</span><span class="s2">(</span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">32</span><span class="s2">))</span>

        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">3</span><span class="s2">, </span><span class="s4">1</span><span class="s2">,</span>
                                            <span class="s1">constrained_layout</span><span class="s2">=</span><span class="s0">True</span><span class="s2">,</span>
                                            <span class="s1">figsize</span><span class="s2">=(</span><span class="s4">10</span><span class="s2">, </span><span class="s4">12</span><span class="s2">))</span>

        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">plot</span><span class="s2">(</span><span class="s1">dates</span><span class="s2">, </span><span class="s1">numbers</span><span class="s2">, </span><span class="s1">marker</span><span class="s2">=</span><span class="s3">'o'</span><span class="s2">, </span><span class="s1">color</span><span class="s2">=</span><span class="s3">'blue'</span><span class="s2">)</span>
        <span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">0</span><span class="s2">, </span><span class="s4">31</span><span class="s2">, </span><span class="s4">2</span><span class="s2">):</span>
            <span class="s1">ax1</span><span class="s2">.</span><span class="s1">axhspan</span><span class="s2">(</span><span class="s1">ymin</span><span class="s2">=</span><span class="s1">i</span><span class="s2">+</span><span class="s4">1</span><span class="s2">, </span><span class="s1">ymax</span><span class="s2">=</span><span class="s1">i</span><span class="s2">+</span><span class="s4">2</span><span class="s2">, </span><span class="s1">facecolor</span><span class="s2">=</span><span class="s3">'green'</span><span class="s2">, </span><span class="s1">alpha</span><span class="s2">=</span><span class="s4">0.5</span><span class="s2">)</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">set_title</span><span class="s2">(</span><span class="s3">'Datetime vs. Number'</span><span class="s2">)</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">set_xlabel</span><span class="s2">(</span><span class="s3">'Date'</span><span class="s2">)</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">set_ylabel</span><span class="s2">(</span><span class="s3">'Number'</span><span class="s2">)</span>

        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">plot</span><span class="s2">(</span><span class="s1">numbers</span><span class="s2">, </span><span class="s1">dates</span><span class="s2">, </span><span class="s1">marker</span><span class="s2">=</span><span class="s3">'o'</span><span class="s2">, </span><span class="s1">color</span><span class="s2">=</span><span class="s3">'blue'</span><span class="s2">)</span>
        <span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">0</span><span class="s2">, </span><span class="s4">31</span><span class="s2">, </span><span class="s4">2</span><span class="s2">):</span>
            <span class="s1">ymin </span><span class="s2">= </span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s1">i</span><span class="s2">)</span>
            <span class="s1">ymax </span><span class="s2">= </span><span class="s1">ymin </span><span class="s2">+ </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s4">1</span><span class="s2">)</span>
            <span class="s1">ax2</span><span class="s2">.</span><span class="s1">axhspan</span><span class="s2">(</span><span class="s1">ymin</span><span class="s2">=</span><span class="s1">ymin</span><span class="s2">, </span><span class="s1">ymax</span><span class="s2">=</span><span class="s1">ymax</span><span class="s2">, </span><span class="s1">facecolor</span><span class="s2">=</span><span class="s3">'green'</span><span class="s2">, </span><span class="s1">alpha</span><span class="s2">=</span><span class="s4">0.5</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">set_title</span><span class="s2">(</span><span class="s3">'Number vs. Datetime'</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">set_xlabel</span><span class="s2">(</span><span class="s3">'Number'</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">set_ylabel</span><span class="s2">(</span><span class="s3">'Date'</span><span class="s2">)</span>

        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">plot</span><span class="s2">(</span><span class="s1">dates</span><span class="s2">, </span><span class="s1">dates</span><span class="s2">, </span><span class="s1">marker</span><span class="s2">=</span><span class="s3">'o'</span><span class="s2">, </span><span class="s1">color</span><span class="s2">=</span><span class="s3">'blue'</span><span class="s2">)</span>
        <span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">0</span><span class="s2">, </span><span class="s4">31</span><span class="s2">, </span><span class="s4">2</span><span class="s2">):</span>
            <span class="s1">ymin </span><span class="s2">= </span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s1">i</span><span class="s2">)</span>
            <span class="s1">ymax </span><span class="s2">= </span><span class="s1">ymin </span><span class="s2">+ </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s4">1</span><span class="s2">)</span>
            <span class="s1">ax3</span><span class="s2">.</span><span class="s1">axhspan</span><span class="s2">(</span><span class="s1">ymin</span><span class="s2">=</span><span class="s1">ymin</span><span class="s2">, </span><span class="s1">ymax</span><span class="s2">=</span><span class="s1">ymax</span><span class="s2">, </span><span class="s1">facecolor</span><span class="s2">=</span><span class="s3">'green'</span><span class="s2">, </span><span class="s1">alpha</span><span class="s2">=</span><span class="s4">0.5</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">set_title</span><span class="s2">(</span><span class="s3">'Datetime vs. Datetime'</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">set_xlabel</span><span class="s2">(</span><span class="s3">'Date'</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">set_ylabel</span><span class="s2">(</span><span class="s3">'Date'</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for axline not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_axline</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">axline</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_axvline</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">'concise'</span>
        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">3</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">'constrained'</span><span class="s2">)</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">set_xlim</span><span class="s2">(</span><span class="s1">left</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">4</span><span class="s2">, </span><span class="s4">1</span><span class="s2">),</span>
                     <span class="s1">right</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">8</span><span class="s2">, </span><span class="s4">1</span><span class="s2">))</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">set_xlim</span><span class="s2">(</span><span class="s1">left</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">datetime64</span><span class="s2">(</span><span class="s3">'2005-01-01'</span><span class="s2">),</span>
                     <span class="s1">right</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">datetime64</span><span class="s2">(</span><span class="s3">'2005-04-01'</span><span class="s2">))</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">set_xlim</span><span class="s2">(</span><span class="s1">left</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">9</span><span class="s2">, </span><span class="s4">1</span><span class="s2">),</span>
                     <span class="s1">right</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">11</span><span class="s2">, </span><span class="s4">1</span><span class="s2">))</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">axvline</span><span class="s2">(</span><span class="s1">x</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">6</span><span class="s2">, </span><span class="s4">3</span><span class="s2">), </span><span class="s1">ymin</span><span class="s2">=</span><span class="s4">0.5</span><span class="s2">, </span><span class="s1">ymax</span><span class="s2">=</span><span class="s4">0.7</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">axvline</span><span class="s2">(</span><span class="s1">np</span><span class="s2">.</span><span class="s1">datetime64</span><span class="s2">(</span><span class="s3">'2005-02-25T03:30'</span><span class="s2">), </span><span class="s1">ymin</span><span class="s2">=</span><span class="s4">0.1</span><span class="s2">, </span><span class="s1">ymax</span><span class="s2">=</span><span class="s4">0.9</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">axvline</span><span class="s2">(</span><span class="s1">x</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s4">24</span><span class="s2">), </span><span class="s1">ymin</span><span class="s2">=</span><span class="s4">0.4</span><span class="s2">, </span><span class="s1">ymax</span><span class="s2">=</span><span class="s4">0.7</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_axvspan</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">'concise'</span>

        <span class="s1">start_date </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">1</span><span class="s2">)</span>
        <span class="s1">dates </span><span class="s2">= [</span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s1">i</span><span class="s2">) </span><span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">31</span><span class="s2">)]</span>
        <span class="s1">numbers </span><span class="s2">= </span><span class="s1">list</span><span class="s2">(</span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">32</span><span class="s2">))</span>

        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">3</span><span class="s2">, </span><span class="s4">1</span><span class="s2">,</span>
                                            <span class="s1">constrained_layout</span><span class="s2">=</span><span class="s0">True</span><span class="s2">,</span>
                                            <span class="s1">figsize</span><span class="s2">=(</span><span class="s4">10</span><span class="s2">, </span><span class="s4">12</span><span class="s2">))</span>

        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">plot</span><span class="s2">(</span><span class="s1">dates</span><span class="s2">, </span><span class="s1">numbers</span><span class="s2">, </span><span class="s1">marker</span><span class="s2">=</span><span class="s3">'o'</span><span class="s2">, </span><span class="s1">color</span><span class="s2">=</span><span class="s3">'blue'</span><span class="s2">)</span>
        <span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">0</span><span class="s2">, </span><span class="s4">31</span><span class="s2">, </span><span class="s4">2</span><span class="s2">):</span>
            <span class="s1">xmin </span><span class="s2">= </span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s1">i</span><span class="s2">)</span>
            <span class="s1">xmax </span><span class="s2">= </span><span class="s1">xmin </span><span class="s2">+ </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s4">1</span><span class="s2">)</span>
            <span class="s1">ax1</span><span class="s2">.</span><span class="s1">axvspan</span><span class="s2">(</span><span class="s1">xmin</span><span class="s2">=</span><span class="s1">xmin</span><span class="s2">, </span><span class="s1">xmax</span><span class="s2">=</span><span class="s1">xmax</span><span class="s2">, </span><span class="s1">facecolor</span><span class="s2">=</span><span class="s3">'red'</span><span class="s2">, </span><span class="s1">alpha</span><span class="s2">=</span><span class="s4">0.5</span><span class="s2">)</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">set_title</span><span class="s2">(</span><span class="s3">'Datetime vs. Number'</span><span class="s2">)</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">set_xlabel</span><span class="s2">(</span><span class="s3">'Date'</span><span class="s2">)</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">set_ylabel</span><span class="s2">(</span><span class="s3">'Number'</span><span class="s2">)</span>

        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">plot</span><span class="s2">(</span><span class="s1">numbers</span><span class="s2">, </span><span class="s1">dates</span><span class="s2">, </span><span class="s1">marker</span><span class="s2">=</span><span class="s3">'o'</span><span class="s2">, </span><span class="s1">color</span><span class="s2">=</span><span class="s3">'blue'</span><span class="s2">)</span>
        <span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">0</span><span class="s2">, </span><span class="s4">31</span><span class="s2">, </span><span class="s4">2</span><span class="s2">):</span>
            <span class="s1">ax2</span><span class="s2">.</span><span class="s1">axvspan</span><span class="s2">(</span><span class="s1">xmin</span><span class="s2">=</span><span class="s1">i</span><span class="s2">+</span><span class="s4">1</span><span class="s2">, </span><span class="s1">xmax</span><span class="s2">=</span><span class="s1">i</span><span class="s2">+</span><span class="s4">2</span><span class="s2">, </span><span class="s1">facecolor</span><span class="s2">=</span><span class="s3">'red'</span><span class="s2">, </span><span class="s1">alpha</span><span class="s2">=</span><span class="s4">0.5</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">set_title</span><span class="s2">(</span><span class="s3">'Number vs. Datetime'</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">set_xlabel</span><span class="s2">(</span><span class="s3">'Number'</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">set_ylabel</span><span class="s2">(</span><span class="s3">'Date'</span><span class="s2">)</span>

        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">plot</span><span class="s2">(</span><span class="s1">dates</span><span class="s2">, </span><span class="s1">dates</span><span class="s2">, </span><span class="s1">marker</span><span class="s2">=</span><span class="s3">'o'</span><span class="s2">, </span><span class="s1">color</span><span class="s2">=</span><span class="s3">'blue'</span><span class="s2">)</span>
        <span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">0</span><span class="s2">, </span><span class="s4">31</span><span class="s2">, </span><span class="s4">2</span><span class="s2">):</span>
            <span class="s1">xmin </span><span class="s2">= </span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s1">i</span><span class="s2">)</span>
            <span class="s1">xmax </span><span class="s2">= </span><span class="s1">xmin </span><span class="s2">+ </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s4">1</span><span class="s2">)</span>
            <span class="s1">ax3</span><span class="s2">.</span><span class="s1">axvspan</span><span class="s2">(</span><span class="s1">xmin</span><span class="s2">=</span><span class="s1">xmin</span><span class="s2">, </span><span class="s1">xmax</span><span class="s2">=</span><span class="s1">xmax</span><span class="s2">, </span><span class="s1">facecolor</span><span class="s2">=</span><span class="s3">'red'</span><span class="s2">, </span><span class="s1">alpha</span><span class="s2">=</span><span class="s4">0.5</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">set_title</span><span class="s2">(</span><span class="s3">'Datetime vs. Datetime'</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">set_xlabel</span><span class="s2">(</span><span class="s3">'Date'</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">set_ylabel</span><span class="s2">(</span><span class="s3">'Date'</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_bar</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">&quot;concise&quot;</span>

        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">2</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">&quot;constrained&quot;</span><span class="s2">)</span>

        <span class="s1">x_dates </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">(</span>
            <span class="s2">[</span>
                <span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">6</span><span class="s2">, </span><span class="s4">30</span><span class="s2">),</span>
                <span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">7</span><span class="s2">, </span><span class="s4">22</span><span class="s2">),</span>
                <span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">8</span><span class="s2">, </span><span class="s4">3</span><span class="s2">),</span>
                <span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">9</span><span class="s2">, </span><span class="s4">14</span><span class="s2">),</span>
            <span class="s2">],</span>
            <span class="s1">dtype</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">datetime64</span><span class="s2">,</span>
        <span class="s2">)</span>
        <span class="s1">x_ranges </span><span class="s2">= [</span><span class="s4">8800</span><span class="s2">, </span><span class="s4">2600</span><span class="s2">, </span><span class="s4">8500</span><span class="s2">, </span><span class="s4">7400</span><span class="s2">]</span>

        <span class="s1">x </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">datetime64</span><span class="s2">(</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">6</span><span class="s2">, </span><span class="s4">1</span><span class="s2">))</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">bar</span><span class="s2">(</span><span class="s1">x_dates</span><span class="s2">, </span><span class="s1">x_ranges</span><span class="s2">, </span><span class="s1">width</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">timedelta64</span><span class="s2">(</span><span class="s4">4</span><span class="s2">, </span><span class="s3">&quot;D&quot;</span><span class="s2">))</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">bar</span><span class="s2">(</span><span class="s1">np</span><span class="s2">.</span><span class="s1">arange</span><span class="s2">(</span><span class="s4">4</span><span class="s2">), </span><span class="s1">x_dates </span><span class="s2">- </span><span class="s1">x</span><span class="s2">, </span><span class="s1">bottom</span><span class="s2">=</span><span class="s1">x</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_bar_label</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s5"># Generate some example data with dateTime inputs</span>
        <span class="s1">date_list </span><span class="s2">= [</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">1</span><span class="s2">) +</span>
                     <span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s1">i</span><span class="s2">) </span><span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">5</span><span class="s2">)]</span>
        <span class="s1">values </span><span class="s2">= [</span><span class="s4">10</span><span class="s2">, </span><span class="s4">20</span><span class="s2">, </span><span class="s4">15</span><span class="s2">, </span><span class="s4">25</span><span class="s2">, </span><span class="s4">30</span><span class="s2">]</span>

        <span class="s5"># Creating the plot</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">figsize</span><span class="s2">=(</span><span class="s4">10</span><span class="s2">, </span><span class="s4">8</span><span class="s2">), </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">'constrained'</span><span class="s2">)</span>
        <span class="s1">bars </span><span class="s2">= </span><span class="s1">ax</span><span class="s2">.</span><span class="s1">bar</span><span class="s2">(</span><span class="s1">date_list</span><span class="s2">, </span><span class="s1">values</span><span class="s2">)</span>

        <span class="s5"># Add labels to the bars using bar_label</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">bar_label</span><span class="s2">(</span><span class="s1">bars</span><span class="s2">, </span><span class="s1">labels</span><span class="s2">=[</span><span class="s3">f'</span><span class="s0">{</span><span class="s1">val</span><span class="s0">}</span><span class="s3">%' </span><span class="s0">for </span><span class="s1">val </span><span class="s0">in </span><span class="s1">values</span><span class="s2">],</span>
                     <span class="s1">label_type</span><span class="s2">=</span><span class="s3">'edge'</span><span class="s2">, </span><span class="s1">color</span><span class="s2">=</span><span class="s3">'black'</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_barbs</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">plt</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">'concise'</span>

        <span class="s1">start_date </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2022</span><span class="s2">, </span><span class="s4">2</span><span class="s2">, </span><span class="s4">8</span><span class="s2">, </span><span class="s4">22</span><span class="s2">)</span>
        <span class="s1">dates </span><span class="s2">= [</span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">hours</span><span class="s2">=</span><span class="s1">i</span><span class="s2">) </span><span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">12</span><span class="s2">)]</span>

        <span class="s1">numbers </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">sin</span><span class="s2">(</span><span class="s1">np</span><span class="s2">.</span><span class="s1">linspace</span><span class="s2">(</span><span class="s4">0</span><span class="s2">, </span><span class="s4">2 </span><span class="s2">* </span><span class="s1">np</span><span class="s2">.</span><span class="s1">pi</span><span class="s2">, </span><span class="s4">12</span><span class="s2">))</span>

        <span class="s1">u </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">ones</span><span class="s2">(</span><span class="s4">12</span><span class="s2">) * </span><span class="s4">10</span>
        <span class="s1">v </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">arange</span><span class="s2">(</span><span class="s4">0</span><span class="s2">, </span><span class="s4">120</span><span class="s2">, </span><span class="s4">10</span><span class="s2">)</span>

        <span class="s1">fig</span><span class="s2">, </span><span class="s1">axes </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s1">nrows</span><span class="s2">=</span><span class="s4">1</span><span class="s2">, </span><span class="s1">ncols</span><span class="s2">=</span><span class="s4">2</span><span class="s2">, </span><span class="s1">figsize</span><span class="s2">=(</span><span class="s4">12</span><span class="s2">, </span><span class="s4">6</span><span class="s2">))</span>

        <span class="s1">axes</span><span class="s2">[</span><span class="s4">0</span><span class="s2">].</span><span class="s1">barbs</span><span class="s2">(</span><span class="s1">dates</span><span class="s2">, </span><span class="s1">numbers</span><span class="s2">, </span><span class="s1">u</span><span class="s2">, </span><span class="s1">v</span><span class="s2">, </span><span class="s1">length</span><span class="s2">=</span><span class="s4">7</span><span class="s2">)</span>
        <span class="s1">axes</span><span class="s2">[</span><span class="s4">0</span><span class="s2">].</span><span class="s1">set_title</span><span class="s2">(</span><span class="s3">'Datetime vs. Numeric Data'</span><span class="s2">)</span>
        <span class="s1">axes</span><span class="s2">[</span><span class="s4">0</span><span class="s2">].</span><span class="s1">set_xlabel</span><span class="s2">(</span><span class="s3">'Datetime'</span><span class="s2">)</span>
        <span class="s1">axes</span><span class="s2">[</span><span class="s4">0</span><span class="s2">].</span><span class="s1">set_ylabel</span><span class="s2">(</span><span class="s3">'Numeric Data'</span><span class="s2">)</span>

        <span class="s1">axes</span><span class="s2">[</span><span class="s4">1</span><span class="s2">].</span><span class="s1">barbs</span><span class="s2">(</span><span class="s1">numbers</span><span class="s2">, </span><span class="s1">dates</span><span class="s2">, </span><span class="s1">u</span><span class="s2">, </span><span class="s1">v</span><span class="s2">, </span><span class="s1">length</span><span class="s2">=</span><span class="s4">7</span><span class="s2">)</span>
        <span class="s1">axes</span><span class="s2">[</span><span class="s4">1</span><span class="s2">].</span><span class="s1">set_title</span><span class="s2">(</span><span class="s3">'Numeric vs. Datetime Data'</span><span class="s2">)</span>
        <span class="s1">axes</span><span class="s2">[</span><span class="s4">1</span><span class="s2">].</span><span class="s1">set_xlabel</span><span class="s2">(</span><span class="s3">'Numeric Data'</span><span class="s2">)</span>
        <span class="s1">axes</span><span class="s2">[</span><span class="s4">1</span><span class="s2">].</span><span class="s1">set_ylabel</span><span class="s2">(</span><span class="s3">'Datetime'</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_barh</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">'concise'</span>
        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">2</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">'constrained'</span><span class="s2">)</span>
        <span class="s1">birth_date </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">([</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">4</span><span class="s2">, </span><span class="s4">10</span><span class="s2">),</span>
                               <span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">5</span><span class="s2">, </span><span class="s4">30</span><span class="s2">),</span>
                               <span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s4">12</span><span class="s2">),</span>
                               <span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">11</span><span class="s2">, </span><span class="s4">15</span><span class="s2">)])</span>
        <span class="s1">year_start </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">1</span><span class="s2">)</span>
        <span class="s1">year_end </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">12</span><span class="s2">, </span><span class="s4">31</span><span class="s2">)</span>
        <span class="s1">age </span><span class="s2">= [</span><span class="s4">21</span><span class="s2">, </span><span class="s4">53</span><span class="s2">, </span><span class="s4">20</span><span class="s2">, </span><span class="s4">24</span><span class="s2">]</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">set_xlabel</span><span class="s2">(</span><span class="s3">'Age'</span><span class="s2">)</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">set_ylabel</span><span class="s2">(</span><span class="s3">'Birth Date'</span><span class="s2">)</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">barh</span><span class="s2">(</span><span class="s1">birth_date</span><span class="s2">, </span><span class="s1">width</span><span class="s2">=</span><span class="s1">age</span><span class="s2">, </span><span class="s1">height</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s4">10</span><span class="s2">))</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">set_xlim</span><span class="s2">(</span><span class="s1">left</span><span class="s2">=</span><span class="s1">year_start</span><span class="s2">, </span><span class="s1">right</span><span class="s2">=</span><span class="s1">year_end</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">set_xlabel</span><span class="s2">(</span><span class="s3">'Birth Date'</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">set_ylabel</span><span class="s2">(</span><span class="s3">'Order of Birth Dates'</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">barh</span><span class="s2">(</span><span class="s1">np</span><span class="s2">.</span><span class="s1">arange</span><span class="s2">(</span><span class="s4">4</span><span class="s2">), </span><span class="s1">birth_date</span><span class="s2">-</span><span class="s1">year_start</span><span class="s2">, </span><span class="s1">left</span><span class="s2">=</span><span class="s1">year_start</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for boxplot not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_boxplot</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">boxplot</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_broken_barh</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s5"># Horizontal bar plot with gaps</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">'concise'</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>

        <span class="s1">ax</span><span class="s2">.</span><span class="s1">broken_barh</span><span class="s2">([(</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">4</span><span class="s2">), </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s4">2</span><span class="s2">)),</span>
                        <span class="s2">(</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">8</span><span class="s2">), </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s4">3</span><span class="s2">))],</span>
                        <span class="s2">(</span><span class="s4">10</span><span class="s2">, </span><span class="s4">9</span><span class="s2">), </span><span class="s1">facecolors</span><span class="s2">=</span><span class="s3">'tab:blue'</span><span class="s2">)</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">broken_barh</span><span class="s2">([(</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">2</span><span class="s2">), </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s4">1</span><span class="s2">)),</span>
                         <span class="s2">(</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">4</span><span class="s2">), </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s4">4</span><span class="s2">))],</span>
                         <span class="s2">(</span><span class="s4">20</span><span class="s2">, </span><span class="s4">9</span><span class="s2">), </span><span class="s1">facecolors</span><span class="s2">=(</span><span class="s3">'tab:red'</span><span class="s2">))</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_bxp</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">'concise'</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">data </span><span class="s2">= [{</span>
            <span class="s3">&quot;med&quot;</span><span class="s2">: </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">15</span><span class="s2">),</span>
            <span class="s3">&quot;q1&quot;</span><span class="s2">: </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">10</span><span class="s2">),</span>
            <span class="s3">&quot;q3&quot;</span><span class="s2">: </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">20</span><span class="s2">),</span>
            <span class="s3">&quot;whislo&quot;</span><span class="s2">: </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">5</span><span class="s2">),</span>
            <span class="s3">&quot;whishi&quot;</span><span class="s2">: </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">25</span><span class="s2">),</span>
            <span class="s3">&quot;fliers&quot;</span><span class="s2">: [</span>
                <span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">3</span><span class="s2">),</span>
                <span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">27</span><span class="s2">)</span>
            <span class="s2">]</span>
        <span class="s2">}]</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">bxp</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">vert</span><span class="s2">=</span><span class="s0">False</span><span class="s2">)</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">xaxis</span><span class="s2">.</span><span class="s1">set_major_formatter</span><span class="s2">(</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">dates</span><span class="s2">.</span><span class="s1">DateFormatter</span><span class="s2">(</span><span class="s3">&quot;%Y-%m-%d&quot;</span><span class="s2">))</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">set_title</span><span class="s2">(</span><span class="s3">'Box plot with datetime data'</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for clabel not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_clabel</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">clabel</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_contour</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">&quot;concise&quot;</span>
        <span class="s1">range_threshold </span><span class="s2">= </span><span class="s4">10</span>
        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">3</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">&quot;constrained&quot;</span><span class="s2">)</span>

        <span class="s1">x_dates </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">(</span>
            <span class="s2">[</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s1">delta</span><span class="s2">) </span><span class="s0">for </span><span class="s1">delta </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">range_threshold</span><span class="s2">)]</span>
        <span class="s2">)</span>
        <span class="s1">y_dates </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">(</span>
            <span class="s2">[</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s1">delta</span><span class="s2">) </span><span class="s0">for </span><span class="s1">delta </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">range_threshold</span><span class="s2">)]</span>
        <span class="s2">)</span>
        <span class="s1">x_ranges </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">(</span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">range_threshold</span><span class="s2">))</span>
        <span class="s1">y_ranges </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">(</span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">range_threshold</span><span class="s2">))</span>

        <span class="s1">X_dates</span><span class="s2">, </span><span class="s1">Y_dates </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">meshgrid</span><span class="s2">(</span><span class="s1">x_dates</span><span class="s2">, </span><span class="s1">y_dates</span><span class="s2">)</span>
        <span class="s1">X_ranges</span><span class="s2">, </span><span class="s1">Y_ranges </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">meshgrid</span><span class="s2">(</span><span class="s1">x_ranges</span><span class="s2">, </span><span class="s1">y_ranges</span><span class="s2">)</span>

        <span class="s1">Z_ranges </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">cos</span><span class="s2">(</span><span class="s1">X_ranges </span><span class="s2">/ </span><span class="s4">4</span><span class="s2">) + </span><span class="s1">np</span><span class="s2">.</span><span class="s1">sin</span><span class="s2">(</span><span class="s1">Y_ranges </span><span class="s2">/ </span><span class="s4">4</span><span class="s2">)</span>

        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">contour</span><span class="s2">(</span><span class="s1">X_dates</span><span class="s2">, </span><span class="s1">Y_dates</span><span class="s2">, </span><span class="s1">Z_ranges</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">contour</span><span class="s2">(</span><span class="s1">X_dates</span><span class="s2">, </span><span class="s1">Y_ranges</span><span class="s2">, </span><span class="s1">Z_ranges</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">contour</span><span class="s2">(</span><span class="s1">X_ranges</span><span class="s2">, </span><span class="s1">Y_dates</span><span class="s2">, </span><span class="s1">Z_ranges</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_contourf</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">&quot;concise&quot;</span>
        <span class="s1">range_threshold </span><span class="s2">= </span><span class="s4">10</span>
        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">3</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">&quot;constrained&quot;</span><span class="s2">)</span>

        <span class="s1">x_dates </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">(</span>
            <span class="s2">[</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s1">delta</span><span class="s2">) </span><span class="s0">for </span><span class="s1">delta </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">range_threshold</span><span class="s2">)]</span>
        <span class="s2">)</span>
        <span class="s1">y_dates </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">(</span>
            <span class="s2">[</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s1">delta</span><span class="s2">) </span><span class="s0">for </span><span class="s1">delta </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">range_threshold</span><span class="s2">)]</span>
        <span class="s2">)</span>
        <span class="s1">x_ranges </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">(</span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">range_threshold</span><span class="s2">))</span>
        <span class="s1">y_ranges </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">(</span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">range_threshold</span><span class="s2">))</span>

        <span class="s1">X_dates</span><span class="s2">, </span><span class="s1">Y_dates </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">meshgrid</span><span class="s2">(</span><span class="s1">x_dates</span><span class="s2">, </span><span class="s1">y_dates</span><span class="s2">)</span>
        <span class="s1">X_ranges</span><span class="s2">, </span><span class="s1">Y_ranges </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">meshgrid</span><span class="s2">(</span><span class="s1">x_ranges</span><span class="s2">, </span><span class="s1">y_ranges</span><span class="s2">)</span>

        <span class="s1">Z_ranges </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">cos</span><span class="s2">(</span><span class="s1">X_ranges </span><span class="s2">/ </span><span class="s4">4</span><span class="s2">) + </span><span class="s1">np</span><span class="s2">.</span><span class="s1">sin</span><span class="s2">(</span><span class="s1">Y_ranges </span><span class="s2">/ </span><span class="s4">4</span><span class="s2">)</span>

        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">contourf</span><span class="s2">(</span><span class="s1">X_dates</span><span class="s2">, </span><span class="s1">Y_dates</span><span class="s2">, </span><span class="s1">Z_ranges</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">contourf</span><span class="s2">(</span><span class="s1">X_dates</span><span class="s2">, </span><span class="s1">Y_ranges</span><span class="s2">, </span><span class="s1">Z_ranges</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">contourf</span><span class="s2">(</span><span class="s1">X_ranges</span><span class="s2">, </span><span class="s1">Y_dates</span><span class="s2">, </span><span class="s1">Z_ranges</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_errorbar</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">&quot;concise&quot;</span>
        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">, </span><span class="s1">ax4</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">4</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">&quot;constrained&quot;</span><span class="s2">)</span>
        <span class="s1">limit </span><span class="s2">= </span><span class="s4">7</span>
        <span class="s1">start_date </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">1</span><span class="s2">)</span>

        <span class="s1">x_dates </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">([</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s1">d</span><span class="s2">) </span><span class="s0">for </span><span class="s1">d </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">limit</span><span class="s2">)])</span>
        <span class="s1">y_dates </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">([</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s1">d</span><span class="s2">) </span><span class="s0">for </span><span class="s1">d </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">limit</span><span class="s2">)])</span>
        <span class="s1">x_date_error </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s4">1</span><span class="s2">)</span>
        <span class="s1">y_date_error </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s4">1</span><span class="s2">)</span>

        <span class="s1">x_values </span><span class="s2">= </span><span class="s1">list</span><span class="s2">(</span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">limit</span><span class="s2">))</span>
        <span class="s1">y_values </span><span class="s2">= </span><span class="s1">list</span><span class="s2">(</span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">limit</span><span class="s2">))</span>
        <span class="s1">x_value_error </span><span class="s2">= </span><span class="s4">0.5</span>
        <span class="s1">y_value_error </span><span class="s2">= </span><span class="s4">0.5</span>

        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">errorbar</span><span class="s2">(</span><span class="s1">x_dates</span><span class="s2">, </span><span class="s1">y_values</span><span class="s2">,</span>
                     <span class="s1">yerr</span><span class="s2">=</span><span class="s1">y_value_error</span><span class="s2">,</span>
                     <span class="s1">capsize</span><span class="s2">=</span><span class="s4">10</span><span class="s2">,</span>
                     <span class="s1">barsabove</span><span class="s2">=</span><span class="s0">True</span><span class="s2">,</span>
                     <span class="s1">label</span><span class="s2">=</span><span class="s3">'Data'</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">errorbar</span><span class="s2">(</span><span class="s1">x_values</span><span class="s2">, </span><span class="s1">y_dates</span><span class="s2">,</span>
                     <span class="s1">xerr</span><span class="s2">=</span><span class="s1">x_value_error</span><span class="s2">, </span><span class="s1">yerr</span><span class="s2">=</span><span class="s1">y_date_error</span><span class="s2">,</span>
                     <span class="s1">errorevery</span><span class="s2">=(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">2</span><span class="s2">),</span>
                     <span class="s1">fmt</span><span class="s2">=</span><span class="s3">'-o'</span><span class="s2">, </span><span class="s1">label</span><span class="s2">=</span><span class="s3">'Data'</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">errorbar</span><span class="s2">(</span><span class="s1">x_dates</span><span class="s2">, </span><span class="s1">y_dates</span><span class="s2">,</span>
                     <span class="s1">xerr</span><span class="s2">=</span><span class="s1">x_date_error</span><span class="s2">, </span><span class="s1">yerr</span><span class="s2">=</span><span class="s1">y_date_error</span><span class="s2">,</span>
                     <span class="s1">lolims</span><span class="s2">=</span><span class="s0">True</span><span class="s2">, </span><span class="s1">xlolims</span><span class="s2">=</span><span class="s0">True</span><span class="s2">,</span>
                     <span class="s1">label</span><span class="s2">=</span><span class="s3">'Data'</span><span class="s2">)</span>
        <span class="s1">ax4</span><span class="s2">.</span><span class="s1">errorbar</span><span class="s2">(</span><span class="s1">x_dates</span><span class="s2">, </span><span class="s1">y_values</span><span class="s2">,</span>
                     <span class="s1">xerr</span><span class="s2">=</span><span class="s1">x_date_error</span><span class="s2">, </span><span class="s1">yerr</span><span class="s2">=</span><span class="s1">y_value_error</span><span class="s2">,</span>
                     <span class="s1">uplims</span><span class="s2">=</span><span class="s0">True</span><span class="s2">, </span><span class="s1">xuplims</span><span class="s2">=</span><span class="s0">True</span><span class="s2">,</span>
                     <span class="s1">label</span><span class="s2">=</span><span class="s3">'Data'</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_eventplot</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">&quot;concise&quot;</span>

        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">3</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">&quot;constrained&quot;</span><span class="s2">)</span>

        <span class="s1">x_dates1 </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">([</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">6</span><span class="s2">, </span><span class="s4">30</span><span class="s2">),</span>
                             <span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">7</span><span class="s2">, </span><span class="s4">22</span><span class="s2">),</span>
                             <span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">8</span><span class="s2">, </span><span class="s4">3</span><span class="s2">),</span>
                             <span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">9</span><span class="s2">, </span><span class="s4">14</span><span class="s2">),],</span>
                            <span class="s1">dtype</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">datetime64</span><span class="s2">,</span>
                            <span class="s2">)</span>

        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">eventplot</span><span class="s2">(</span><span class="s1">x_dates1</span><span class="s2">)</span>

        <span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">seed</span><span class="s2">(</span><span class="s4">19680801</span><span class="s2">)</span>

        <span class="s1">start_date </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">7</span><span class="s2">, </span><span class="s4">1</span><span class="s2">)</span>
        <span class="s1">end_date </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s4">15</span><span class="s2">)</span>
        <span class="s1">date_range </span><span class="s2">= </span><span class="s1">end_date </span><span class="s2">- </span><span class="s1">start_date</span>

        <span class="s1">dates1 </span><span class="s2">= </span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">rand</span><span class="s2">(</span><span class="s4">30</span><span class="s2">) * </span><span class="s1">date_range</span>
        <span class="s1">dates2 </span><span class="s2">= </span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">rand</span><span class="s2">(</span><span class="s4">10</span><span class="s2">) * </span><span class="s1">date_range</span>
        <span class="s1">dates3 </span><span class="s2">= </span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">rand</span><span class="s2">(</span><span class="s4">50</span><span class="s2">) * </span><span class="s1">date_range</span>

        <span class="s1">colors1 </span><span class="s2">= [</span><span class="s3">'C1'</span><span class="s2">, </span><span class="s3">'C2'</span><span class="s2">, </span><span class="s3">'C3'</span><span class="s2">]</span>
        <span class="s1">lineoffsets1 </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">([</span><span class="s4">1</span><span class="s2">, </span><span class="s4">6</span><span class="s2">, </span><span class="s4">8</span><span class="s2">])</span>
        <span class="s1">linelengths1 </span><span class="s2">= [</span><span class="s4">5</span><span class="s2">, </span><span class="s4">2</span><span class="s2">, </span><span class="s4">3</span><span class="s2">]</span>

        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">eventplot</span><span class="s2">([</span><span class="s1">dates1</span><span class="s2">, </span><span class="s1">dates2</span><span class="s2">, </span><span class="s1">dates3</span><span class="s2">],</span>
                      <span class="s1">colors</span><span class="s2">=</span><span class="s1">colors1</span><span class="s2">,</span>
                      <span class="s1">lineoffsets</span><span class="s2">=</span><span class="s1">lineoffsets1</span><span class="s2">,</span>
                      <span class="s1">linelengths</span><span class="s2">=</span><span class="s1">linelengths1</span><span class="s2">)</span>

        <span class="s1">lineoffsets2 </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">([</span>
            <span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">7</span><span class="s2">, </span><span class="s4">1</span><span class="s2">),</span>
            <span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">7</span><span class="s2">, </span><span class="s4">15</span><span class="s2">),</span>
            <span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">8</span><span class="s2">, </span><span class="s4">1</span><span class="s2">)</span>
        <span class="s2">], </span><span class="s1">dtype</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">datetime64</span><span class="s2">)</span>

        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">eventplot</span><span class="s2">([</span><span class="s1">dates1</span><span class="s2">, </span><span class="s1">dates2</span><span class="s2">, </span><span class="s1">dates3</span><span class="s2">],</span>
                      <span class="s1">colors</span><span class="s2">=</span><span class="s1">colors1</span><span class="s2">,</span>
                      <span class="s1">lineoffsets</span><span class="s2">=</span><span class="s1">lineoffsets2</span><span class="s2">,</span>
                      <span class="s1">linelengths</span><span class="s2">=</span><span class="s1">linelengths1</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_fill</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">&quot;concise&quot;</span>
        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">, </span><span class="s1">ax4</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">4</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">&quot;constrained&quot;</span><span class="s2">)</span>

        <span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">seed</span><span class="s2">(</span><span class="s4">19680801</span><span class="s2">)</span>

        <span class="s1">x_base_date </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">1</span><span class="s2">)</span>
        <span class="s1">x_dates </span><span class="s2">= [</span><span class="s1">x_base_date</span><span class="s2">]</span>
        <span class="s0">for </span><span class="s1">_ </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">5</span><span class="s2">):</span>
            <span class="s1">x_base_date </span><span class="s2">+= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">randint</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">5</span><span class="s2">))</span>
            <span class="s1">x_dates</span><span class="s2">.</span><span class="s1">append</span><span class="s2">(</span><span class="s1">x_base_date</span><span class="s2">)</span>

        <span class="s1">y_base_date </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">1</span><span class="s2">)</span>
        <span class="s1">y_dates </span><span class="s2">= [</span><span class="s1">y_base_date</span><span class="s2">]</span>
        <span class="s0">for </span><span class="s1">_ </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">5</span><span class="s2">):</span>
            <span class="s1">y_base_date </span><span class="s2">+= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">randint</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">5</span><span class="s2">))</span>
            <span class="s1">y_dates</span><span class="s2">.</span><span class="s1">append</span><span class="s2">(</span><span class="s1">y_base_date</span><span class="s2">)</span>

        <span class="s1">x_values </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">rand</span><span class="s2">(</span><span class="s4">5</span><span class="s2">) * </span><span class="s4">5</span>
        <span class="s1">y_values </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">rand</span><span class="s2">(</span><span class="s4">5</span><span class="s2">) * </span><span class="s4">5 </span><span class="s2">- </span><span class="s4">2</span>

        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">fill</span><span class="s2">(</span><span class="s1">x_dates</span><span class="s2">, </span><span class="s1">y_values</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">fill</span><span class="s2">(</span><span class="s1">x_values</span><span class="s2">, </span><span class="s1">y_dates</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">fill</span><span class="s2">(</span><span class="s1">x_values</span><span class="s2">, </span><span class="s1">y_values</span><span class="s2">)</span>
        <span class="s1">ax4</span><span class="s2">.</span><span class="s1">fill</span><span class="s2">(</span><span class="s1">x_dates</span><span class="s2">, </span><span class="s1">y_dates</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_fill_between</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">&quot;concise&quot;</span>
        <span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">seed</span><span class="s2">(</span><span class="s4">19680801</span><span class="s2">)</span>

        <span class="s1">y_base_date </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">1</span><span class="s2">)</span>
        <span class="s1">y_dates1 </span><span class="s2">= [</span><span class="s1">y_base_date</span><span class="s2">]</span>
        <span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">10</span><span class="s2">):</span>
            <span class="s1">y_base_date </span><span class="s2">+= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">randint</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">5</span><span class="s2">))</span>
            <span class="s1">y_dates1</span><span class="s2">.</span><span class="s1">append</span><span class="s2">(</span><span class="s1">y_base_date</span><span class="s2">)</span>

        <span class="s1">y_dates2 </span><span class="s2">= [</span><span class="s1">y_base_date</span><span class="s2">]</span>
        <span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">10</span><span class="s2">):</span>
            <span class="s1">y_base_date </span><span class="s2">+= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">randint</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">5</span><span class="s2">))</span>
            <span class="s1">y_dates2</span><span class="s2">.</span><span class="s1">append</span><span class="s2">(</span><span class="s1">y_base_date</span><span class="s2">)</span>
        <span class="s1">x_values </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">rand</span><span class="s2">(</span><span class="s4">10</span><span class="s2">) * </span><span class="s4">10</span>
        <span class="s1">x_values</span><span class="s2">.</span><span class="s1">sort</span><span class="s2">()</span>

        <span class="s1">y_values1 </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">rand</span><span class="s2">(</span><span class="s4">10</span><span class="s2">) * </span><span class="s4">10</span>
        <span class="s1">y_values2 </span><span class="s2">= </span><span class="s1">y_values1 </span><span class="s2">+ </span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">rand</span><span class="s2">(</span><span class="s4">10</span><span class="s2">) * </span><span class="s4">10</span>
        <span class="s1">y_values1</span><span class="s2">.</span><span class="s1">sort</span><span class="s2">()</span>
        <span class="s1">y_values2</span><span class="s2">.</span><span class="s1">sort</span><span class="s2">()</span>

        <span class="s1">x_base_date </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">1</span><span class="s2">)</span>
        <span class="s1">x_dates </span><span class="s2">= [</span><span class="s1">x_base_date</span><span class="s2">]</span>
        <span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">10</span><span class="s2">):</span>
            <span class="s1">x_base_date </span><span class="s2">+= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">randint</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">10</span><span class="s2">))</span>
            <span class="s1">x_dates</span><span class="s2">.</span><span class="s1">append</span><span class="s2">(</span><span class="s1">x_base_date</span><span class="s2">)</span>

        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">3</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">&quot;constrained&quot;</span><span class="s2">)</span>

        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">fill_between</span><span class="s2">(</span><span class="s1">x_values</span><span class="s2">, </span><span class="s1">y_dates1</span><span class="s2">, </span><span class="s1">y_dates2</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">fill_between</span><span class="s2">(</span><span class="s1">x_dates</span><span class="s2">, </span><span class="s1">y_values1</span><span class="s2">, </span><span class="s1">y_values2</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">fill_between</span><span class="s2">(</span><span class="s1">x_dates</span><span class="s2">, </span><span class="s1">y_dates1</span><span class="s2">, </span><span class="s1">y_dates2</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_fill_betweenx</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">&quot;concise&quot;</span>
        <span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">seed</span><span class="s2">(</span><span class="s4">19680801</span><span class="s2">)</span>

        <span class="s1">x_base_date </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">1</span><span class="s2">)</span>
        <span class="s1">x_dates1 </span><span class="s2">= [</span><span class="s1">x_base_date</span><span class="s2">]</span>
        <span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">10</span><span class="s2">):</span>
            <span class="s1">x_base_date </span><span class="s2">+= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">randint</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">5</span><span class="s2">))</span>
            <span class="s1">x_dates1</span><span class="s2">.</span><span class="s1">append</span><span class="s2">(</span><span class="s1">x_base_date</span><span class="s2">)</span>

        <span class="s1">x_dates2 </span><span class="s2">= [</span><span class="s1">x_base_date</span><span class="s2">]</span>
        <span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">10</span><span class="s2">):</span>
            <span class="s1">x_base_date </span><span class="s2">+= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">randint</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">5</span><span class="s2">))</span>
            <span class="s1">x_dates2</span><span class="s2">.</span><span class="s1">append</span><span class="s2">(</span><span class="s1">x_base_date</span><span class="s2">)</span>
        <span class="s1">y_values </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">rand</span><span class="s2">(</span><span class="s4">10</span><span class="s2">) * </span><span class="s4">10</span>
        <span class="s1">y_values</span><span class="s2">.</span><span class="s1">sort</span><span class="s2">()</span>

        <span class="s1">x_values1 </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">rand</span><span class="s2">(</span><span class="s4">10</span><span class="s2">) * </span><span class="s4">10</span>
        <span class="s1">x_values2 </span><span class="s2">= </span><span class="s1">x_values1 </span><span class="s2">+ </span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">rand</span><span class="s2">(</span><span class="s4">10</span><span class="s2">) * </span><span class="s4">10</span>
        <span class="s1">x_values1</span><span class="s2">.</span><span class="s1">sort</span><span class="s2">()</span>
        <span class="s1">x_values2</span><span class="s2">.</span><span class="s1">sort</span><span class="s2">()</span>

        <span class="s1">y_base_date </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">1</span><span class="s2">)</span>
        <span class="s1">y_dates </span><span class="s2">= [</span><span class="s1">y_base_date</span><span class="s2">]</span>
        <span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">10</span><span class="s2">):</span>
            <span class="s1">y_base_date </span><span class="s2">+= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">randint</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">10</span><span class="s2">))</span>
            <span class="s1">y_dates</span><span class="s2">.</span><span class="s1">append</span><span class="s2">(</span><span class="s1">y_base_date</span><span class="s2">)</span>

        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">3</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">&quot;constrained&quot;</span><span class="s2">)</span>

        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">fill_betweenx</span><span class="s2">(</span><span class="s1">y_values</span><span class="s2">, </span><span class="s1">x_dates1</span><span class="s2">, </span><span class="s1">x_dates2</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">fill_betweenx</span><span class="s2">(</span><span class="s1">y_dates</span><span class="s2">, </span><span class="s1">x_values1</span><span class="s2">, </span><span class="s1">x_values2</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">fill_betweenx</span><span class="s2">(</span><span class="s1">y_dates</span><span class="s2">, </span><span class="s1">x_dates1</span><span class="s2">, </span><span class="s1">x_dates2</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for hexbin not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_hexbin</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">hexbin</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_hist</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">'concise'</span>

        <span class="s1">start_date </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s4">1</span><span class="s2">)</span>
        <span class="s1">time_delta </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s4">1</span><span class="s2">)</span>

        <span class="s1">values1 </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">randint</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s4">30</span><span class="s2">)</span>
        <span class="s1">values2 </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">randint</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s4">30</span><span class="s2">)</span>
        <span class="s1">values3 </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">randint</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s4">30</span><span class="s2">)</span>

        <span class="s1">bin_edges </span><span class="s2">= [</span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">i </span><span class="s2">* </span><span class="s1">time_delta </span><span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">31</span><span class="s2">)]</span>

        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">3</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">constrained_layout</span><span class="s2">=</span><span class="s0">True</span><span class="s2">)</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">hist</span><span class="s2">(</span>
            <span class="s2">[</span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">i </span><span class="s2">* </span><span class="s1">time_delta </span><span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">30</span><span class="s2">)],</span>
            <span class="s1">bins</span><span class="s2">=</span><span class="s4">10</span><span class="s2">,</span>
            <span class="s1">weights</span><span class="s2">=</span><span class="s1">values1</span>
        <span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">hist</span><span class="s2">(</span>
            <span class="s2">[</span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">i </span><span class="s2">* </span><span class="s1">time_delta </span><span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">30</span><span class="s2">)],</span>
            <span class="s1">bins</span><span class="s2">=</span><span class="s4">10</span><span class="s2">,</span>
            <span class="s1">weights</span><span class="s2">=</span><span class="s1">values2</span>
        <span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">hist</span><span class="s2">(</span>
            <span class="s2">[</span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">i </span><span class="s2">* </span><span class="s1">time_delta </span><span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">30</span><span class="s2">)],</span>
            <span class="s1">bins</span><span class="s2">=</span><span class="s4">10</span><span class="s2">,</span>
            <span class="s1">weights</span><span class="s2">=</span><span class="s1">values3</span>
        <span class="s2">)</span>

        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax4</span><span class="s2">, </span><span class="s1">ax5</span><span class="s2">, </span><span class="s1">ax6</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">3</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">constrained_layout</span><span class="s2">=</span><span class="s0">True</span><span class="s2">)</span>
        <span class="s1">ax4</span><span class="s2">.</span><span class="s1">hist</span><span class="s2">(</span>
            <span class="s2">[</span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">i </span><span class="s2">* </span><span class="s1">time_delta </span><span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">30</span><span class="s2">)],</span>
            <span class="s1">bins</span><span class="s2">=</span><span class="s1">bin_edges</span><span class="s2">,</span>
            <span class="s1">weights</span><span class="s2">=</span><span class="s1">values1</span>
        <span class="s2">)</span>
        <span class="s1">ax5</span><span class="s2">.</span><span class="s1">hist</span><span class="s2">(</span>
            <span class="s2">[</span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">i </span><span class="s2">* </span><span class="s1">time_delta </span><span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">30</span><span class="s2">)],</span>
            <span class="s1">bins</span><span class="s2">=</span><span class="s1">bin_edges</span><span class="s2">,</span>
            <span class="s1">weights</span><span class="s2">=</span><span class="s1">values2</span>
        <span class="s2">)</span>
        <span class="s1">ax6</span><span class="s2">.</span><span class="s1">hist</span><span class="s2">(</span>
            <span class="s2">[</span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">i </span><span class="s2">* </span><span class="s1">time_delta </span><span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">30</span><span class="s2">)],</span>
            <span class="s1">bins</span><span class="s2">=</span><span class="s1">bin_edges</span><span class="s2">,</span>
            <span class="s1">weights</span><span class="s2">=</span><span class="s1">values3</span>
        <span class="s2">)</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for hist2d not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_hist2d</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">hist2d</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_hlines</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">'concise'</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">axs </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">2</span><span class="s2">, </span><span class="s4">4</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">'constrained'</span><span class="s2">)</span>
        <span class="s1">dateStrs </span><span class="s2">= [</span><span class="s3">'2023-03-08'</span><span class="s2">,</span>
                    <span class="s3">'2023-04-09'</span><span class="s2">,</span>
                    <span class="s3">'2023-05-13'</span><span class="s2">,</span>
                    <span class="s3">'2023-07-28'</span><span class="s2">,</span>
                    <span class="s3">'2023-12-24'</span><span class="s2">]</span>
        <span class="s1">dates </span><span class="s2">= [</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s1">m</span><span class="s2">*</span><span class="s4">2</span><span class="s2">, </span><span class="s4">10</span><span class="s2">) </span><span class="s0">for </span><span class="s1">m </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">6</span><span class="s2">)]</span>
        <span class="s1">date_start </span><span class="s2">= [</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">6</span><span class="s2">, </span><span class="s1">d</span><span class="s2">) </span><span class="s0">for </span><span class="s1">d </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">5</span><span class="s2">, </span><span class="s4">30</span><span class="s2">, </span><span class="s4">5</span><span class="s2">)]</span>
        <span class="s1">date_end </span><span class="s2">= [</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">7</span><span class="s2">, </span><span class="s1">d</span><span class="s2">) </span><span class="s0">for </span><span class="s1">d </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">5</span><span class="s2">, </span><span class="s4">30</span><span class="s2">, </span><span class="s4">5</span><span class="s2">)]</span>
        <span class="s1">npDates </span><span class="s2">= [</span><span class="s1">np</span><span class="s2">.</span><span class="s1">datetime64</span><span class="s2">(</span><span class="s1">s</span><span class="s2">) </span><span class="s0">for </span><span class="s1">s </span><span class="s0">in </span><span class="s1">dateStrs</span><span class="s2">]</span>
        <span class="s1">axs</span><span class="s2">[</span><span class="s4">0</span><span class="s2">, </span><span class="s4">0</span><span class="s2">].</span><span class="s1">hlines</span><span class="s2">(</span><span class="s1">y</span><span class="s2">=</span><span class="s1">dates</span><span class="s2">,</span>
                         <span class="s1">xmin</span><span class="s2">=[</span><span class="s4">0.1</span><span class="s2">, </span><span class="s4">0.2</span><span class="s2">, </span><span class="s4">0.3</span><span class="s2">, </span><span class="s4">0.4</span><span class="s2">, </span><span class="s4">0.5</span><span class="s2">],</span>
                         <span class="s1">xmax</span><span class="s2">=[</span><span class="s4">0.5</span><span class="s2">, </span><span class="s4">0.6</span><span class="s2">, </span><span class="s4">0.7</span><span class="s2">, </span><span class="s4">0.8</span><span class="s2">, </span><span class="s4">0.9</span><span class="s2">])</span>
        <span class="s1">axs</span><span class="s2">[</span><span class="s4">0</span><span class="s2">, </span><span class="s4">1</span><span class="s2">].</span><span class="s1">hlines</span><span class="s2">(</span><span class="s1">dates</span><span class="s2">,</span>
                         <span class="s1">xmin</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">5</span><span class="s2">, </span><span class="s4">10</span><span class="s2">),</span>
                         <span class="s1">xmax</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">5</span><span class="s2">, </span><span class="s4">31</span><span class="s2">))</span>
        <span class="s1">axs</span><span class="s2">[</span><span class="s4">0</span><span class="s2">, </span><span class="s4">2</span><span class="s2">].</span><span class="s1">hlines</span><span class="s2">(</span><span class="s1">dates</span><span class="s2">,</span>
                         <span class="s1">xmin</span><span class="s2">=</span><span class="s1">date_start</span><span class="s2">,</span>
                         <span class="s1">xmax</span><span class="s2">=</span><span class="s1">date_end</span><span class="s2">)</span>
        <span class="s1">axs</span><span class="s2">[</span><span class="s4">0</span><span class="s2">, </span><span class="s4">3</span><span class="s2">].</span><span class="s1">hlines</span><span class="s2">(</span><span class="s1">dates</span><span class="s2">,</span>
                         <span class="s1">xmin</span><span class="s2">=</span><span class="s4">0.45</span><span class="s2">,</span>
                         <span class="s1">xmax</span><span class="s2">=</span><span class="s4">0.65</span><span class="s2">)</span>
        <span class="s1">axs</span><span class="s2">[</span><span class="s4">1</span><span class="s2">, </span><span class="s4">0</span><span class="s2">].</span><span class="s1">hlines</span><span class="s2">(</span><span class="s1">y</span><span class="s2">=</span><span class="s1">npDates</span><span class="s2">,</span>
                         <span class="s1">xmin</span><span class="s2">=[</span><span class="s4">0.5</span><span class="s2">, </span><span class="s4">0.6</span><span class="s2">, </span><span class="s4">0.7</span><span class="s2">, </span><span class="s4">0.8</span><span class="s2">, </span><span class="s4">0.9</span><span class="s2">],</span>
                         <span class="s1">xmax</span><span class="s2">=[</span><span class="s4">0.1</span><span class="s2">, </span><span class="s4">0.2</span><span class="s2">, </span><span class="s4">0.3</span><span class="s2">, </span><span class="s4">0.4</span><span class="s2">, </span><span class="s4">0.5</span><span class="s2">])</span>
        <span class="s1">axs</span><span class="s2">[</span><span class="s4">1</span><span class="s2">, </span><span class="s4">2</span><span class="s2">].</span><span class="s1">hlines</span><span class="s2">(</span><span class="s1">y</span><span class="s2">=</span><span class="s1">npDates</span><span class="s2">,</span>
                         <span class="s1">xmin</span><span class="s2">=</span><span class="s1">date_start</span><span class="s2">,</span>
                         <span class="s1">xmax</span><span class="s2">=</span><span class="s1">date_end</span><span class="s2">)</span>
        <span class="s1">axs</span><span class="s2">[</span><span class="s4">1</span><span class="s2">, </span><span class="s4">1</span><span class="s2">].</span><span class="s1">hlines</span><span class="s2">(</span><span class="s1">npDates</span><span class="s2">,</span>
                         <span class="s1">xmin</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">5</span><span class="s2">, </span><span class="s4">10</span><span class="s2">),</span>
                         <span class="s1">xmax</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">5</span><span class="s2">, </span><span class="s4">31</span><span class="s2">))</span>
        <span class="s1">axs</span><span class="s2">[</span><span class="s4">1</span><span class="s2">, </span><span class="s4">3</span><span class="s2">].</span><span class="s1">hlines</span><span class="s2">(</span><span class="s1">npDates</span><span class="s2">,</span>
                         <span class="s1">xmin</span><span class="s2">=</span><span class="s4">0.45</span><span class="s2">,</span>
                         <span class="s1">xmax</span><span class="s2">=</span><span class="s4">0.65</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_imshow</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">a </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">diag</span><span class="s2">(</span><span class="s1">range</span><span class="s2">(</span><span class="s4">5</span><span class="s2">))</span>
        <span class="s1">dt_start </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2010</span><span class="s2">, </span><span class="s4">11</span><span class="s2">, </span><span class="s4">1</span><span class="s2">)</span>
        <span class="s1">dt_end </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2010</span><span class="s2">, </span><span class="s4">11</span><span class="s2">, </span><span class="s4">11</span><span class="s2">)</span>
        <span class="s1">extent </span><span class="s2">= (</span><span class="s1">dt_start</span><span class="s2">, </span><span class="s1">dt_end</span><span class="s2">, </span><span class="s1">dt_start</span><span class="s2">, </span><span class="s1">dt_end</span><span class="s2">)</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">imshow</span><span class="s2">(</span><span class="s1">a</span><span class="s2">, </span><span class="s1">extent</span><span class="s2">=</span><span class="s1">extent</span><span class="s2">)</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">tick_params</span><span class="s2">(</span><span class="s1">axis</span><span class="s2">=</span><span class="s3">&quot;x&quot;</span><span class="s2">, </span><span class="s1">labelrotation</span><span class="s2">=</span><span class="s4">90</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for loglog not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_loglog</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">loglog</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_matshow</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">a </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">diag</span><span class="s2">(</span><span class="s1">range</span><span class="s2">(</span><span class="s4">5</span><span class="s2">))</span>
        <span class="s1">dt_start </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">1980</span><span class="s2">, </span><span class="s4">4</span><span class="s2">, </span><span class="s4">15</span><span class="s2">)</span>
        <span class="s1">dt_end </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020</span><span class="s2">, </span><span class="s4">11</span><span class="s2">, </span><span class="s4">11</span><span class="s2">)</span>
        <span class="s1">extent </span><span class="s2">= (</span><span class="s1">dt_start</span><span class="s2">, </span><span class="s1">dt_end</span><span class="s2">, </span><span class="s1">dt_start</span><span class="s2">, </span><span class="s1">dt_end</span><span class="s2">)</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">matshow</span><span class="s2">(</span><span class="s1">a</span><span class="s2">, </span><span class="s1">extent</span><span class="s2">=</span><span class="s1">extent</span><span class="s2">)</span>
        <span class="s0">for </span><span class="s1">label </span><span class="s0">in </span><span class="s1">ax</span><span class="s2">.</span><span class="s1">get_xticklabels</span><span class="s2">():</span>
            <span class="s1">label</span><span class="s2">.</span><span class="s1">set_rotation</span><span class="s2">(</span><span class="s4">90</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for pcolor not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_pcolor</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">pcolor</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for pcolorfast not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_pcolorfast</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">pcolorfast</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for pcolormesh not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_pcolormesh</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">pcolormesh</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_plot</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">'concise'</span>
        <span class="s1">N </span><span class="s2">= </span><span class="s4">6</span>
        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">3</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">'constrained'</span><span class="s2">)</span>
        <span class="s1">x </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">([</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">9</span><span class="s2">, </span><span class="s1">n</span><span class="s2">) </span><span class="s0">for </span><span class="s1">n </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">N</span><span class="s2">)])</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">plot</span><span class="s2">(</span><span class="s1">x</span><span class="s2">, </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">N</span><span class="s2">))</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">plot</span><span class="s2">(</span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">N</span><span class="s2">), </span><span class="s1">x</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">plot</span><span class="s2">(</span><span class="s1">x</span><span class="s2">, </span><span class="s1">x</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_plot_date</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">&quot;concise&quot;</span>
        <span class="s1">range_threshold </span><span class="s2">= </span><span class="s4">10</span>
        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">3</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">&quot;constrained&quot;</span><span class="s2">)</span>

        <span class="s1">x_dates </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">(</span>
            <span class="s2">[</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s1">delta</span><span class="s2">) </span><span class="s0">for </span><span class="s1">delta </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">range_threshold</span><span class="s2">)]</span>
        <span class="s2">)</span>
        <span class="s1">y_dates </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">(</span>
            <span class="s2">[</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s1">delta</span><span class="s2">) </span><span class="s0">for </span><span class="s1">delta </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">range_threshold</span><span class="s2">)]</span>
        <span class="s2">)</span>
        <span class="s1">x_ranges </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">(</span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">range_threshold</span><span class="s2">))</span>
        <span class="s1">y_ranges </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">(</span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">range_threshold</span><span class="s2">))</span>

        <span class="s0">with </span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">warns</span><span class="s2">(</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">MatplotlibDeprecationWarning</span><span class="s2">):</span>
            <span class="s1">ax1</span><span class="s2">.</span><span class="s1">plot_date</span><span class="s2">(</span><span class="s1">x_dates</span><span class="s2">, </span><span class="s1">y_dates</span><span class="s2">)</span>
            <span class="s1">ax2</span><span class="s2">.</span><span class="s1">plot_date</span><span class="s2">(</span><span class="s1">x_dates</span><span class="s2">, </span><span class="s1">y_ranges</span><span class="s2">)</span>
            <span class="s1">ax3</span><span class="s2">.</span><span class="s1">plot_date</span><span class="s2">(</span><span class="s1">x_ranges</span><span class="s2">, </span><span class="s1">y_dates</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for quiver not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_quiver</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">quiver</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_scatter</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">'concise'</span>
        <span class="s1">base </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2005</span><span class="s2">, </span><span class="s4">2</span><span class="s2">, </span><span class="s4">1</span><span class="s2">)</span>
        <span class="s1">dates </span><span class="s2">= [</span><span class="s1">base </span><span class="s2">+ </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">hours</span><span class="s2">=(</span><span class="s4">2 </span><span class="s2">* </span><span class="s1">i</span><span class="s2">)) </span><span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">10</span><span class="s2">)]</span>
        <span class="s1">N </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">dates</span><span class="s2">)</span>
        <span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">seed</span><span class="s2">(</span><span class="s4">19680801</span><span class="s2">)</span>
        <span class="s1">y </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">cumsum</span><span class="s2">(</span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">randn</span><span class="s2">(</span><span class="s1">N</span><span class="s2">))</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">axs </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">3</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">'constrained'</span><span class="s2">, </span><span class="s1">figsize</span><span class="s2">=(</span><span class="s4">6</span><span class="s2">, </span><span class="s4">6</span><span class="s2">))</span>
        <span class="s5"># datetime array on x axis</span>
        <span class="s1">axs</span><span class="s2">[</span><span class="s4">0</span><span class="s2">].</span><span class="s1">scatter</span><span class="s2">(</span><span class="s1">dates</span><span class="s2">, </span><span class="s1">y</span><span class="s2">)</span>
        <span class="s0">for </span><span class="s1">label </span><span class="s0">in </span><span class="s1">axs</span><span class="s2">[</span><span class="s4">0</span><span class="s2">].</span><span class="s1">get_xticklabels</span><span class="s2">():</span>
            <span class="s1">label</span><span class="s2">.</span><span class="s1">set_rotation</span><span class="s2">(</span><span class="s4">40</span><span class="s2">)</span>
            <span class="s1">label</span><span class="s2">.</span><span class="s1">set_horizontalalignment</span><span class="s2">(</span><span class="s3">'right'</span><span class="s2">)</span>
        <span class="s5"># datetime on y axis</span>
        <span class="s1">axs</span><span class="s2">[</span><span class="s4">1</span><span class="s2">].</span><span class="s1">scatter</span><span class="s2">(</span><span class="s1">y</span><span class="s2">, </span><span class="s1">dates</span><span class="s2">)</span>
        <span class="s5"># datetime on both x, y axes</span>
        <span class="s1">axs</span><span class="s2">[</span><span class="s4">2</span><span class="s2">].</span><span class="s1">scatter</span><span class="s2">(</span><span class="s1">dates</span><span class="s2">, </span><span class="s1">dates</span><span class="s2">)</span>
        <span class="s0">for </span><span class="s1">label </span><span class="s0">in </span><span class="s1">axs</span><span class="s2">[</span><span class="s4">2</span><span class="s2">].</span><span class="s1">get_xticklabels</span><span class="s2">():</span>
            <span class="s1">label</span><span class="s2">.</span><span class="s1">set_rotation</span><span class="s2">(</span><span class="s4">40</span><span class="s2">)</span>
            <span class="s1">label</span><span class="s2">.</span><span class="s1">set_horizontalalignment</span><span class="s2">(</span><span class="s3">'right'</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for semilogx not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_semilogx</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">semilogx</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for semilogy not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_semilogy</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">semilogy</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_stackplot</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">'concise'</span>
        <span class="s1">N </span><span class="s2">= </span><span class="s4">10</span>
        <span class="s1">stacked_nums </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">tile</span><span class="s2">(</span><span class="s1">np</span><span class="s2">.</span><span class="s1">arange</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">N</span><span class="s2">), (</span><span class="s4">4</span><span class="s2">, </span><span class="s4">1</span><span class="s2">))</span>
        <span class="s1">dates </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">([</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2020 </span><span class="s2">+ </span><span class="s1">i</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">1</span><span class="s2">) </span><span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s1">N </span><span class="s2">- </span><span class="s4">1</span><span class="s2">)])</span>

        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s1">layout</span><span class="s2">=</span><span class="s3">'constrained'</span><span class="s2">)</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">stackplot</span><span class="s2">(</span><span class="s1">dates</span><span class="s2">, </span><span class="s1">stacked_nums</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_stairs</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">'concise'</span>

        <span class="s1">start_date </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">12</span><span class="s2">, </span><span class="s4">1</span><span class="s2">)</span>
        <span class="s1">time_delta </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s4">1</span><span class="s2">)</span>
        <span class="s1">baseline_date </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">1980</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">1</span><span class="s2">)</span>

        <span class="s1">bin_edges </span><span class="s2">= [</span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">i </span><span class="s2">* </span><span class="s1">time_delta </span><span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">31</span><span class="s2">)]</span>
        <span class="s1">edge_int </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">arange</span><span class="s2">(</span><span class="s4">31</span><span class="s2">)</span>
        <span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">seed</span><span class="s2">(</span><span class="s4">123456</span><span class="s2">)</span>
        <span class="s1">values1 </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">randint</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">100</span><span class="s2">, </span><span class="s4">30</span><span class="s2">)</span>
        <span class="s1">values2 </span><span class="s2">= [</span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s1">int</span><span class="s2">(</span><span class="s1">i</span><span class="s2">))</span>
                   <span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">randint</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s4">10000</span><span class="s2">, </span><span class="s4">30</span><span class="s2">)]</span>
        <span class="s1">values3 </span><span class="s2">= [</span><span class="s1">start_date </span><span class="s2">+ </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">timedelta</span><span class="s2">(</span><span class="s1">days</span><span class="s2">=</span><span class="s1">int</span><span class="s2">(</span><span class="s1">i</span><span class="s2">))</span>
                   <span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">np</span><span class="s2">.</span><span class="s1">random</span><span class="s2">.</span><span class="s1">randint</span><span class="s2">(-</span><span class="s4">10000</span><span class="s2">, </span><span class="s4">10000</span><span class="s2">, </span><span class="s4">30</span><span class="s2">)]</span>

        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">3</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">constrained_layout</span><span class="s2">=</span><span class="s0">True</span><span class="s2">)</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">stairs</span><span class="s2">(</span><span class="s1">values1</span><span class="s2">, </span><span class="s1">edges</span><span class="s2">=</span><span class="s1">bin_edges</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">stairs</span><span class="s2">(</span><span class="s1">values2</span><span class="s2">, </span><span class="s1">edges</span><span class="s2">=</span><span class="s1">edge_int</span><span class="s2">, </span><span class="s1">baseline</span><span class="s2">=</span><span class="s1">baseline_date</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">stairs</span><span class="s2">(</span><span class="s1">values3</span><span class="s2">, </span><span class="s1">edges</span><span class="s2">=</span><span class="s1">bin_edges</span><span class="s2">, </span><span class="s1">baseline</span><span class="s2">=</span><span class="s1">baseline_date</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_stem</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">&quot;concise&quot;</span>

        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">, </span><span class="s1">ax4</span><span class="s2">, </span><span class="s1">ax5</span><span class="s2">, </span><span class="s1">ax6</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">6</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">&quot;constrained&quot;</span><span class="s2">)</span>

        <span class="s1">limit_value </span><span class="s2">= </span><span class="s4">10</span>
        <span class="s1">above </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">9</span><span class="s2">, </span><span class="s4">18</span><span class="s2">)</span>
        <span class="s1">below </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">11</span><span class="s2">, </span><span class="s4">18</span><span class="s2">)</span>

        <span class="s1">x_ranges </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">arange</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">limit_value</span><span class="s2">)</span>
        <span class="s1">y_ranges </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">arange</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">limit_value</span><span class="s2">)</span>

        <span class="s1">x_dates </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">(</span>
            <span class="s2">[</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s1">n</span><span class="s2">) </span><span class="s0">for </span><span class="s1">n </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">limit_value</span><span class="s2">)]</span>
        <span class="s2">)</span>
        <span class="s1">y_dates </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">(</span>
            <span class="s2">[</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s1">n</span><span class="s2">) </span><span class="s0">for </span><span class="s1">n </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">limit_value</span><span class="s2">)]</span>
        <span class="s2">)</span>

        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">stem</span><span class="s2">(</span><span class="s1">x_dates</span><span class="s2">, </span><span class="s1">y_dates</span><span class="s2">, </span><span class="s1">bottom</span><span class="s2">=</span><span class="s1">above</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">stem</span><span class="s2">(</span><span class="s1">x_dates</span><span class="s2">, </span><span class="s1">y_ranges</span><span class="s2">, </span><span class="s1">bottom</span><span class="s2">=</span><span class="s4">5</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">stem</span><span class="s2">(</span><span class="s1">x_ranges</span><span class="s2">, </span><span class="s1">y_dates</span><span class="s2">, </span><span class="s1">bottom</span><span class="s2">=</span><span class="s1">below</span><span class="s2">)</span>

        <span class="s1">ax4</span><span class="s2">.</span><span class="s1">stem</span><span class="s2">(</span><span class="s1">x_ranges</span><span class="s2">, </span><span class="s1">y_dates</span><span class="s2">, </span><span class="s1">orientation</span><span class="s2">=</span><span class="s3">&quot;horizontal&quot;</span><span class="s2">, </span><span class="s1">bottom</span><span class="s2">=</span><span class="s1">above</span><span class="s2">)</span>
        <span class="s1">ax5</span><span class="s2">.</span><span class="s1">stem</span><span class="s2">(</span><span class="s1">x_dates</span><span class="s2">, </span><span class="s1">y_ranges</span><span class="s2">, </span><span class="s1">orientation</span><span class="s2">=</span><span class="s3">&quot;horizontal&quot;</span><span class="s2">, </span><span class="s1">bottom</span><span class="s2">=</span><span class="s4">5</span><span class="s2">)</span>
        <span class="s1">ax6</span><span class="s2">.</span><span class="s1">stem</span><span class="s2">(</span><span class="s1">x_ranges</span><span class="s2">, </span><span class="s1">y_dates</span><span class="s2">, </span><span class="s1">orientation</span><span class="s2">=</span><span class="s3">&quot;horizontal&quot;</span><span class="s2">, </span><span class="s1">bottom</span><span class="s2">=</span><span class="s1">below</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_step</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">&quot;concise&quot;</span>
        <span class="s1">N </span><span class="s2">= </span><span class="s4">6</span>
        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">3</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">'constrained'</span><span class="s2">)</span>
        <span class="s1">x </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">([</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">9</span><span class="s2">, </span><span class="s1">n</span><span class="s2">) </span><span class="s0">for </span><span class="s1">n </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">N</span><span class="s2">)])</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">step</span><span class="s2">(</span><span class="s1">x</span><span class="s2">, </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">N</span><span class="s2">))</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">step</span><span class="s2">(</span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">N</span><span class="s2">), </span><span class="s1">x</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">step</span><span class="s2">(</span><span class="s1">x</span><span class="s2">, </span><span class="s1">x</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for streamplot not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_streamplot</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">streamplot</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_text</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">'concise'</span>
        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">3</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">&quot;constrained&quot;</span><span class="s2">)</span>

        <span class="s1">limit_value </span><span class="s2">= </span><span class="s4">10</span>
        <span class="s1">font_properties </span><span class="s2">= {</span><span class="s3">'family'</span><span class="s2">: </span><span class="s3">'serif'</span><span class="s2">, </span><span class="s3">'size'</span><span class="s2">: </span><span class="s4">12</span><span class="s2">, </span><span class="s3">'weight'</span><span class="s2">: </span><span class="s3">'bold'</span><span class="s2">}</span>
        <span class="s1">test_date </span><span class="s2">= </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s4">1</span><span class="s2">)</span>

        <span class="s1">x_data </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">(</span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">limit_value</span><span class="s2">))</span>
        <span class="s1">y_data </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">(</span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">limit_value</span><span class="s2">))</span>

        <span class="s1">x_dates </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">(</span>
            <span class="s2">[</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s1">n</span><span class="s2">) </span><span class="s0">for </span><span class="s1">n </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">limit_value</span><span class="s2">)]</span>
        <span class="s2">)</span>
        <span class="s1">y_dates </span><span class="s2">= </span><span class="s1">np</span><span class="s2">.</span><span class="s1">array</span><span class="s2">(</span>
            <span class="s2">[</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s1">n</span><span class="s2">) </span><span class="s0">for </span><span class="s1">n </span><span class="s0">in </span><span class="s1">range</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">limit_value</span><span class="s2">)]</span>
        <span class="s2">)</span>

        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">plot</span><span class="s2">(</span><span class="s1">x_dates</span><span class="s2">, </span><span class="s1">y_data</span><span class="s2">)</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">text</span><span class="s2">(</span><span class="s1">test_date</span><span class="s2">, </span><span class="s4">5</span><span class="s2">, </span><span class="s3">&quot;Inserted Text&quot;</span><span class="s2">, **</span><span class="s1">font_properties</span><span class="s2">)</span>

        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">plot</span><span class="s2">(</span><span class="s1">x_data</span><span class="s2">, </span><span class="s1">y_dates</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">text</span><span class="s2">(</span><span class="s4">7</span><span class="s2">, </span><span class="s1">test_date</span><span class="s2">, </span><span class="s3">&quot;Inserted Text&quot;</span><span class="s2">, **</span><span class="s1">font_properties</span><span class="s2">)</span>

        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">plot</span><span class="s2">(</span><span class="s1">x_dates</span><span class="s2">, </span><span class="s1">y_dates</span><span class="s2">)</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">text</span><span class="s2">(</span><span class="s1">test_date</span><span class="s2">, </span><span class="s1">test_date</span><span class="s2">, </span><span class="s3">&quot;Inserted Text&quot;</span><span class="s2">, **</span><span class="s1">font_properties</span><span class="s2">)</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for tricontour not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_tricontour</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">tricontour</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for tricontourf not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_tricontourf</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">tricontourf</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for tripcolor not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_tripcolor</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">tripcolor</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for triplot not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_triplot</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">triplot</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for violin not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_violin</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">violin</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">pytest</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">.</span><span class="s1">xfail</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">=</span><span class="s3">&quot;Test for violinplot not written yet&quot;</span><span class="s2">)</span>
    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_violinplot</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">fig</span><span class="s2">, </span><span class="s1">ax </span><span class="s2">= </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">()</span>
        <span class="s1">ax</span><span class="s2">.</span><span class="s1">violinplot</span><span class="s2">(...)</span>

    <span class="s2">@</span><span class="s1">mpl</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">context</span><span class="s2">(</span><span class="s3">&quot;default&quot;</span><span class="s2">)</span>
    <span class="s0">def </span><span class="s1">test_vlines</span><span class="s2">(</span><span class="s1">self</span><span class="s2">):</span>
        <span class="s1">mpl</span><span class="s2">.</span><span class="s1">rcParams</span><span class="s2">[</span><span class="s3">&quot;date.converter&quot;</span><span class="s2">] = </span><span class="s3">'concise'</span>
        <span class="s1">fig</span><span class="s2">, (</span><span class="s1">ax1</span><span class="s2">, </span><span class="s1">ax2</span><span class="s2">, </span><span class="s1">ax3</span><span class="s2">) = </span><span class="s1">plt</span><span class="s2">.</span><span class="s1">subplots</span><span class="s2">(</span><span class="s4">3</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s1">layout</span><span class="s2">=</span><span class="s3">'constrained'</span><span class="s2">)</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">set_xlim</span><span class="s2">(</span><span class="s1">left</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">1</span><span class="s2">),</span>
                     <span class="s1">right</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">6</span><span class="s2">, </span><span class="s4">30</span><span class="s2">))</span>
        <span class="s1">ax1</span><span class="s2">.</span><span class="s1">vlines</span><span class="s2">(</span><span class="s1">x</span><span class="s2">=[</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">2</span><span class="s2">, </span><span class="s4">10</span><span class="s2">),</span>
                      <span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">5</span><span class="s2">, </span><span class="s4">18</span><span class="s2">),</span>
                      <span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">6</span><span class="s2">, </span><span class="s4">6</span><span class="s2">)],</span>
                   <span class="s1">ymin</span><span class="s2">=[</span><span class="s4">0</span><span class="s2">, </span><span class="s4">0.25</span><span class="s2">, </span><span class="s4">0.5</span><span class="s2">],</span>
                   <span class="s1">ymax</span><span class="s2">=[</span><span class="s4">0.25</span><span class="s2">, </span><span class="s4">0.5</span><span class="s2">, </span><span class="s4">0.75</span><span class="s2">])</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">set_xlim</span><span class="s2">(</span><span class="s1">left</span><span class="s2">=</span><span class="s4">0</span><span class="s2">,</span>
                     <span class="s1">right</span><span class="s2">=</span><span class="s4">0.5</span><span class="s2">)</span>
        <span class="s1">ax2</span><span class="s2">.</span><span class="s1">vlines</span><span class="s2">(</span><span class="s1">x</span><span class="s2">=[</span><span class="s4">0.3</span><span class="s2">, </span><span class="s4">0.35</span><span class="s2">],</span>
                   <span class="s1">ymin</span><span class="s2">=[</span><span class="s1">np</span><span class="s2">.</span><span class="s1">datetime64</span><span class="s2">(</span><span class="s3">'2023-03-20'</span><span class="s2">), </span><span class="s1">np</span><span class="s2">.</span><span class="s1">datetime64</span><span class="s2">(</span><span class="s3">'2023-03-31'</span><span class="s2">)],</span>
                   <span class="s1">ymax</span><span class="s2">=[</span><span class="s1">np</span><span class="s2">.</span><span class="s1">datetime64</span><span class="s2">(</span><span class="s3">'2023-05-01'</span><span class="s2">), </span><span class="s1">np</span><span class="s2">.</span><span class="s1">datetime64</span><span class="s2">(</span><span class="s3">'2023-05-16'</span><span class="s2">)])</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">set_xlim</span><span class="s2">(</span><span class="s1">left</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">7</span><span class="s2">, </span><span class="s4">1</span><span class="s2">),</span>
                     <span class="s1">right</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">12</span><span class="s2">, </span><span class="s4">31</span><span class="s2">))</span>
        <span class="s1">ax3</span><span class="s2">.</span><span class="s1">vlines</span><span class="s2">(</span><span class="s1">x</span><span class="s2">=[</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">9</span><span class="s2">, </span><span class="s4">1</span><span class="s2">), </span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">12</span><span class="s2">, </span><span class="s4">10</span><span class="s2">)],</span>
                   <span class="s1">ymin</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">15</span><span class="s2">),</span>
                   <span class="s1">ymax</span><span class="s2">=</span><span class="s1">datetime</span><span class="s2">.</span><span class="s1">datetime</span><span class="s2">(</span><span class="s4">2023</span><span class="s2">, </span><span class="s4">1</span><span class="s2">, </span><span class="s4">30</span><span class="s2">))</span>
</pre>
</body>
</html>